(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function tR(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Wm={exports:{}},yu={};var HE;function nR(){if(HE)return yu;HE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return yu.Fragment=e,yu.jsx=t,yu.jsxs=t,yu}var qE;function iR(){return qE||(qE=1,Wm.exports=nR()),Wm.exports}var ee=iR(),Zm={exports:{}},Ve={};var GE;function rR(){if(GE)return Ve;GE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function D(L){return L===null||typeof L!="object"?null:(L=A&&L[A]||L["@@iterator"],typeof L=="function"?L:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,j={};function ae(L,ie,pe){this.props=L,this.context=ie,this.refs=j,this.updater=pe||K}ae.prototype.isReactComponent={},ae.prototype.setState=function(L,ie){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ie,"setState")},ae.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=ae.prototype;function oe(L,ie,pe){this.props=L,this.context=ie,this.refs=j,this.updater=pe||K}var re=oe.prototype=new Q;re.constructor=oe,G(re,ae.prototype),re.isPureReactComponent=!0;var W=Array.isArray;function ne(){}var w={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(L,ie,pe){var ge=pe.ref;return{$$typeof:i,type:L,key:ie,ref:ge!==void 0?ge:null,props:pe}}function M(L,ie){return I(L.type,ie,L.props)}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function x(L){var ie={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return ie[pe]})}var C=/\/+/g;function Oe(L,ie){return typeof L=="object"&&L!==null&&L.key!=null?x(""+L.key):ie.toString(36)}function Fe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ne,ne):(L.status="pending",L.then(function(ie){L.status==="pending"&&(L.status="fulfilled",L.value=ie)},function(ie){L.status==="pending"&&(L.status="rejected",L.reason=ie)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function X(L,ie,pe,ge,De){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var He=!1;if(L===null)He=!0;else switch(xe){case"bigint":case"string":case"number":He=!0;break;case"object":switch(L.$$typeof){case i:case e:He=!0;break;case E:return He=L._init,X(He(L._payload),ie,pe,ge,De)}}if(He)return De=De(L),He=ge===""?"."+Oe(L,0):ge,W(De)?(pe="",He!=null&&(pe=He.replace(C,"$&/")+"/"),X(De,ie,pe,"",function(yi){return yi})):De!=null&&(V(De)&&(De=M(De,pe+(De.key==null||L&&L.key===De.key?"":(""+De.key).replace(C,"$&/")+"/")+He)),ie.push(De)),1;He=0;var St=ge===""?".":ge+":";if(W(L))for(var ft=0;ft<L.length;ft++)ge=L[ft],xe=St+Oe(ge,ft),He+=X(ge,ie,pe,xe,De);else if(ft=D(L),typeof ft=="function")for(L=ft.call(L),ft=0;!(ge=L.next()).done;)ge=ge.value,xe=St+Oe(ge,ft++),He+=X(ge,ie,pe,xe,De);else if(xe==="object"){if(typeof L.then=="function")return X(Fe(L),ie,pe,ge,De);throw ie=String(L),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return He}function he(L,ie,pe){if(L==null)return L;var ge=[],De=0;return X(L,ge,"","",function(xe){return ie.call(pe,xe,De++)}),ge}function Ae(L){if(L._status===-1){var ie=L._result;ie=ie(),ie.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=ie)}if(L._status===1)return L._result.default;throw L._result}var Ue=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},$e={map:he,forEach:function(L,ie,pe){he(L,function(){ie.apply(this,arguments)},pe)},count:function(L){var ie=0;return he(L,function(){ie++}),ie},toArray:function(L){return he(L,function(ie){return ie})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ve.Activity=T,Ve.Children=$e,Ve.Component=ae,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=oe,Ve.StrictMode=s,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(L){return w.H.useMemoCache(L)}},Ve.cache=function(L){return function(){return L.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(L,ie,pe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ge=G({},L.props),De=L.key;if(ie!=null)for(xe in ie.key!==void 0&&(De=""+ie.key),ie)!R.call(ie,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ie.ref===void 0||(ge[xe]=ie[xe]);var xe=arguments.length-2;if(xe===1)ge.children=pe;else if(1<xe){for(var He=Array(xe),St=0;St<xe;St++)He[St]=arguments[St+2];ge.children=He}return I(L.type,De,ge)},Ve.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Ve.createElement=function(L,ie,pe){var ge,De={},xe=null;if(ie!=null)for(ge in ie.key!==void 0&&(xe=""+ie.key),ie)R.call(ie,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(De[ge]=ie[ge]);var He=arguments.length-2;if(He===1)De.children=pe;else if(1<He){for(var St=Array(He),ft=0;ft<He;ft++)St[ft]=arguments[ft+2];De.children=St}if(L&&L.defaultProps)for(ge in He=L.defaultProps,He)De[ge]===void 0&&(De[ge]=He[ge]);return I(L,xe,De)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(L){return{$$typeof:m,render:L}},Ve.isValidElement=V,Ve.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:Ae}},Ve.memo=function(L,ie){return{$$typeof:g,type:L,compare:ie===void 0?null:ie}},Ve.startTransition=function(L){var ie=w.T,pe={};w.T=pe;try{var ge=L(),De=w.S;De!==null&&De(pe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(ne,Ue)}catch(xe){Ue(xe)}finally{ie!==null&&pe.types!==null&&(ie.types=pe.types),w.T=ie}},Ve.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Ve.use=function(L){return w.H.use(L)},Ve.useActionState=function(L,ie,pe){return w.H.useActionState(L,ie,pe)},Ve.useCallback=function(L,ie){return w.H.useCallback(L,ie)},Ve.useContext=function(L){return w.H.useContext(L)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(L,ie){return w.H.useDeferredValue(L,ie)},Ve.useEffect=function(L,ie){return w.H.useEffect(L,ie)},Ve.useEffectEvent=function(L){return w.H.useEffectEvent(L)},Ve.useId=function(){return w.H.useId()},Ve.useImperativeHandle=function(L,ie,pe){return w.H.useImperativeHandle(L,ie,pe)},Ve.useInsertionEffect=function(L,ie){return w.H.useInsertionEffect(L,ie)},Ve.useLayoutEffect=function(L,ie){return w.H.useLayoutEffect(L,ie)},Ve.useMemo=function(L,ie){return w.H.useMemo(L,ie)},Ve.useOptimistic=function(L,ie){return w.H.useOptimistic(L,ie)},Ve.useReducer=function(L,ie,pe){return w.H.useReducer(L,ie,pe)},Ve.useRef=function(L){return w.H.useRef(L)},Ve.useState=function(L){return w.H.useState(L)},Ve.useSyncExternalStore=function(L,ie,pe){return w.H.useSyncExternalStore(L,ie,pe)},Ve.useTransition=function(){return w.H.useTransition()},Ve.version="19.2.3",Ve}var KE;function cg(){return KE||(KE=1,Zm.exports=rR()),Zm.exports}var U=cg();const tt=tR(U);var ep={exports:{}},_u={},tp={exports:{}},np={};var YE;function sR(){return YE||(YE=1,(function(i){function e(X,he){var Ae=X.length;X.push(he);e:for(;0<Ae;){var Ue=Ae-1>>>1,$e=X[Ue];if(0<o($e,he))X[Ue]=he,X[Ae]=$e,Ae=Ue;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var he=X[0],Ae=X.pop();if(Ae!==he){X[0]=Ae;e:for(var Ue=0,$e=X.length,L=$e>>>1;Ue<L;){var ie=2*(Ue+1)-1,pe=X[ie],ge=ie+1,De=X[ge];if(0>o(pe,Ae))ge<$e&&0>o(De,pe)?(X[Ue]=De,X[ge]=Ae,Ue=ge):(X[Ue]=pe,X[ie]=Ae,Ue=ie);else if(ge<$e&&0>o(De,Ae))X[Ue]=De,X[ge]=Ae,Ue=ge;else break e}}return he}function o(X,he){var Ae=X.sortIndex-he.sortIndex;return Ae!==0?Ae:X.id-he.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],E=1,T=null,A=3,D=!1,K=!1,G=!1,j=!1,ae=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function re(X){for(var he=t(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=X)s(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(g)}}function W(X){if(G=!1,re(X),!K)if(t(p)!==null)K=!0,ne||(ne=!0,x());else{var he=t(g);he!==null&&Fe(W,he.startTime-X)}}var ne=!1,w=-1,R=5,I=-1;function M(){return j?!0:!(i.unstable_now()-I<R)}function V(){if(j=!1,ne){var X=i.unstable_now();I=X;var he=!0;try{e:{K=!1,G&&(G=!1,Q(w),w=-1),D=!0;var Ae=A;try{t:{for(re(X),T=t(p);T!==null&&!(T.expirationTime>X&&M());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,A=T.priorityLevel;var $e=Ue(T.expirationTime<=X);if(X=i.unstable_now(),typeof $e=="function"){T.callback=$e,re(X),he=!0;break t}T===t(p)&&s(p),re(X)}else s(p);T=t(p)}if(T!==null)he=!0;else{var L=t(g);L!==null&&Fe(W,L.startTime-X),he=!1}}break e}finally{T=null,A=Ae,D=!1}he=void 0}}finally{he?x():ne=!1}}}var x;if(typeof oe=="function")x=function(){oe(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Oe=C.port2;C.port1.onmessage=V,x=function(){Oe.postMessage(null)}}else x=function(){ae(V,0)};function Fe(X,he){w=ae(function(){X(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(X){switch(A){case 1:case 2:case 3:var he=3;break;default:he=A}var Ae=A;A=he;try{return X()}finally{A=Ae}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Ae=A;A=X;try{return he()}finally{A=Ae}},i.unstable_scheduleCallback=function(X,he,Ae){var Ue=i.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Ue+Ae:Ue):Ae=Ue,X){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=Ae+$e,X={id:E++,callback:he,priorityLevel:X,startTime:Ae,expirationTime:$e,sortIndex:-1},Ae>Ue?(X.sortIndex=Ae,e(g,X),t(p)===null&&X===t(g)&&(G?(Q(w),w=-1):G=!0,Fe(W,Ae-Ue))):(X.sortIndex=$e,e(p,X),K||D||(K=!0,ne||(ne=!0,x()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var he=A;return function(){var Ae=A;A=he;try{return X.apply(this,arguments)}finally{A=Ae}}}})(np)),np}var QE;function aR(){return QE||(QE=1,tp.exports=sR()),tp.exports}var ip={exports:{}},yn={};var $E;function oR(){if($E)return yn;$E=1;var i=cg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,yn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},yn.flushSync=function(p){var g=c.T,E=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=E,s.d.f()}},yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},yn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},yn.requestFormReset=function(p){s.d.r(p)},yn.unstable_batchedUpdates=function(p,g){return p(g)},yn.useFormState=function(p,g,E){return c.H.useFormState(p,g,E)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var XE;function lR(){if(XE)return ip.exports;XE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ip.exports=oR(),ip.exports}var JE;function uR(){if(JE)return _u;JE=1;var i=aR(),e=cg(),t=lR();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function E(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=E(n),r!==null)return r;n=n.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function x(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Oe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case G:return"Fragment";case ae:return"Profiler";case j:return"StrictMode";case W:return"Suspense";case ne:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case K:return"Portal";case oe:return n.displayName||"Context";case Q:return(n._context.displayName||"Context")+".Consumer";case re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case w:return r=n.displayName||null,r!==null?r:Oe(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return Oe(n(r))}catch{}}return null}var Fe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},Ue=[],$e=-1;function L(n){return{current:n}}function ie(n){0>$e||(n.current=Ue[$e],Ue[$e]=null,$e--)}function pe(n,r){$e++,Ue[$e]=n.current,n.current=r}var ge=L(null),De=L(null),xe=L(null),He=L(null);function St(n,r){switch(pe(xe,r),pe(De,n),pe(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?fE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=fE(r),n=dE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(ge),pe(ge,n)}function ft(){ie(ge),ie(De),ie(xe)}function yi(n){n.memoizedState!==null&&pe(He,n);var r=ge.current,a=dE(r,n.type);r!==a&&(pe(De,n),pe(ge,a))}function ki(n){De.current===n&&(ie(ge),ie(De)),He.current===n&&(ie(He),du._currentValue=Ae)}var Xr,yr;function Zn(n){if(Xr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Xr=r&&r[1]||"",yr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+n+yr}var Jr=!1;function Li(n,r){if(!n||Jr)return"";Jr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch($){var q=$}Reflect.construct(n,[],se)}else{try{se.call()}catch($){q=$}n.call(se.prototype)}}else{try{throw Error()}catch($){q=$}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),H=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var Z=`
`+N[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Jr=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Zn(a):""}function sa(n,r){switch(n.tag){case 26:case 27:case 5:return Zn(n.type);case 16:return Zn("Lazy");case 13:return n.child!==r&&r!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Li(n.type,!1);case 11:return Li(n.type.render,!1);case 1:return Li(n.type,!0);case 31:return Zn("Activity");default:return""}}function aa(n){try{var r="",a=null;do r+=sa(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Ct=i.unstable_scheduleCallback,O=i.unstable_cancelCallback,F=i.unstable_shouldYield,J=i.unstable_requestPaint,de=i.unstable_now,fe=i.unstable_getCurrentPriorityLevel,ce=i.unstable_ImmediatePriority,be=i.unstable_UserBlockingPriority,ze=i.unstable_NormalPriority,We=i.unstable_LowPriority,zt=i.unstable_IdlePriority,ei=i.log,Un=i.unstable_setDisableYieldValue,zn=null,Vt=null;function gn(n){if(typeof ei=="function"&&Un(n),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(zn,n)}catch{}}var wt=Math.clz32?Math.clz32:la,oa=Math.log,Wr=Math.LN2;function la(n){return n>>>=0,n===0?32:31-(oa(n)/Wr|0)|0}var Pi=256,ua=262144,Bt=4194304;function Ui(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function zi(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Ui(l):(_&=b,_!==0?f=Ui(_):a||(a=b&~n,a!==0&&(f=Ui(a))))):(b=l&~d,b!==0?f=Ui(b):_!==0?f=Ui(_):a||(a=l&~n,a!==0&&(f=Ui(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function _i(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function nd(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var n=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),n}function Bi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ca(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function id(n,r,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,H=n.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-wt(a),se=1<<Z;b[Z]=0,N[Z]=-1;var q=H[Z];if(q!==null)for(H[Z]=null,Z=0;Z<q.length;Z++){var $=q[Z];$!==null&&($.lane&=-536870913)}a&=~se}l!==0&&ha(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~r))}function ha(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-wt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function _l(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-wt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function vl(n,r){var a=r&-r;return a=(a&42)!==0?1:fa(a),(a&(n.suspendedLanes|r))!==0?0:a}function fa(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _r(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cc(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:LE(n.type))}function vi(n,r){var a=he.p;try{return he.p=n,r()}finally{he.p=a}}var Ei=Math.random().toString(36).slice(2),jt="__reactFiber$"+Ei,rn="__reactProps$"+Ei,ji="__reactContainer$"+Ei,Wa="__reactEvents$"+Ei,rd="__reactListeners$"+Ei,hc="__reactHandles$"+Ei,fc="__reactResources$"+Ei,Fi="__reactMarker$"+Ei;function Za(n){delete n[jt],delete n[rn],delete n[Wa],delete n[rd],delete n[hc]}function Hi(n){var r=n[jt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[ji]||a[jt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=EE(n);n!==null;){if(a=n[jt])return a;n=EE(n)}return r}n=a,a=n.parentNode}return null}function ti(n){if(n=n[jt]||n[ji]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Bn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function qi(n){var r=n[fc];return r||(r=n[fc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ft(n){n[Fi]=!0}var El=new Set,Tl={};function Gi(n,r){Ki(n,r),Ki(n+"Capture",r)}function Ki(n,r){for(Tl[n]=r,n=0;n<r.length;n++)El.add(r[n])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},Sl={};function dc(n){return xt.call(Sl,n)?!0:xt.call(Al,n)?!1:bl.test(n)?Sl[n]=!0:(Al[n]=!0,!1)}function eo(n,r,a){if(dc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function jn(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ht(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Zr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wl(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function st(n){if(!n._valueTracker){var r=Zr(n)?"checked":"value";n._valueTracker=wl(n,r,""+n[r])}}function da(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Zr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Yi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ma=/[\n"\\]/g;function Rn(n){return n.replace(ma,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function to(n,r,a,l,f,d,_,b){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+sn(r)):n.value!==""+sn(r)&&(n.value=""+sn(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Rl(n,_,sn(r)):a!=null?Rl(n,_,sn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+sn(b):n.removeAttribute("name")}function mc(n,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){st(n);return}a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),st(n)}function Rl(n,r,a){r==="number"&&Yi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function es(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function pc(n,r,a){if(r!=null&&(r=""+sn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+sn(a):""}function ts(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=sn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),st(n)}function Cn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||gc.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Il(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Cl(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Cl(n,d,r[d])}function no(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(n){return ns.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ti(){}var Dl=null;function ni(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var is=null,Qi=null;function pa(n){var r=ti(n);if(r&&(n=r.stateNode)){var a=n[rn]||null;e:switch(n=r.stateNode,r.type){case"input":if(to(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[rn]||null;if(!f)throw Error(s(90));to(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&da(l)}break e;case"textarea":pc(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&es(n,!!a.multiple,r,!1)}}}var ro=!1;function rs(n,r,a){if(ro)return n(r,a);ro=!0;try{var l=n(r);return l}finally{if(ro=!1,(is!==null||Qi!==null)&&(ch(),is&&(r=is,n=Qi,Qi=is=null,pa(r),n)))for(r=0;r<n.length;r++)pa(n[r])}}function bi(n,r){var a=n.stateNode;if(a===null)return null;var l=a[rn]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=!1;if(ii)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){ga=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{ga=!1}var $i=null,Nl=null,ya=null;function Ol(){if(ya)return ya;var n,r=Nl,a=r.length,l,f="value"in $i?$i.value:$i.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return ya=f.slice(n,1<l?1-l:void 0)}function _a(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function vr(){return!0}function Ai(){return!1}function ln(n){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vr:Ai,this.isPropagationStopped=Ai,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),r}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=ln(Er),ss=T({},Er,{view:0,detail:0}),xl=ln(ss),as,so,Ji,ao=T({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ji&&(Ji&&n.type==="mousemove"?(as=n.screenX-Ji.screenX,so=n.screenY-Ji.screenY):so=as=0,Ji=n),as)},movementY:function(n){return"movementY"in n?n.movementY:so}}),Vl=ln(ao),va=T({},ao,{dataTransfer:0}),_c=ln(va),vc=T({},ss,{relatedTarget:0}),Ea=ln(vc),Ml=T({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),Ec=ln(Ml),oo=T({},Er,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Tc=ln(oo),bc=T({},Er,{data:0}),Wi=ln(bc),Ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=wc[n])?!!r[n]:!1}function os(){return Rc}var An=T({},ss,{key:function(n){if(n.key){var r=Ac[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=_a(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Sc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(n){return n.type==="keypress"?_a(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_a(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Cc=ln(An),Ic=T({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tr=ln(Ic),h=T({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),y=ln(h),v=T({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=ln(v),z=T({},ao,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=ln(z),me=T({},Er,{newState:0,oldState:0}),ke=ln(me),Mt=[9,13,27,32],nt=ii&&"CompositionEvent"in window,Tt=null;ii&&"documentMode"in document&&(Tt=document.documentMode);var ri=ii&&"TextEvent"in window&&!Tt,Zi=ii&&(!nt||Tt&&8<Tt&&11>=Tt),Si=" ",wi=!1;function Ta(n,r){switch(n){case"keyup":return Mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var uo=!1;function w1(n,r){switch(n){case"compositionend":return lo(r);case"keypress":return r.which!==32?null:(wi=!0,Si);case"textInput":return n=r.data,n===Si&&wi?null:n;default:return null}}function R1(n,r){if(uo)return n==="compositionend"||!nt&&Ta(n,r)?(n=Ol(),ya=Nl=$i=null,uo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Zi&&r.locale!=="ko"?null:r.data;default:return null}}var C1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!C1[n.type]:r==="textarea"}function Sy(n,r,a,l){is?Qi?Qi.push(l):Qi=[l]:is=l,r=yh(r,"onChange"),0<r.length&&(a=new Xi("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var kl=null,Ll=null;function I1(n){aE(n,0)}function Dc(n){var r=Bn(n);if(da(r))return n}function wy(n,r){if(n==="change")return r}var Ry=!1;if(ii){var sd;if(ii){var ad="oninput"in document;if(!ad){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),ad=typeof Cy.oninput=="function"}sd=ad}else sd=!1;Ry=sd&&(!document.documentMode||9<document.documentMode)}function Iy(){kl&&(kl.detachEvent("onpropertychange",Dy),Ll=kl=null)}function Dy(n){if(n.propertyName==="value"&&Dc(Ll)){var r=[];Sy(r,Ll,n,ni(n)),rs(I1,r)}}function D1(n,r,a){n==="focusin"?(Iy(),kl=r,Ll=a,kl.attachEvent("onpropertychange",Dy)):n==="focusout"&&Iy()}function N1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Dc(Ll)}function O1(n,r){if(n==="click")return Dc(r)}function x1(n,r){if(n==="input"||n==="change")return Dc(r)}function V1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Fn=typeof Object.is=="function"?Object.is:V1;function Pl(n,r){if(Fn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xt.call(r,f)||!Fn(n[f],r[f]))return!1}return!0}function Ny(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Oy(n,r){var a=Ny(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ny(a)}}function xy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?xy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Vy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Yi(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Yi(n.document)}return r}function od(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var M1=ii&&"documentMode"in document&&11>=document.documentMode,co=null,ld=null,Ul=null,ud=!1;function My(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ud||co==null||co!==Yi(l)||(l=co,"selectionStart"in l&&od(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ul&&Pl(Ul,l)||(Ul=l,l=yh(ld,"onSelect"),0<l.length&&(r=new Xi("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=co)))}function ba(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var ho={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},cd={},ky={};ii&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Aa(n){if(cd[n])return cd[n];if(!ho[n])return n;var r=ho[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in ky)return cd[n]=r[a];return n}var Ly=Aa("animationend"),Py=Aa("animationiteration"),Uy=Aa("animationstart"),k1=Aa("transitionrun"),L1=Aa("transitionstart"),P1=Aa("transitioncancel"),zy=Aa("transitionend"),By=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function Ri(n,r){By.set(n,r),Gi(r,[n])}var Nc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},si=[],fo=0,fd=0;function Oc(){for(var n=fo,r=fd=fo=0;r<n;){var a=si[r];si[r++]=null;var l=si[r];si[r++]=null;var f=si[r];si[r++]=null;var d=si[r];if(si[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&jy(a,f,d)}}function xc(n,r,a,l){si[fo++]=n,si[fo++]=r,si[fo++]=a,si[fo++]=l,fd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function dd(n,r,a,l){return xc(n,r,a,l),Vc(n)}function Sa(n,r){return xc(n,null,null,r),Vc(n)}function jy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-wt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Vc(n){if(50<au)throw au=0,bm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var mo={};function U1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(n,r,a,l){return new U1(n,r,a,l)}function md(n){return n=n.prototype,!(!n||!n.isReactComponent)}function br(n,r){var a=n.alternate;return a===null?(a=Hn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Fy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Mc(n,r,a,l,f,d){var _=0;if(l=n,typeof n=="function")md(n)&&(_=1);else if(typeof n=="string")_=Hw(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Hn(31,a,r,f),n.elementType=I,n.lanes=d,n;case G:return wa(a.children,f,d,r);case j:_=8,f|=24;break;case ae:return n=Hn(12,a,r,f|2),n.elementType=ae,n.lanes=d,n;case W:return n=Hn(13,a,r,f),n.elementType=W,n.lanes=d,n;case ne:return n=Hn(19,a,r,f),n.elementType=ne,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case oe:_=10;break e;case Q:_=9;break e;case re:_=11;break e;case w:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Hn(_,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function wa(n,r,a,l){return n=Hn(7,n,l,r),n.lanes=a,n}function pd(n,r,a){return n=Hn(6,n,null,r),n.lanes=a,n}function Hy(n){var r=Hn(18,null,null,0);return r.stateNode=n,r}function gd(n,r,a){return r=Hn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var qy=new WeakMap;function ai(n,r){if(typeof n=="object"&&n!==null){var a=qy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:aa(r)},qy.set(n,r),r)}return{value:n,source:r,stack:aa(r)}}var po=[],go=0,kc=null,zl=0,oi=[],li=0,ls=null,er=1,tr="";function Ar(n,r){po[go++]=zl,po[go++]=kc,kc=n,zl=r}function Gy(n,r,a){oi[li++]=er,oi[li++]=tr,oi[li++]=ls,ls=n;var l=er;n=tr;var f=32-wt(l)-1;l&=~(1<<f),a+=1;var d=32-wt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,er=1<<32-wt(r)+f|a<<f|l,tr=d+n}else er=1<<d|a<<f|l,tr=n}function yd(n){n.return!==null&&(Ar(n,1),Gy(n,1,0))}function _d(n){for(;n===kc;)kc=po[--go],po[go]=null,zl=po[--go],po[go]=null;for(;n===ls;)ls=oi[--li],oi[li]=null,tr=oi[--li],oi[li]=null,er=oi[--li],oi[li]=null}function Ky(n,r){oi[li++]=er,oi[li++]=tr,oi[li++]=ls,er=r.id,tr=r.overflow,ls=n}var un=null,gt=null,Xe=!1,us=null,ui=!1,vd=Error(s(519));function cs(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(ai(r,n)),vd}function Yy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[jt]=n,r[rn]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<lu.length;a++)je(lu[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),mc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),ts(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||cE(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=Ti),r=!0):r=!1,r||cs(n,!0)}function Qy(n){for(un=n.return;un;)switch(un.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:un=un.return}}function yo(n){if(n!==un)return!1;if(!Xe)return Qy(n),Xe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Pm(n.type,n.memoizedProps)),a=!a),a&&gt&&cs(n),Qy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));gt=vE(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));gt=vE(n)}else r===27?(r=gt,Ss(n.type)?(n=Fm,Fm=null,gt=n):gt=r):gt=un?hi(n.stateNode.nextSibling):null;return!0}function Ra(){gt=un=null,Xe=!1}function Ed(){var n=us;return n!==null&&(On===null?On=n:On.push.apply(On,n),us=null),n}function Bl(n){us===null?us=[n]:us.push(n)}var Td=L(null),Ca=null,Sr=null;function hs(n,r,a){pe(Td,r._currentValue),r._currentValue=a}function wr(n){n._currentValue=Td.current,ie(Td)}function bd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Ad(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<r.length;N++)if(b.context===r[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),bd(d.return,a,n),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),bd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function _o(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;Fn(f.pendingProps.value,_.value)||(n!==null?n.push(b):n=[b])}}else if(f===He.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(du):n=[du])}f=f.return}n!==null&&Ad(r,n,a,l),r.flags|=262144}function Lc(n){for(n=n.firstContext;n!==null;){if(!Fn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ia(n){Ca=n,Sr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function cn(n){return $y(Ca,n)}function Pc(n,r){return Ca===null&&Ia(n),$y(n,r)}function $y(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Sr===null){if(n===null)throw Error(s(308));Sr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Sr=Sr.next=r;return a}var z1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},B1=i.unstable_scheduleCallback,j1=i.unstable_NormalPriority,qt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new z1,data:new Map,refCount:0}}function jl(n){n.refCount--,n.refCount===0&&B1(j1,function(){n.controller.abort()})}var Fl=null,wd=0,vo=0,Eo=null;function F1(n,r){if(Fl===null){var a=Fl=[];wd=0,vo=Im(),Eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wd++,r.then(Xy,Xy),r}function Xy(){if(--wd===0&&Fl!==null){Eo!==null&&(Eo.status="fulfilled");var n=Fl;Fl=null,vo=0,Eo=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function H1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Jy=X.S;X.S=function(n,r){Mv=de(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&F1(n,r),Jy!==null&&Jy(n,r)};var Da=L(null);function Rd(){var n=Da.current;return n!==null?n:dt.pooledCache}function Uc(n,r){r===null?pe(Da,Da.current):pe(Da,r.pool)}function Wy(){var n=Rd();return n===null?null:{parent:qt._currentValue,pool:n}}var To=Error(s(460)),Cd=Error(s(474)),zc=Error(s(542)),Bc={then:function(){}};function Zy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function e_(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ti,Ti),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n_(n),n;default:if(typeof r.status=="string")r.then(Ti,Ti);else{if(n=dt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n_(n),n}throw Oa=r,To}}function Na(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Oa=a,To):a}}var Oa=null;function t_(){if(Oa===null)throw Error(s(459));var n=Oa;return Oa=null,n}function n_(n){if(n===To||n===zc)throw Error(s(483))}var bo=null,Hl=0;function jc(n){var r=Hl;return Hl+=1,bo===null&&(bo=[]),e_(bo,n,r)}function ql(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Fc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function i_(n){function r(P,k){if(n){var B=P.deletions;B===null?(P.deletions=[k],P.flags|=16):B.push(k)}}function a(P,k){if(!n)return null;for(;k!==null;)r(P,k),k=k.sibling;return null}function l(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function f(P,k){return P=br(P,k),P.index=0,P.sibling=null,P}function d(P,k,B){return P.index=B,n?(B=P.alternate,B!==null?(B=B.index,B<k?(P.flags|=67108866,k):B):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function _(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function b(P,k,B,te){return k===null||k.tag!==6?(k=pd(B,P.mode,te),k.return=P,k):(k=f(k,B),k.return=P,k)}function N(P,k,B,te){var Se=B.type;return Se===G?Z(P,k,B.props.children,te,B.key):k!==null&&(k.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&Na(Se)===k.type)?(k=f(k,B.props),ql(k,B),k.return=P,k):(k=Mc(B.type,B.key,B.props,null,P.mode,te),ql(k,B),k.return=P,k)}function H(P,k,B,te){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=gd(B,P.mode,te),k.return=P,k):(k=f(k,B.children||[]),k.return=P,k)}function Z(P,k,B,te,Se){return k===null||k.tag!==7?(k=wa(B,P.mode,te,Se),k.return=P,k):(k=f(k,B),k.return=P,k)}function se(P,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=pd(""+k,P.mode,B),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case D:return B=Mc(k.type,k.key,k.props,null,P.mode,B),ql(B,k),B.return=P,B;case K:return k=gd(k,P.mode,B),k.return=P,k;case R:return k=Na(k),se(P,k,B)}if(Fe(k)||x(k))return k=wa(k,P.mode,B,null),k.return=P,k;if(typeof k.then=="function")return se(P,jc(k),B);if(k.$$typeof===oe)return se(P,Pc(P,k),B);Fc(P,k)}return null}function q(P,k,B,te){var Se=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Se!==null?null:b(P,k,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return B.key===Se?N(P,k,B,te):null;case K:return B.key===Se?H(P,k,B,te):null;case R:return B=Na(B),q(P,k,B,te)}if(Fe(B)||x(B))return Se!==null?null:Z(P,k,B,te,null);if(typeof B.then=="function")return q(P,k,jc(B),te);if(B.$$typeof===oe)return q(P,k,Pc(P,B),te);Fc(P,B)}return null}function $(P,k,B,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return P=P.get(B)||null,b(k,P,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case D:return P=P.get(te.key===null?B:te.key)||null,N(k,P,te,Se);case K:return P=P.get(te.key===null?B:te.key)||null,H(k,P,te,Se);case R:return te=Na(te),$(P,k,B,te,Se)}if(Fe(te)||x(te))return P=P.get(B)||null,Z(k,P,te,Se,null);if(typeof te.then=="function")return $(P,k,B,jc(te),Se);if(te.$$typeof===oe)return $(P,k,B,Pc(k,te),Se);Fc(k,te)}return null}function ve(P,k,B,te){for(var Se=null,Ze=null,Te=k,Pe=k=0,Ge=null;Te!==null&&Pe<B.length;Pe++){Te.index>Pe?(Ge=Te,Te=null):Ge=Te.sibling;var et=q(P,Te,B[Pe],te);if(et===null){Te===null&&(Te=Ge);break}n&&Te&&et.alternate===null&&r(P,Te),k=d(et,k,Pe),Ze===null?Se=et:Ze.sibling=et,Ze=et,Te=Ge}if(Pe===B.length)return a(P,Te),Xe&&Ar(P,Pe),Se;if(Te===null){for(;Pe<B.length;Pe++)Te=se(P,B[Pe],te),Te!==null&&(k=d(Te,k,Pe),Ze===null?Se=Te:Ze.sibling=Te,Ze=Te);return Xe&&Ar(P,Pe),Se}for(Te=l(Te);Pe<B.length;Pe++)Ge=$(Te,P,Pe,B[Pe],te),Ge!==null&&(n&&Ge.alternate!==null&&Te.delete(Ge.key===null?Pe:Ge.key),k=d(Ge,k,Pe),Ze===null?Se=Ge:Ze.sibling=Ge,Ze=Ge);return n&&Te.forEach(function(Ds){return r(P,Ds)}),Xe&&Ar(P,Pe),Se}function Re(P,k,B,te){if(B==null)throw Error(s(151));for(var Se=null,Ze=null,Te=k,Pe=k=0,Ge=null,et=B.next();Te!==null&&!et.done;Pe++,et=B.next()){Te.index>Pe?(Ge=Te,Te=null):Ge=Te.sibling;var Ds=q(P,Te,et.value,te);if(Ds===null){Te===null&&(Te=Ge);break}n&&Te&&Ds.alternate===null&&r(P,Te),k=d(Ds,k,Pe),Ze===null?Se=Ds:Ze.sibling=Ds,Ze=Ds,Te=Ge}if(et.done)return a(P,Te),Xe&&Ar(P,Pe),Se;if(Te===null){for(;!et.done;Pe++,et=B.next())et=se(P,et.value,te),et!==null&&(k=d(et,k,Pe),Ze===null?Se=et:Ze.sibling=et,Ze=et);return Xe&&Ar(P,Pe),Se}for(Te=l(Te);!et.done;Pe++,et=B.next())et=$(Te,P,Pe,et.value,te),et!==null&&(n&&et.alternate!==null&&Te.delete(et.key===null?Pe:et.key),k=d(et,k,Pe),Ze===null?Se=et:Ze.sibling=et,Ze=et);return n&&Te.forEach(function(eR){return r(P,eR)}),Xe&&Ar(P,Pe),Se}function ht(P,k,B,te){if(typeof B=="object"&&B!==null&&B.type===G&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case D:e:{for(var Se=B.key;k!==null;){if(k.key===Se){if(Se=B.type,Se===G){if(k.tag===7){a(P,k.sibling),te=f(k,B.props.children),te.return=P,P=te;break e}}else if(k.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&Na(Se)===k.type){a(P,k.sibling),te=f(k,B.props),ql(te,B),te.return=P,P=te;break e}a(P,k);break}else r(P,k);k=k.sibling}B.type===G?(te=wa(B.props.children,P.mode,te,B.key),te.return=P,P=te):(te=Mc(B.type,B.key,B.props,null,P.mode,te),ql(te,B),te.return=P,P=te)}return _(P);case K:e:{for(Se=B.key;k!==null;){if(k.key===Se)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(P,k.sibling),te=f(k,B.children||[]),te.return=P,P=te;break e}else{a(P,k);break}else r(P,k);k=k.sibling}te=gd(B,P.mode,te),te.return=P,P=te}return _(P);case R:return B=Na(B),ht(P,k,B,te)}if(Fe(B))return ve(P,k,B,te);if(x(B)){if(Se=x(B),typeof Se!="function")throw Error(s(150));return B=Se.call(B),Re(P,k,B,te)}if(typeof B.then=="function")return ht(P,k,jc(B),te);if(B.$$typeof===oe)return ht(P,k,Pc(P,B),te);Fc(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(P,k.sibling),te=f(k,B),te.return=P,P=te):(a(P,k),te=pd(B,P.mode,te),te.return=P,P=te),_(P)):a(P,k)}return function(P,k,B,te){try{Hl=0;var Se=ht(P,k,B,te);return bo=null,Se}catch(Te){if(Te===To||Te===zc)throw Te;var Ze=Hn(29,Te,null,P.mode);return Ze.lanes=te,Ze.return=P,Ze}}}var xa=i_(!0),r_=i_(!1),fs=!1;function Id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ds(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ms(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Vc(n),jy(n,null,a),r}return xc(n,l,r,a),Vc(n)}function Gl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,_l(n,a)}}function Nd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Od=!1;function Kl(){if(Od){var n=Eo;if(n!==null)throw n}}function Yl(n,r,a,l){Od=!1;var f=n.updateQueue;fs=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=H:b.next=H,Z.lastBaseUpdate=N))}if(d!==null){var se=f.baseState;_=0,Z=H=N=null,b=d;do{var q=b.lane&-536870913,$=q!==b.lane;if($?(qe&q)===q:(l&q)===q){q!==0&&q===vo&&(Od=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ve=n,Re=b;q=r;var ht=a;switch(Re.tag){case 1:if(ve=Re.payload,typeof ve=="function"){se=ve.call(ht,se,q);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Re.payload,q=typeof ve=="function"?ve.call(ht,se,q):ve,q==null)break e;se=T({},se,q);break e;case 2:fs=!0}}q=b.callback,q!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[q]:$.push(q))}else $={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(H=Z=$,N=se):Z=Z.next=$,_|=q;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;$=b,b=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Z===null&&(N=se),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),vs|=_,n.lanes=_,n.memoizedState=se}}function s_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function a_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)s_(a[n],r)}var Ao=L(null),Hc=L(0);function o_(n,r){n=Mr,pe(Hc,n),pe(Ao,r),Mr=n|r.baseLanes}function xd(){pe(Hc,Mr),pe(Ao,Ao.current)}function Vd(){Mr=Hc.current,ie(Ao),ie(Hc)}var qn=L(null),ci=null;function ps(n){var r=n.alternate;pe(kt,kt.current&1),pe(qn,n),ci===null&&(r===null||Ao.current!==null||r.memoizedState!==null)&&(ci=n)}function Md(n){pe(kt,kt.current),pe(qn,n),ci===null&&(ci=n)}function l_(n){n.tag===22?(pe(kt,kt.current),pe(qn,n),ci===null&&(ci=n)):gs()}function gs(){pe(kt,kt.current),pe(qn,qn.current)}function Gn(n){ie(qn),ci===n&&(ci=null),ie(kt)}var kt=L(0);function qc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bm(a)||jm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rr=0,Le=null,ut=null,Gt=null,Gc=!1,So=!1,Va=!1,Kc=0,Ql=0,wo=null,q1=0;function It(){throw Error(s(321))}function kd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Fn(n[a],r[a]))return!1;return!0}function Ld(n,r,a,l,f,d){return Rr=d,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?G_:Jd,Va=!1,d=a(l,f),Va=!1,So&&(d=c_(r,a,l,f)),u_(n),d}function u_(n){X.H=Jl;var r=ut!==null&&ut.next!==null;if(Rr=0,Gt=ut=Le=null,Gc=!1,Ql=0,wo=null,r)throw Error(s(300));n===null||Kt||(n=n.dependencies,n!==null&&Lc(n)&&(Kt=!0))}function c_(n,r,a,l){Le=n;var f=0;do{if(So&&(wo=null),Ql=0,So=!1,25<=f)throw Error(s(301));if(f+=1,Gt=ut=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=K_,d=r(a,l)}while(So);return d}function G1(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?$l(r):r,n=n.useState()[0],(ut!==null?ut.memoizedState:null)!==n&&(Le.flags|=1024),r}function Pd(){var n=Kc!==0;return Kc=0,n}function Ud(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function zd(n){if(Gc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Gc=!1}Rr=0,Gt=ut=Le=null,So=!1,Ql=Kc=0,wo=null}function Sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Le.memoizedState=Gt=n:Gt=Gt.next=n,Gt}function Lt(){if(ut===null){var n=Le.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var r=Gt===null?Le.memoizedState:Gt.next;if(r!==null)Gt=r,ut=n;else{if(n===null)throw Le.alternate===null?Error(s(467)):Error(s(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Gt===null?Le.memoizedState=Gt=n:Gt=Gt.next=n}return Gt}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(n){var r=Ql;return Ql+=1,wo===null&&(wo=[]),n=e_(wo,n,r),r=Le,(Gt===null?r.memoizedState:Gt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?G_:Jd),n}function Qc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return $l(n);if(n.$$typeof===oe)return cn(n)}throw Error(s(438,String(n)))}function Bd(n){var r=null,a=Le.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yc(),Le.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function Cr(n,r){return typeof r=="function"?r(n):r}function $c(n){var r=Lt();return jd(r,ut,n)}function jd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=_=null,N=null,H=r,Z=!1;do{var se=H.lane&-536870913;if(se!==H.lane?(qe&se)===se:(Rr&se)===se){var q=H.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),se===vo&&(Z=!0);else if((Rr&q)===q){H=H.next,q===vo&&(Z=!0);continue}else se={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(b=N=se,_=d):N=N.next=se,Le.lanes|=q,vs|=q;se=H.action,Va&&a(d,se),d=H.hasEagerState?H.eagerState:a(d,se)}else q={lane:se,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(b=N=q,_=d):N=N.next=q,Le.lanes|=se,vs|=se;H=H.next}while(H!==null&&H!==r);if(N===null?_=d:N.next=b,!Fn(d,n.memoizedState)&&(Kt=!0,Z&&(a=Eo,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Fd(n){var r=Lt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);Fn(d,r.memoizedState)||(Kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function h_(n,r,a){var l=Le,f=Lt(),d=Xe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Fn((ut||f).memoizedState,a);if(_&&(f.memoizedState=a,Kt=!0),f=f.queue,Gd(m_.bind(null,l,f,n),[n]),f.getSnapshot!==r||_||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Ro(9,{destroy:void 0},d_.bind(null,l,f,a,r),null),dt===null)throw Error(s(349));d||(Rr&127)!==0||f_(l,r,a)}return a}function f_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Le.updateQueue,r===null?(r=Yc(),Le.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function d_(n,r,a,l){r.value=a,r.getSnapshot=l,p_(r)&&g_(n)}function m_(n,r,a){return a(function(){p_(r)&&g_(n)})}function p_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Fn(n,a)}catch{return!0}}function g_(n){var r=Sa(n,2);r!==null&&xn(r,n,2)}function Hd(n){var r=Sn();if(typeof n=="function"){var a=n;if(n=a(),Va){gn(!0);try{a()}finally{gn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:n},r}function y_(n,r,a,l){return n.baseState=a,jd(n,ut,typeof l=="function"?l:Cr)}function K1(n,r,a,l,f){if(Wc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,__(r,d)):(d.next=a.next,r.pending=a.next=d)}}function __(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var b=a(f,l),N=X.S;N!==null&&N(_,b),v_(n,r,b)}catch(H){qd(n,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),v_(n,r,d)}catch(H){qd(n,r,H)}}function v_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){E_(n,r,l)},function(l){return qd(n,r,l)}):E_(n,r,a)}function E_(n,r,a){r.status="fulfilled",r.value=a,T_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,__(n,a)))}function qd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,T_(r),r=r.next;while(r!==l)}n.action=null}function T_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function b_(n,r){return r}function A_(n,r){if(Xe){var a=dt.formState;if(a!==null){e:{var l=Le;if(Xe){if(gt){t:{for(var f=gt,d=ui;f.nodeType!==8;){if(!d){f=null;break t}if(f=hi(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){gt=hi(f.nextSibling),l=f.data==="F!";break e}}cs(l)}l=!1}l&&(r=a[0])}}return a=Sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b_,lastRenderedState:r},a.queue=l,a=F_.bind(null,Le,l),l.dispatch=a,l=Hd(!1),d=Xd.bind(null,Le,!1,l.queue),l=Sn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=K1.bind(null,Le,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function S_(n){var r=Lt();return w_(r,ut,n)}function w_(n,r,a){if(r=jd(n,r,b_)[0],n=$c(Cr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=$l(r)}catch(_){throw _===To?zc:_}else l=r;r=Lt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Le.flags|=2048,Ro(9,{destroy:void 0},Y1.bind(null,f,a),null)),[l,d,n]}function Y1(n,r){n.action=r}function R_(n){var r=Lt(),a=ut;if(a!==null)return w_(r,a,n);Lt(),r=r.memoizedState,a=Lt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ro(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Le.updateQueue,r===null&&(r=Yc(),Le.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function C_(){return Lt().memoizedState}function Xc(n,r,a,l){var f=Sn();Le.flags|=n,f.memoizedState=Ro(1|r,{destroy:void 0},a,l===void 0?null:l)}function Jc(n,r,a,l){var f=Lt();l=l===void 0?null:l;var d=f.memoizedState.inst;ut!==null&&l!==null&&kd(l,ut.memoizedState.deps)?f.memoizedState=Ro(r,d,a,l):(Le.flags|=n,f.memoizedState=Ro(1|r,d,a,l))}function I_(n,r){Xc(8390656,8,n,r)}function Gd(n,r){Jc(2048,8,n,r)}function Q1(n){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=Yc(),Le.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function D_(n){var r=Lt().memoizedState;return Q1({ref:r,nextImpl:n}),function(){if((it&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function N_(n,r){return Jc(4,2,n,r)}function O_(n,r){return Jc(4,4,n,r)}function x_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function V_(n,r,a){a=a!=null?a.concat([n]):null,Jc(4,4,x_.bind(null,r,n),a)}function Kd(){}function M_(n,r){var a=Lt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&kd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function k_(n,r){var a=Lt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&kd(r,l[1]))return l[0];if(l=n(),Va){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,r],l}function Yd(n,r,a){return a===void 0||(Rr&1073741824)!==0&&(qe&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=Lv(),Le.lanes|=n,vs|=n,a)}function L_(n,r,a,l){return Fn(a,r)?a:Ao.current!==null?(n=Yd(n,a,l),Fn(n,r)||(Kt=!0),n):(Rr&42)===0||(Rr&1073741824)!==0&&(qe&261930)===0?(Kt=!0,n.memoizedState=a):(n=Lv(),Le.lanes|=n,vs|=n,r)}function P_(n,r,a,l,f){var d=he.p;he.p=d!==0&&8>d?d:8;var _=X.T,b={};X.T=b,Xd(n,!1,r,a);try{var N=f(),H=X.S;if(H!==null&&H(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=H1(N,l);Xl(n,r,Z,Qn(n))}else Xl(n,r,l,Qn(n))}catch(se){Xl(n,r,{then:function(){},status:"rejected",reason:se},Qn())}finally{he.p=d,_!==null&&b.types!==null&&(_.types=b.types),X.T=_}}function $1(){}function Qd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=U_(n).queue;P_(n,f,r,Ae,a===null?$1:function(){return z_(n),a(l)})}function U_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:Ae},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function z_(n){var r=U_(n);r.next===null&&(r=n.alternate.memoizedState),Xl(n,r.next.queue,{},Qn())}function $d(){return cn(du)}function B_(){return Lt().memoizedState}function j_(){return Lt().memoizedState}function X1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Qn();n=ds(a);var l=ms(r,n,a);l!==null&&(xn(l,r,a),Gl(l,r,a)),r={cache:Sd()},n.payload=r;return}r=r.return}}function J1(n,r,a){var l=Qn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wc(n)?H_(r,a):(a=dd(n,r,a,l),a!==null&&(xn(a,n,l),q_(a,r,l)))}function F_(n,r,a){var l=Qn();Xl(n,r,a,l)}function Xl(n,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wc(n))H_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,Fn(b,_))return xc(n,r,f,0),dt===null&&Oc(),!1}catch{}if(a=dd(n,r,f,l),a!==null)return xn(a,n,l),q_(a,r,l),!0}return!1}function Xd(n,r,a,l){if(l={lane:2,revertLane:Im(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wc(n)){if(r)throw Error(s(479))}else r=dd(n,a,l,2),r!==null&&xn(r,n,2)}function Wc(n){var r=n.alternate;return n===Le||r!==null&&r===Le}function H_(n,r){So=Gc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function q_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,_l(n,a)}}var Jl={readContext:cn,use:Qc,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Jl.useEffectEvent=It;var G_={readContext:cn,use:Qc,useCallback:function(n,r){return Sn().memoizedState=[n,r===void 0?null:r],n},useContext:cn,useEffect:I_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Xc(4194308,4,x_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Xc(4194308,4,n,r)},useInsertionEffect:function(n,r){Xc(4,2,n,r)},useMemo:function(n,r){var a=Sn();r=r===void 0?null:r;var l=n();if(Va){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=Sn();if(a!==void 0){var f=a(r);if(Va){gn(!0);try{a(r)}finally{gn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=J1.bind(null,Le,n),[l.memoizedState,n]},useRef:function(n){var r=Sn();return n={current:n},r.memoizedState=n},useState:function(n){n=Hd(n);var r=n.queue,a=F_.bind(null,Le,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Kd,useDeferredValue:function(n,r){var a=Sn();return Yd(a,n,r)},useTransition:function(){var n=Hd(!1);return n=P_.bind(null,Le,n.queue,!0,!1),Sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Le,f=Sn();if(Xe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),dt===null)throw Error(s(349));(qe&127)!==0||f_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,I_(m_.bind(null,l,d,n),[n]),l.flags|=2048,Ro(9,{destroy:void 0},d_.bind(null,l,d,a,r),null),a},useId:function(){var n=Sn(),r=dt.identifierPrefix;if(Xe){var a=tr,l=er;a=(l&~(1<<32-wt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Kc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=q1++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:$d,useFormState:A_,useActionState:A_,useOptimistic:function(n){var r=Sn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Xd.bind(null,Le,!0,a),a.dispatch=r,[n,r]},useMemoCache:Bd,useCacheRefresh:function(){return Sn().memoizedState=X1.bind(null,Le)},useEffectEvent:function(n){var r=Sn(),a={impl:n};return r.memoizedState=a,function(){if((it&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Jd={readContext:cn,use:Qc,useCallback:M_,useContext:cn,useEffect:Gd,useImperativeHandle:V_,useInsertionEffect:N_,useLayoutEffect:O_,useMemo:k_,useReducer:$c,useRef:C_,useState:function(){return $c(Cr)},useDebugValue:Kd,useDeferredValue:function(n,r){var a=Lt();return L_(a,ut.memoizedState,n,r)},useTransition:function(){var n=$c(Cr)[0],r=Lt().memoizedState;return[typeof n=="boolean"?n:$l(n),r]},useSyncExternalStore:h_,useId:B_,useHostTransitionStatus:$d,useFormState:S_,useActionState:S_,useOptimistic:function(n,r){var a=Lt();return y_(a,ut,n,r)},useMemoCache:Bd,useCacheRefresh:j_};Jd.useEffectEvent=D_;var K_={readContext:cn,use:Qc,useCallback:M_,useContext:cn,useEffect:Gd,useImperativeHandle:V_,useInsertionEffect:N_,useLayoutEffect:O_,useMemo:k_,useReducer:Fd,useRef:C_,useState:function(){return Fd(Cr)},useDebugValue:Kd,useDeferredValue:function(n,r){var a=Lt();return ut===null?Yd(a,n,r):L_(a,ut.memoizedState,n,r)},useTransition:function(){var n=Fd(Cr)[0],r=Lt().memoizedState;return[typeof n=="boolean"?n:$l(n),r]},useSyncExternalStore:h_,useId:B_,useHostTransitionStatus:$d,useFormState:R_,useActionState:R_,useOptimistic:function(n,r){var a=Lt();return ut!==null?y_(a,ut,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:j_};K_.useEffectEvent=D_;function Wd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Zd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Qn(),f=ds(l);f.payload=r,a!=null&&(f.callback=a),r=ms(n,f,l),r!==null&&(xn(r,n,l),Gl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Qn(),f=ds(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ms(n,f,l),r!==null&&(xn(r,n,l),Gl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Qn(),l=ds(a);l.tag=2,r!=null&&(l.callback=r),r=ms(n,l,a),r!==null&&(xn(r,n,a),Gl(r,n,a))}};function Y_(n,r,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Pl(a,l)||!Pl(f,d):!0}function Q_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Zd.enqueueReplaceState(r,r.state,null)}function Ma(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function $_(n){Nc(n)}function X_(n){console.error(n)}function J_(n){Nc(n)}function Zc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function W_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function em(n,r,a){return a=ds(a),a.tag=3,a.payload={element:null},a.callback=function(){Zc(n,r)},a}function Z_(n){return n=ds(n),n.tag=3,n}function ev(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){W_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){W_(r,a,l),typeof f!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function W1(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&_o(r,a,f,!0),a=qn.current,a!==null){switch(a.tag){case 31:case 13:return ci===null?hh():a.alternate===null&&Dt===0&&(Dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Bc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),wm(n,l,f)),!1;case 22:return a.flags|=65536,l===Bc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),wm(n,l,f)),!1}throw Error(s(435,a.tag))}return wm(n,l,f),hh(),!1}if(Xe)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==vd&&(n=Error(s(422),{cause:l}),Bl(ai(n,a)))):(l!==vd&&(r=Error(s(423),{cause:l}),Bl(ai(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=ai(l,a),f=em(n.stateNode,l,f),Nd(n,f),Dt!==4&&(Dt=2)),!1;var d=Error(s(520),{cause:l});if(d=ai(d,a),su===null?su=[d]:su.push(d),Dt!==4&&(Dt=2),r===null)return!0;l=ai(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=em(a.stateNode,l,n),Nd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Es===null||!Es.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Z_(f),ev(f,n,a,l),Nd(a,f),!1}a=a.return}while(a!==null);return!1}var tm=Error(s(461)),Kt=!1;function hn(n,r,a,l){r.child=n===null?r_(r,null,a,l):xa(r,n.child,a,l)}function tv(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Ia(r),l=Ld(n,r,a,_,d,f),b=Pd(),n!==null&&!Kt?(Ud(n,r,f),Ir(n,r,f)):(Xe&&b&&yd(r),r.flags|=1,hn(n,r,l,f),r.child)}function nv(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!md(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,iv(n,r,d,l,f)):(n=Mc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!um(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Pl,a(_,l)&&n.ref===r.ref)return Ir(n,r,f)}return r.flags|=1,n=br(d,l),n.ref=r.ref,n.return=r,r.child=n}function iv(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Pl(d,l)&&n.ref===r.ref)if(Kt=!1,r.pendingProps=l=d,um(n,f))(n.flags&131072)!==0&&(Kt=!0);else return r.lanes=n.lanes,Ir(n,r,f)}return nm(n,r,a,l,f)}function rv(n,r,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return sv(n,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uc(r,d!==null?d.cachePool:null),d!==null?o_(r,d):xd(),l_(r);else return l=r.lanes=536870912,sv(n,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Uc(r,d.cachePool),o_(r,d),gs(),r.memoizedState=null):(n!==null&&Uc(r,null),xd(),gs());return hn(n,r,f,a),r.child}function Wl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function sv(n,r,a,l,f){var d=Rd();return d=d===null?null:{parent:qt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Uc(r,null),xd(),l_(r),n!==null&&_o(n,r,l,!0),r.childLanes=f,null}function eh(n,r){return r=nh({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function av(n,r,a){return xa(r,n.child,null,a),n=eh(r,r.pendingProps),n.flags|=2,Gn(r),r.memoizedState=null,n}function Z1(n,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Xe){if(l.mode==="hidden")return n=eh(r,l),r.lanes=536870912,Wl(null,n);if(Md(r),(n=gt)?(n=_E(n,ui),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ls!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},a=Hy(n),a.return=r,r.child=a,un=r,gt=null)):n=null,n===null)throw cs(r);return r.lanes=536870912,null}return eh(r,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(Md(r),f)if(r.flags&256)r.flags&=-257,r=av(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Kt||_o(n,r,a,!1),f=(a&n.childLanes)!==0,Kt||f){if(l=dt,l!==null&&(_=vl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Sa(n,_),xn(l,n,_),tm;hh(),r=av(n,r,a)}else n=d.treeContext,gt=hi(_.nextSibling),un=r,Xe=!0,us=null,ui=!1,n!==null&&Ky(r,n),r=eh(r,l),r.flags|=4096;return r}return n=br(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function th(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function nm(n,r,a,l,f){return Ia(r),a=Ld(n,r,a,l,void 0,f),l=Pd(),n!==null&&!Kt?(Ud(n,r,f),Ir(n,r,f)):(Xe&&l&&yd(r),r.flags|=1,hn(n,r,a,f),r.child)}function ov(n,r,a,l,f,d){return Ia(r),r.updateQueue=null,a=c_(r,l,a,f),u_(n),l=Pd(),n!==null&&!Kt?(Ud(n,r,d),Ir(n,r,d)):(Xe&&l&&yd(r),r.flags|=1,hn(n,r,a,d),r.child)}function lv(n,r,a,l,f){if(Ia(r),r.stateNode===null){var d=mo,_=a.contextType;typeof _=="object"&&_!==null&&(d=cn(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Id(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?cn(_):mo,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Wd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Zd.enqueueReplaceState(d,d.state,null),Yl(r,l,d,f),Kl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,N=Ma(a,b);d.props=N;var H=d.context,Z=a.contextType;_=mo,typeof Z=="object"&&Z!==null&&(_=cn(Z));var se=a.getDerivedStateFromProps;Z=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&Q_(r,d,l,_),fs=!1;var q=r.memoizedState;d.state=q,Yl(r,l,d,f),Kl(),H=r.memoizedState,b||q!==H||fs?(typeof se=="function"&&(Wd(r,a,se,l),H=r.memoizedState),(N=fs||Y_(r,a,N,l,q,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Dd(n,r),_=r.memoizedProps,Z=Ma(a,_),d.props=Z,se=r.pendingProps,q=d.context,H=a.contextType,N=mo,typeof H=="object"&&H!==null&&(N=cn(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==se||q!==N)&&Q_(r,d,l,N),fs=!1,q=r.memoizedState,d.state=q,Yl(r,l,d,f),Kl();var $=r.memoizedState;_!==se||q!==$||fs||n!==null&&n.dependencies!==null&&Lc(n.dependencies)?(typeof b=="function"&&(Wd(r,a,b,l),$=r.memoizedState),(Z=fs||Y_(r,a,Z,l,q,$,N)||n!==null&&n.dependencies!==null&&Lc(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=N,l=Z):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,th(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=xa(r,n.child,null,f),r.child=xa(r,null,a,f)):hn(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Ir(n,r,f),n}function uv(n,r,a,l){return Ra(),r.flags|=256,hn(n,r,a,l),r.child}var im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rm(n){return{baseLanes:n,cachePool:Wy()}}function sm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Yn),n}function cv(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(kt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Xe){if(f?ps(r):gs(),(n=gt)?(n=_E(n,ui),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ls!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},a=Hy(n),a.return=r,r.child=a,un=r,gt=null)):n=null,n===null)throw cs(r);return jm(n)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(gs(),f=r.mode,b=nh({mode:"hidden",children:b},f),l=wa(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=rm(a),l.childLanes=sm(n,_,a),r.memoizedState=im,Wl(null,l)):(ps(r),am(r,b))}var N=n.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)r.flags&256?(ps(r),r.flags&=-257,r=om(n,r,a)):r.memoizedState!==null?(gs(),r.child=n.child,r.flags|=128,r=null):(gs(),b=l.fallback,f=r.mode,l=nh({mode:"visible",children:l.children},f),b=wa(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,xa(r,n.child,null,a),l=r.child,l.memoizedState=rm(a),l.childLanes=sm(n,_,a),r.memoizedState=im,r=Wl(null,l));else if(ps(r),jm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,Bl({value:l,source:null,stack:null}),r=om(n,r,a)}else if(Kt||_o(n,r,a,!1),_=(a&n.childLanes)!==0,Kt||_){if(_=dt,_!==null&&(l=vl(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Sa(n,l),xn(_,n,l),tm;Bm(b)||hh(),r=om(n,r,a)}else Bm(b)?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,gt=hi(b.nextSibling),un=r,Xe=!0,us=null,ui=!1,n!==null&&Ky(r,n),r=am(r,l.children),r.flags|=4096);return r}return f?(gs(),b=l.fallback,f=r.mode,N=n.child,H=N.sibling,l=br(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?b=br(H,b):(b=wa(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,Wl(null,l),l=r.child,b=n.child.memoizedState,b===null?b=rm(a):(f=b.cachePool,f!==null?(N=qt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Wy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=sm(n,_,a),r.memoizedState=im,Wl(n.child,l)):(ps(r),a=n.child,n=a.sibling,a=br(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function am(n,r){return r=nh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function nh(n,r){return n=Hn(22,n,null,r),n.lanes=0,n}function om(n,r,a){return xa(r,n.child,null,a),n=am(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function hv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),bd(n.return,r,a)}function lm(n,r,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function fv(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=kt.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,pe(kt,_),hn(n,r,l,a),l=Xe?zl:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hv(n,a,r);else if(n.tag===19)hv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&qc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),lm(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&qc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}lm(r,!0,a,null,d,l);break;case"together":lm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ir(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),vs|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(_o(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=br(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=br(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function um(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Lc(n)))}function ew(n,r,a){switch(r.tag){case 3:St(r,r.stateNode.containerInfo),hs(r,qt,n.memoizedState.cache),Ra();break;case 27:case 5:yi(r);break;case 4:St(r,r.stateNode.containerInfo);break;case 10:hs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Md(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ps(r),r.flags|=128,null):(a&r.child.childLanes)!==0?cv(n,r,a):(ps(r),n=Ir(n,r,a),n!==null?n.sibling:null);ps(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(_o(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return fv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),pe(kt,kt.current),l)break;return null;case 22:return r.lanes=0,rv(n,r,a,r.pendingProps);case 24:hs(r,qt,n.memoizedState.cache)}return Ir(n,r,a)}function dv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Kt=!0;else{if(!um(n,a)&&(r.flags&128)===0)return Kt=!1,ew(n,r,a);Kt=(n.flags&131072)!==0}else Kt=!1,Xe&&(r.flags&1048576)!==0&&Gy(r,zl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=Na(r.elementType),r.type=n,typeof n=="function")md(n)?(l=Ma(n,l),r.tag=1,r=lv(null,r,n,l,a)):(r.tag=0,r=nm(null,r,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===re){r.tag=11,r=tv(null,r,n,l,a);break e}else if(f===w){r.tag=14,r=nv(null,r,n,l,a);break e}}throw r=Oe(n)||n,Error(s(306,r,""))}}return r;case 0:return nm(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ma(l,r.pendingProps),lv(n,r,l,f,a);case 3:e:{if(St(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Dd(n,r),Yl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,hs(r,qt,l),l!==d.cache&&Ad(r,[qt],a,!0),Kl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=uv(n,r,l,a);break e}else if(l!==f){f=ai(Error(s(424)),r),Bl(f),r=uv(n,r,l,a);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,gt=hi(n.firstChild),un=r,Xe=!0,us=null,ui=!0,a=r_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ra(),l===f){r=Ir(n,r,a);break e}hn(n,r,l,a)}r=r.child}return r;case 26:return th(n,r),n===null?(a=SE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Xe||(a=r.type,n=r.pendingProps,l=_h(xe.current).createElement(a),l[jt]=r,l[rn]=n,fn(l,a,n),Ft(l),r.stateNode=l):r.memoizedState=SE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return yi(r),n===null&&Xe&&(l=r.stateNode=TE(r.type,r.pendingProps,xe.current),un=r,ui=!0,f=gt,Ss(r.type)?(Fm=f,gt=hi(l.firstChild)):gt=f),hn(n,r,r.pendingProps.children,a),th(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Xe&&((f=l=gt)&&(l=Nw(l,r.type,r.pendingProps,ui),l!==null?(r.stateNode=l,un=r,gt=hi(l.firstChild),ui=!1,f=!0):f=!1),f||cs(r)),yi(r),f=r.type,d=r.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Pm(f,d)?l=null:_!==null&&Pm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Ld(n,r,G1,null,null,a),du._currentValue=f),th(n,r),hn(n,r,l,a),r.child;case 6:return n===null&&Xe&&((n=a=gt)&&(a=Ow(a,r.pendingProps,ui),a!==null?(r.stateNode=a,un=r,gt=null,n=!0):n=!1),n||cs(r)),null;case 13:return cv(n,r,a);case 4:return St(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=xa(r,null,l,a):hn(n,r,l,a),r.child;case 11:return tv(n,r,r.type,r.pendingProps,a);case 7:return hn(n,r,r.pendingProps,a),r.child;case 8:return hn(n,r,r.pendingProps.children,a),r.child;case 12:return hn(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,hs(r,r.type,l.value),hn(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ia(r),f=cn(f),l=l(f),r.flags|=1,hn(n,r,l,a),r.child;case 14:return nv(n,r,r.type,r.pendingProps,a);case 15:return iv(n,r,r.type,r.pendingProps,a);case 19:return fv(n,r,a);case 31:return Z1(n,r,a);case 22:return rv(n,r,a,r.pendingProps);case 24:return Ia(r),l=cn(qt),n===null?(f=Rd(),f===null&&(f=dt,d=Sd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Id(r),hs(r,qt,f)):((n.lanes&a)!==0&&(Dd(n,r),Yl(r,null,null,a),Kl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),hs(r,qt,l)):(l=d.cache,hs(r,qt,l),l!==f.cache&&Ad(r,[qt],a,!0))),hn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Dr(n){n.flags|=4}function cm(n,r,a,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Bv())n.flags|=8192;else throw Oa=Bc,Cd}else n.flags&=-16777217}function mv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!DE(r))if(Bv())n.flags|=8192;else throw Oa=Bc,Cd}function ih(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?uc():536870912,n.lanes|=r,No|=r)}function Zl(n,r){if(!Xe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function yt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function tw(n,r,a){var l=r.pendingProps;switch(_d(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return yt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),wr(qt),ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(yo(r)?Dr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ed())),yt(r),null;case 26:var f=r.type,d=r.memoizedState;return n===null?(Dr(r),d!==null?(yt(r),mv(r,d)):(yt(r),cm(r,f,null,l,a))):d?d!==n.memoizedState?(Dr(r),yt(r),mv(r,d)):(yt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&Dr(r),yt(r),cm(r,f,n,l,a)),null;case 27:if(ki(r),a=xe.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Dr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return yt(r),null}n=ge.current,yo(r)?Yy(r):(n=TE(f,l,a),r.stateNode=n,Dr(r))}return yt(r),null;case 5:if(ki(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Dr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return yt(r),null}if(d=ge.current,yo(r))Yy(r);else{var _=_h(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[jt]=r,d[rn]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(fn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Dr(r)}}return yt(r),cm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Dr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=xe.current,yo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=un,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[jt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cE(n.nodeValue,a)),n||cs(r,!0)}else n=_h(n).createTextNode(l),n[jt]=r,r.stateNode=n}return yt(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=yo(r),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[jt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),n=!1}else a=Ed(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(Gn(r),r):(Gn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return yt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=yo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[jt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),f=!1}else f=Ed(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Gn(r),r):(Gn(r),null)}return Gn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),ih(r,r.updateQueue),yt(r),null);case 4:return ft(),n===null&&xm(r.stateNode.containerInfo),yt(r),null;case 10:return wr(r.type),yt(r),null;case 19:if(ie(kt),l=r.memoizedState,l===null)return yt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Zl(l,!1);else{if(Dt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=qc(n),d!==null){for(r.flags|=128,Zl(l,!1),n=d.updateQueue,r.updateQueue=n,ih(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Fy(a,n),a=a.sibling;return pe(kt,kt.current&1|2),Xe&&Ar(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&de()>lh&&(r.flags|=128,f=!0,Zl(l,!1),r.lanes=4194304)}else{if(!f)if(n=qc(d),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,ih(r,n),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Xe)return yt(r),null}else 2*de()-l.renderingStartTime>lh&&a!==536870912&&(r.flags|=128,f=!0,Zl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(n=l.last,n!==null?n.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=de(),n.sibling=null,a=kt.current,pe(kt,f?a&1|2:a&1),Xe&&Ar(r,l.treeForkCount),n):(yt(r),null);case 22:case 23:return Gn(r),Vd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),a=r.updateQueue,a!==null&&ih(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ie(Da),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),wr(qt),yt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function nw(n,r){switch(_d(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return wr(qt),ft(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ki(r),null;case 31:if(r.memoizedState!==null){if(Gn(r),r.alternate===null)throw Error(s(340));Ra()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Gn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ra()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ie(kt),null;case 4:return ft(),null;case 10:return wr(r.type),null;case 22:case 23:return Gn(r),Vd(),n!==null&&ie(Da),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return wr(qt),null;case 25:return null;default:return null}}function pv(n,r){switch(_d(r),r.tag){case 3:wr(qt),ft();break;case 26:case 27:case 5:ki(r);break;case 4:ft();break;case 31:r.memoizedState!==null&&Gn(r);break;case 13:Gn(r);break;case 19:ie(kt);break;case 10:wr(r.type);break;case 22:case 23:Gn(r),Vd(),n!==null&&ie(Da);break;case 24:wr(qt)}}function eu(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){ot(r,r.return,b)}}function ys(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var N=a,H=b;try{H()}catch(Z){ot(f,N,Z)}}}l=l.next}while(l!==d)}}catch(Z){ot(r,r.return,Z)}}function gv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{a_(r,a)}catch(l){ot(n,n.return,l)}}}function yv(n,r,a){a.props=Ma(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ot(n,r,l)}}function tu(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){ot(n,r,f)}}function nr(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ot(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ot(n,r,f)}else a.current=null}function _v(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ot(n,n.return,f)}}function hm(n,r,a){try{var l=n.stateNode;Sw(l,n.type,a,r),l[rn]=r}catch(f){ot(n,n.return,f)}}function vv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ss(n.type)||n.tag===4}function fm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ss(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dm(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ti));else if(l!==4&&(l===27&&Ss(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(dm(n,r,a),n=n.sibling;n!==null;)dm(n,r,a),n=n.sibling}function rh(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Ss(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(rh(n,r,a),n=n.sibling;n!==null;)rh(n,r,a),n=n.sibling}function Ev(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);fn(r,l,a),r[jt]=n,r[rn]=a}catch(d){ot(n,n.return,d)}}var Nr=!1,Yt=!1,mm=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,an=null;function iw(n,r){if(n=n.containerInfo,km=wh,n=Vy(n),od(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,H=0,Z=0,se=n,q=null;t:for(;;){for(var $;se!==a||f!==0&&se.nodeType!==3||(b=_+f),se!==d||l!==0&&se.nodeType!==3||(N=_+l),se.nodeType===3&&(_+=se.nodeValue.length),($=se.firstChild)!==null;)q=se,se=$;for(;;){if(se===n)break t;if(q===a&&++H===f&&(b=_),q===d&&++Z===l&&(N=_),($=se.nextSibling)!==null)break;se=q,q=se.parentNode}se=$}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lm={focusedElem:n,selectionRange:a},wh=!1,an=r;an!==null;)if(r=an,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,an=n;else for(;an!==null;){switch(r=an,d=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ve=Ma(a.type,f);n=l.getSnapshotBeforeUpdate(ve,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Re){ot(a,a.return,Re)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)zm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":zm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,an=n;break}an=r.return}}function bv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xr(n,a),l&4&&eu(5,a);break;case 1:if(xr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){ot(a,a.return,_)}else{var f=Ma(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){ot(a,a.return,_)}}l&64&&gv(a),l&512&&tu(a,a.return);break;case 3:if(xr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{a_(n,r)}catch(_){ot(a,a.return,_)}}break;case 27:r===null&&l&4&&Ev(a);case 26:case 5:xr(n,a),r===null&&l&4&&_v(a),l&512&&tu(a,a.return);break;case 12:xr(n,a);break;case 31:xr(n,a),l&4&&wv(n,a);break;case 13:xr(n,a),l&4&&Rv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=fw.bind(null,a),xw(n,a))));break;case 22:if(l=a.memoizedState!==null||Nr,!l){r=r!==null&&r.memoizedState!==null||Yt,f=Nr;var d=Yt;Nr=l,(Yt=r)&&!d?Vr(n,a,(a.subtreeFlags&8772)!==0):xr(n,a),Nr=f,Yt=d}break;case 30:break;default:xr(n,a)}}function Av(n){var r=n.alternate;r!==null&&(n.alternate=null,Av(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Za(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bt=null,In=!1;function Or(n,r,a){for(a=a.child;a!==null;)Sv(n,r,a),a=a.sibling}function Sv(n,r,a){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Yt||nr(a,r),Or(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Yt||nr(a,r);var l=bt,f=In;Ss(a.type)&&(bt=a.stateNode,In=!1),Or(n,r,a),cu(a.stateNode),bt=l,In=f;break;case 5:Yt||nr(a,r);case 6:if(l=bt,f=In,bt=null,Or(n,r,a),bt=l,In=f,bt!==null)if(In)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(d){ot(a,r,d)}else try{bt.removeChild(a.stateNode)}catch(d){ot(a,r,d)}break;case 18:bt!==null&&(In?(n=bt,gE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Uo(n)):gE(bt,a.stateNode));break;case 4:l=bt,f=In,bt=a.stateNode.containerInfo,In=!0,Or(n,r,a),bt=l,In=f;break;case 0:case 11:case 14:case 15:ys(2,a,r),Yt||ys(4,a,r),Or(n,r,a);break;case 1:Yt||(nr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yv(a,r,l)),Or(n,r,a);break;case 21:Or(n,r,a);break;case 22:Yt=(l=Yt)||a.memoizedState!==null,Or(n,r,a),Yt=l;break;default:Or(n,r,a)}}function wv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Uo(n)}catch(a){ot(r,r.return,a)}}}function Rv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Uo(n)}catch(a){ot(r,r.return,a)}}function rw(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Tv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Tv),r;default:throw Error(s(435,n.tag))}}function sh(n,r){var a=rw(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=dw.bind(null,n,l);l.then(f,f)}})}function Dn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Ss(b.type)){bt=b.stateNode,In=!1;break e}break;case 5:bt=b.stateNode,In=!1;break e;case 3:case 4:bt=b.stateNode.containerInfo,In=!0;break e}b=b.return}if(bt===null)throw Error(s(160));Sv(d,_,f),bt=null,In=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Cv(r,n),r=r.sibling}var Ci=null;function Cv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(r,n),Nn(n),l&4&&(ys(3,n,n.return),eu(3,n),ys(5,n,n.return));break;case 1:Dn(r,n),Nn(n),l&512&&(Yt||a===null||nr(a,a.return)),l&64&&Nr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ci;if(Dn(r,n),Nn(n),l&512&&(Yt||a===null||nr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Fi]||d[jt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),fn(d,l,a),d[jt]=n,Ft(d),l=d;break e;case"link":var _=CE("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),fn(d,l,a),f.head.appendChild(d);break;case"meta":if(_=CE("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),fn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[jt]=n,Ft(d),l=d}n.stateNode=l}else IE(f,n.type,n.stateNode);else n.stateNode=RE(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?IE(f,n.type,n.stateNode):RE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&hm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Dn(r,n),Nn(n),l&512&&(Yt||a===null||nr(a,a.return)),a!==null&&l&4&&hm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Dn(r,n),Nn(n),l&512&&(Yt||a===null||nr(a,a.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch(ve){ot(n,n.return,ve)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,hm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(mm=!0);break;case 6:if(Dn(r,n),Nn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ve){ot(n,n.return,ve)}}break;case 3:if(Th=null,f=Ci,Ci=vh(r.containerInfo),Dn(r,n),Ci=f,Nn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Uo(r.containerInfo)}catch(ve){ot(n,n.return,ve)}mm&&(mm=!1,Iv(n));break;case 4:l=Ci,Ci=vh(n.stateNode.containerInfo),Dn(r,n),Nn(n),Ci=l;break;case 12:Dn(r,n),Nn(n);break;case 31:Dn(r,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,sh(n,l)));break;case 13:Dn(r,n),Nn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oh=de()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,sh(n,l)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=Nr,Z=Yt;if(Nr=H||f,Yt=Z||N,Dn(r,n),Yt=Z,Nr=H,Nn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||Nr||Yt||ka(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var se=N.memoizedProps.style,q=se!=null&&se.hasOwnProperty("display")?se.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ve){ot(N,N.return,ve)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ve){ot(N,N.return,ve)}}}else if(r.tag===18){if(a===null){N=r;try{var $=N.stateNode;f?yE($,!0):yE(N.stateNode,!1)}catch(ve){ot(N,N.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sh(n,a))));break;case 19:Dn(r,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,sh(n,l)));break;case 30:break;case 21:break;default:Dn(r,n),Nn(n)}}function Nn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(vv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=fm(n);rh(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(Cn(_,""),a.flags&=-33);var b=fm(n);rh(n,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=fm(n);dm(n,H,N);break;default:throw Error(s(161))}}catch(Z){ot(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Iv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Iv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function xr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bv(n,r.alternate,r),r=r.sibling}function ka(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ys(4,r,r.return),ka(r);break;case 1:nr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&yv(r,r.return,a),ka(r);break;case 27:cu(r.stateNode);case 26:case 5:nr(r,r.return),ka(r);break;case 22:r.memoizedState===null&&ka(r);break;case 30:ka(r);break;default:ka(r)}n=n.sibling}}function Vr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(f,d,a),eu(4,d);break;case 1:if(Vr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ot(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)s_(N[f],b)}catch(H){ot(l,l.return,H)}}a&&_&64&&gv(d),tu(d,d.return);break;case 27:Ev(d);case 26:case 5:Vr(f,d,a),a&&l===null&&_&4&&_v(d),tu(d,d.return);break;case 12:Vr(f,d,a);break;case 31:Vr(f,d,a),a&&_&4&&wv(f,d);break;case 13:Vr(f,d,a),a&&_&4&&Rv(f,d);break;case 22:d.memoizedState===null&&Vr(f,d,a),tu(d,d.return);break;case 30:break;default:Vr(f,d,a)}r=r.sibling}}function pm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&jl(a))}function gm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&jl(n))}function Ii(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Dv(n,r,a,l),r=r.sibling}function Dv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(n,r,a,l),f&2048&&eu(9,r);break;case 1:Ii(n,r,a,l);break;case 3:Ii(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&jl(n)));break;case 12:if(f&2048){Ii(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){ot(r,r.return,N)}}else Ii(n,r,a,l);break;case 31:Ii(n,r,a,l);break;case 13:Ii(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Ii(n,r,a,l):nu(n,r):d._visibility&2?Ii(n,r,a,l):(d._visibility|=2,Co(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&pm(_,r);break;case 24:Ii(n,r,a,l),f&2048&&gm(r.alternate,r);break;default:Ii(n,r,a,l)}}function Co(n,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=n,_=r,b=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Co(d,_,b,N,f),eu(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Co(d,_,b,N,f):nu(d,_):(Z._visibility|=2,Co(d,_,b,N,f)),f&&H&2048&&pm(_.alternate,_);break;case 24:Co(d,_,b,N,f),f&&H&2048&&gm(_.alternate,_);break;default:Co(d,_,b,N,f)}r=r.sibling}}function nu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:nu(a,l),f&2048&&pm(l.alternate,l);break;case 24:nu(a,l),f&2048&&gm(l.alternate,l);break;default:nu(a,l)}r=r.sibling}}var iu=8192;function Io(n,r,a){if(n.subtreeFlags&iu)for(n=n.child;n!==null;)Nv(n,r,a),n=n.sibling}function Nv(n,r,a){switch(n.tag){case 26:Io(n,r,a),n.flags&iu&&n.memoizedState!==null&&qw(a,Ci,n.memoizedState,n.memoizedProps);break;case 5:Io(n,r,a);break;case 3:case 4:var l=Ci;Ci=vh(n.stateNode.containerInfo),Io(n,r,a),Ci=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=iu,iu=16777216,Io(n,r,a),iu=l):Io(n,r,a));break;default:Io(n,r,a)}}function Ov(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ru(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];an=l,Vv(l,n)}Ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xv(n),n=n.sibling}function xv(n){switch(n.tag){case 0:case 11:case 15:ru(n),n.flags&2048&&ys(9,n,n.return);break;case 3:ru(n);break;case 12:ru(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,ah(n)):ru(n);break;default:ru(n)}}function ah(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];an=l,Vv(l,n)}Ov(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ys(8,r,r.return),ah(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ah(r));break;default:ah(r)}n=n.sibling}}function Vv(n,r){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:ys(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,an=l;else e:for(a=n;an!==null;){l=an;var f=l.sibling,d=l.return;if(Av(l),l===a){an=null;break e}if(f!==null){f.return=d,an=f;break e}an=d}}}var sw={getCacheForType:function(n){var r=cn(qt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return cn(qt).controller.signal}},aw=typeof WeakMap=="function"?WeakMap:Map,it=0,dt=null,Be=null,qe=0,at=0,Kn=null,_s=!1,Do=!1,ym=!1,Mr=0,Dt=0,vs=0,La=0,_m=0,Yn=0,No=0,su=null,On=null,vm=!1,oh=0,Mv=0,lh=1/0,uh=null,Es=null,Wt=0,Ts=null,Oo=null,kr=0,Em=0,Tm=null,kv=null,au=0,bm=null;function Qn(){return(it&2)!==0&&qe!==0?qe&-qe:X.T!==null?Im():cc()}function Lv(){if(Yn===0)if((qe&536870912)===0||Xe){var n=ua;ua<<=1,(ua&3932160)===0&&(ua=262144),Yn=n}else Yn=536870912;return n=qn.current,n!==null&&(n.flags|=32),Yn}function xn(n,r,a){(n===dt&&(at===2||at===9)||n.cancelPendingCommit!==null)&&(xo(n,0),bs(n,qe,Yn,!1)),ca(n,a),((it&2)===0||n!==dt)&&(n===dt&&((it&2)===0&&(La|=a),Dt===4&&bs(n,qe,Yn,!1)),ir(n))}function Pv(n,r,a){if((it&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||_i(n,r),f=l?uw(n,r):Sm(n,r,!0),d=l;do{if(f===0){Do&&!l&&bs(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!ow(a)){f=Sm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=n;f=su;var N=b.current.memoizedState.isDehydrated;if(N&&(xo(b,_).flags|=256),_=Sm(b,_,!1),_!==2){if(ym&&!N){b.errorRecoveryDisabledLanes|=d,La|=d,f=4;break e}d=On,On=f,d!==null&&(On===null?On=d:On.push.apply(On,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){xo(n,0),bs(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:bs(l,r,Yn,!_s);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=oh+300-de(),10<f)){if(bs(l,r,Yn,!_s),zi(l,0,!0)!==0)break e;kr=r,l.timeoutHandle=mE(Uv.bind(null,l,a,On,uh,vm,r,Yn,La,No,_s,d,"Throttled",-0,0),f);break e}Uv(l,a,On,uh,vm,r,Yn,La,No,_s,d,null,-0,0)}}break}while(!0);ir(n)}function Uv(n,r,a,l,f,d,_,b,N,H,Z,se,q,$){if(n.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},Nv(r,d,se);var ve=(d&62914560)===d?oh-de():(d&4194048)===d?Mv-de():0;if(ve=Gw(se,ve),ve!==null){kr=d,n.cancelPendingCommit=ve(Kv.bind(null,n,r,d,a,l,f,_,b,N,Z,se,null,q,$)),bs(n,d,_,!H);return}}Kv(n,r,d,a,l,f,_,b,N)}function ow(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Fn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function bs(n,r,a,l){r&=~_m,r&=~La,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-wt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&ha(n,a,r)}function ch(){return(it&6)===0?(ou(0),!1):!0}function Am(){if(Be!==null){if(at===0)var n=Be.return;else n=Be,Sr=Ca=null,zd(n),bo=null,Hl=0,n=Be;for(;n!==null;)pv(n.alternate,n),n=n.return;Be=null}}function xo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Cw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),kr=0,Am(),dt=n,Be=a=br(n.current,null),qe=r,at=0,Kn=null,_s=!1,Do=_i(n,r),ym=!1,No=Yn=_m=La=vs=Dt=0,On=su=null,vm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-wt(l),d=1<<f;r|=n[f],l&=~d}return Mr=r,Oc(),a}function zv(n,r){Le=null,X.H=Jl,r===To||r===zc?(r=t_(),at=3):r===Cd?(r=t_(),at=4):at=r===tm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Kn=r,Be===null&&(Dt=1,Zc(n,ai(r,n.current)))}function Bv(){var n=qn.current;return n===null?!0:(qe&4194048)===qe?ci===null:(qe&62914560)===qe||(qe&536870912)!==0?n===ci:!1}function jv(){var n=X.H;return X.H=Jl,n===null?Jl:n}function Fv(){var n=X.A;return X.A=sw,n}function hh(){Dt=4,_s||(qe&4194048)!==qe&&qn.current!==null||(Do=!0),(vs&134217727)===0&&(La&134217727)===0||dt===null||bs(dt,qe,Yn,!1)}function Sm(n,r,a){var l=it;it|=2;var f=jv(),d=Fv();(dt!==n||qe!==r)&&(uh=null,xo(n,r)),r=!1;var _=Dt;e:do try{if(at!==0&&Be!==null){var b=Be,N=Kn;switch(at){case 8:Am(),_=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var H=at;if(at=0,Kn=null,Vo(n,b,N,H),a&&Do){_=0;break e}break;default:H=at,at=0,Kn=null,Vo(n,b,N,H)}}lw(),_=Dt;break}catch(Z){zv(n,Z)}while(!0);return r&&n.shellSuspendCounter++,Sr=Ca=null,it=l,X.H=f,X.A=d,Be===null&&(dt=null,qe=0,Oc()),_}function lw(){for(;Be!==null;)Hv(Be)}function uw(n,r){var a=it;it|=2;var l=jv(),f=Fv();dt!==n||qe!==r?(uh=null,lh=de()+500,xo(n,r)):Do=_i(n,r);e:do try{if(at!==0&&Be!==null){r=Be;var d=Kn;t:switch(at){case 1:at=0,Kn=null,Vo(n,r,d,1);break;case 2:case 9:if(Zy(d)){at=0,Kn=null,qv(r);break}r=function(){at!==2&&at!==9||dt!==n||(at=7),ir(n)},d.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Zy(d)?(at=0,Kn=null,qv(r)):(at=0,Kn=null,Vo(n,r,d,7));break;case 5:var _=null;switch(Be.tag){case 26:_=Be.memoizedState;case 5:case 27:var b=Be;if(_?DE(_):b.stateNode.complete){at=0,Kn=null;var N=b.sibling;if(N!==null)Be=N;else{var H=b.return;H!==null?(Be=H,fh(H)):Be=null}break t}}at=0,Kn=null,Vo(n,r,d,5);break;case 6:at=0,Kn=null,Vo(n,r,d,6);break;case 8:Am(),Dt=6;break e;default:throw Error(s(462))}}cw();break}catch(Z){zv(n,Z)}while(!0);return Sr=Ca=null,X.H=l,X.A=f,it=a,Be!==null?0:(dt=null,qe=0,Oc(),Dt)}function cw(){for(;Be!==null&&!F();)Hv(Be)}function Hv(n){var r=dv(n.alternate,n,Mr);n.memoizedProps=n.pendingProps,r===null?fh(n):Be=r}function qv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=ov(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=ov(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:zd(r);default:pv(a,r),r=Be=Fy(r,Mr),r=dv(a,r,Mr)}n.memoizedProps=n.pendingProps,r===null?fh(n):Be=r}function Vo(n,r,a,l){Sr=Ca=null,zd(r),bo=null,Hl=0;var f=r.return;try{if(W1(n,f,r,a,qe)){Dt=1,Zc(n,ai(a,n.current)),Be=null;return}}catch(d){if(f!==null)throw Be=f,d;Dt=1,Zc(n,ai(a,n.current)),Be=null;return}r.flags&32768?(Xe||l===1?n=!0:Do||(qe&536870912)!==0?n=!1:(_s=n=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gv(r,n)):fh(r)}function fh(n){var r=n;do{if((r.flags&32768)!==0){Gv(r,_s);return}n=r.return;var a=tw(r.alternate,r,Mr);if(a!==null){Be=a;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=n}while(r!==null);Dt===0&&(Dt=5)}function Gv(n,r){do{var a=nw(n.alternate,n);if(a!==null){a.flags&=32767,Be=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Be=n;return}Be=n=a}while(n!==null);Dt=6,Be=null}function Kv(n,r,a,l,f,d,_,b,N){n.cancelPendingCommit=null;do dh();while(Wt!==0);if((it&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=fd,id(n,a,d,_,b,N),n===dt&&(Be=dt=null,qe=0),Oo=r,Ts=n,kr=a,Em=d,Tm=f,kv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,mw(ze,function(){return Jv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=he.p,he.p=2,_=it,it|=4;try{iw(n,r,a)}finally{it=_,he.p=f,X.T=l}}Wt=1,Yv(),Qv(),$v()}}function Yv(){if(Wt===1){Wt=0;var n=Ts,r=Oo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=he.p;he.p=2;var f=it;it|=4;try{Cv(r,n);var d=Lm,_=Vy(n.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&xy(b.ownerDocument.documentElement,b)){if(N!==null&&od(b)){var H=N.start,Z=N.end;if(Z===void 0&&(Z=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(Z,b.value.length);else{var se=b.ownerDocument||document,q=se&&se.defaultView||window;if(q.getSelection){var $=q.getSelection(),ve=b.textContent.length,Re=Math.min(N.start,ve),ht=N.end===void 0?Re:Math.min(N.end,ve);!$.extend&&Re>ht&&(_=ht,ht=Re,Re=_);var P=Oy(b,Re),k=Oy(b,ht);if(P&&k&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var B=se.createRange();B.setStart(P.node,P.offset),$.removeAllRanges(),Re>ht?($.addRange(B),$.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),$.addRange(B))}}}}for(se=[],$=b;$=$.parentNode;)$.nodeType===1&&se.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<se.length;b++){var te=se[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}wh=!!km,Lm=km=null}finally{it=f,he.p=l,X.T=a}}n.current=r,Wt=2}}function Qv(){if(Wt===2){Wt=0;var n=Ts,r=Oo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=he.p;he.p=2;var f=it;it|=4;try{bv(n,r.alternate,r)}finally{it=f,he.p=l,X.T=a}}Wt=3}}function $v(){if(Wt===4||Wt===3){Wt=0,J();var n=Ts,r=Oo,a=kr,l=kv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,Oo=Ts=null,Xv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Es=null),_r(a),r=r.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(zn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=he.p,he.p=2,X.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{X.T=r,he.p=f}}(kr&3)!==0&&dh(),ir(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===bm?au++:(au=0,bm=n):au=0,ou(0)}}function Xv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,jl(r)))}function dh(){return Yv(),Qv(),$v(),Jv()}function Jv(){if(Wt!==5)return!1;var n=Ts,r=Em;Em=0;var a=_r(kr),l=X.T,f=he.p;try{he.p=32>a?32:a,X.T=null,a=Tm,Tm=null;var d=Ts,_=kr;if(Wt=0,Oo=Ts=null,kr=0,(it&6)!==0)throw Error(s(331));var b=it;if(it|=4,xv(d.current),Dv(d,d.current,_,a),it=b,ou(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{he.p=f,X.T=l,Xv(n,r)}}function Wv(n,r,a){r=ai(a,r),r=em(n.stateNode,r,2),n=ms(n,r,2),n!==null&&(ca(n,2),ir(n))}function ot(n,r,a){if(n.tag===3)Wv(n,n,a);else for(;r!==null;){if(r.tag===3){Wv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Es===null||!Es.has(l))){n=ai(a,n),a=Z_(2),l=ms(r,a,2),l!==null&&(ev(a,l,r,n),ca(l,2),ir(l));break}}r=r.return}}function wm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new aw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(ym=!0,f.add(a),n=hw.bind(null,n,r,a),r.then(n,n))}function hw(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,dt===n&&(qe&a)===a&&(Dt===4||Dt===3&&(qe&62914560)===qe&&300>de()-oh?(it&2)===0&&xo(n,0):_m|=a,No===qe&&(No=0)),ir(n)}function Zv(n,r){r===0&&(r=uc()),n=Sa(n,r),n!==null&&(ca(n,r),ir(n))}function fw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Zv(n,a)}function dw(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Zv(n,a)}function mw(n,r){return Ct(n,r)}var mh=null,Mo=null,Rm=!1,ph=!1,Cm=!1,As=0;function ir(n){n!==Mo&&n.next===null&&(Mo===null?mh=Mo=n:Mo=Mo.next=n),ph=!0,Rm||(Rm=!0,gw())}function ou(n,r){if(!Cm&&ph){Cm=!0;do for(var a=!1,l=mh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-wt(42|n)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,iE(l,d))}else d=qe,d=zi(l,l===dt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||_i(l,d)||(a=!0,iE(l,d));l=l.next}while(a);Cm=!1}}function pw(){eE()}function eE(){ph=Rm=!1;var n=0;As!==0&&Rw()&&(n=As);for(var r=de(),a=null,l=mh;l!==null;){var f=l.next,d=tE(l,r);d===0?(l.next=null,a===null?mh=f:a.next=f,f===null&&(Mo=a)):(a=l,(n!==0||(d&3)!==0)&&(ph=!0)),l=f}Wt!==0&&Wt!==5||ou(n),As!==0&&(As=0)}function tE(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-wt(d),b=1<<_,N=f[_];N===-1?((b&a)===0||(b&l)!==0)&&(f[_]=nd(b,r)):N<=r&&(n.expiredLanes|=b),d&=~b}if(r=dt,a=qe,a=zi(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(at===2||at===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&O(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||_i(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&O(l),_r(a)){case 2:case 8:a=be;break;case 32:a=ze;break;case 268435456:a=zt;break;default:a=ze}return l=nE.bind(null,n),a=Ct(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&O(l),n.callbackPriority=2,n.callbackNode=null,2}function nE(n,r){if(Wt!==0&&Wt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(dh()&&n.callbackNode!==a)return null;var l=qe;return l=zi(n,n===dt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Pv(n,l,r),tE(n,de()),n.callbackNode!=null&&n.callbackNode===a?nE.bind(null,n):null)}function iE(n,r){if(dh())return null;Pv(n,r,!0)}function gw(){Iw(function(){(it&6)!==0?Ct(ce,pw):eE()})}function Im(){if(As===0){var n=vo;n===0&&(n=Pi,Pi<<=1,(Pi&261888)===0&&(Pi=256)),As=n}return As}function rE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:io(""+n)}function sE(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function yw(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=rE((f[rn]||null).action),_=l.submitter;_&&(r=(r=_[rn]||null)?rE(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Xi("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(As!==0){var N=_?sE(f,_):new FormData(f);Qd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?sE(f,_):new FormData(f),Qd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Dm=0;Dm<hd.length;Dm++){var Nm=hd[Dm],_w=Nm.toLowerCase(),vw=Nm[0].toUpperCase()+Nm.slice(1);Ri(_w,"on"+vw)}Ri(Ly,"onAnimationEnd"),Ri(Py,"onAnimationIteration"),Ri(Uy,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(k1,"onTransitionRun"),Ri(L1,"onTransitionStart"),Ri(P1,"onTransitionCancel"),Ri(zy,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ew=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function aE(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,H=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(Z){Nc(Z)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,H=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(Z){Nc(Z)}f.currentTarget=null,d=N}}}}function je(n,r){var a=r[Wa];a===void 0&&(a=r[Wa]=new Set);var l=n+"__bubble";a.has(l)||(oE(r,n,2,!1),a.add(l))}function Om(n,r,a){var l=0;r&&(l|=4),oE(a,n,l,r)}var gh="_reactListening"+Math.random().toString(36).slice(2);function xm(n){if(!n[gh]){n[gh]=!0,El.forEach(function(a){a!=="selectionchange"&&(Ew.has(a)||Om(a,!1,n),Om(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[gh]||(r[gh]=!0,Om("selectionchange",!1,r))}}function oE(n,r,a,l){switch(LE(r)){case 2:var f=Qw;break;case 8:f=$w;break;default:f=Ym}a=f.bind(null,r,a,n),f=void 0,!ga||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Vm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Hi(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}b=b.parentNode}}l=l.return}rs(function(){var H=d,Z=ni(a),se=[];e:{var q=By.get(n);if(q!==void 0){var $=Xi,ve=n;switch(n){case"keypress":if(_a(a)===0)break e;case"keydown":case"keyup":$=Cc;break;case"focusin":ve="focus",$=Ea;break;case"focusout":ve="blur",$=Ea;break;case"beforeblur":case"afterblur":$=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=_c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Ly:case Py:case Uy:$=Ec;break;case zy:$=S;break;case"scroll":case"scrollend":$=xl;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Tr;break;case"toggle":case"beforetoggle":$=ke}var Re=(r&4)!==0,ht=!Re&&(n==="scroll"||n==="scrollend"),P=Re?q!==null?q+"Capture":null:q;Re=[];for(var k=H,B;k!==null;){var te=k;if(B=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||B===null||P===null||(te=bi(k,P),te!=null&&Re.push(uu(k,te,B))),ht)break;k=k.return}0<Re.length&&(q=new $(q,ve,null,a,Z),se.push({event:q,listeners:Re}))}}if((r&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",q&&a!==Dl&&(ve=a.relatedTarget||a.fromElement)&&(Hi(ve)||ve[ji]))break e;if(($||q)&&(q=Z.window===Z?Z:(q=Z.ownerDocument)?q.defaultView||q.parentWindow:window,$?(ve=a.relatedTarget||a.toElement,$=H,ve=ve?Hi(ve):null,ve!==null&&(ht=u(ve),Re=ve.tag,ve!==ht||Re!==5&&Re!==27&&Re!==6)&&(ve=null)):($=null,ve=H),$!==ve)){if(Re=Vl,te="onMouseLeave",P="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(Re=Tr,te="onPointerLeave",P="onPointerEnter",k="pointer"),ht=$==null?q:Bn($),B=ve==null?q:Bn(ve),q=new Re(te,k+"leave",$,a,Z),q.target=ht,q.relatedTarget=B,te=null,Hi(Z)===H&&(Re=new Re(P,k+"enter",ve,a,Z),Re.target=B,Re.relatedTarget=ht,te=Re),ht=te,$&&ve)t:{for(Re=Tw,P=$,k=ve,B=0,te=P;te;te=Re(te))B++;te=0;for(var Se=k;Se;Se=Re(Se))te++;for(;0<B-te;)P=Re(P),B--;for(;0<te-B;)k=Re(k),te--;for(;B--;){if(P===k||k!==null&&P===k.alternate){Re=P;break t}P=Re(P),k=Re(k)}Re=null}else Re=null;$!==null&&lE(se,q,$,Re,!1),ve!==null&&ht!==null&&lE(se,ht,ve,Re,!0)}}e:{if(q=H?Bn(H):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var Ze=wy;else if(Ay(q))if(Ry)Ze=x1;else{Ze=N1;var Te=D1}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&no(H.elementType)&&(Ze=wy):Ze=O1;if(Ze&&(Ze=Ze(n,H))){Sy(se,Ze,a,Z);break e}Te&&Te(n,q,H),n==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Rl(q,"number",q.value)}switch(Te=H?Bn(H):window,n){case"focusin":(Ay(Te)||Te.contentEditable==="true")&&(co=Te,ld=H,Ul=null);break;case"focusout":Ul=ld=co=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,My(se,a,Z);break;case"selectionchange":if(M1)break;case"keydown":case"keyup":My(se,a,Z)}var Pe;if(nt)e:{switch(n){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else uo?Ta(n,a)&&(Ge="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ge="onCompositionStart");Ge&&(Zi&&a.locale!=="ko"&&(uo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&uo&&(Pe=Ol()):($i=Z,Nl="value"in $i?$i.value:$i.textContent,uo=!0)),Te=yh(H,Ge),0<Te.length&&(Ge=new Wi(Ge,n,null,a,Z),se.push({event:Ge,listeners:Te}),Pe?Ge.data=Pe:(Pe=lo(a),Pe!==null&&(Ge.data=Pe)))),(Pe=ri?w1(n,a):R1(n,a))&&(Ge=yh(H,"onBeforeInput"),0<Ge.length&&(Te=new Wi("onBeforeInput","beforeinput",null,a,Z),se.push({event:Te,listeners:Ge}),Te.data=Pe)),yw(se,n,H,a,Z)}aE(se,r)})}function uu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function yh(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=bi(n,a),f!=null&&l.unshift(uu(n,f,d)),f=bi(n,r),f!=null&&l.push(uu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Tw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function lE(n,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,H=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||H===null||(N=H,f?(H=bi(a,d),H!=null&&_.unshift(uu(a,H,N))):f||(H=bi(a,d),H!=null&&_.push(uu(a,H,N)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var bw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function uE(n){return(typeof n=="string"?n:""+n).replace(bw,`
`).replace(Aw,"")}function cE(n,r){return r=uE(r),uE(n)===r}function ct(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Cn(n,""+l);break;case"className":jn(n,"class",l);break;case"tabIndex":jn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(n,a,l);break;case"style":Il(n,l,d);break;case"data":if(r!=="object"){jn(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=io(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ct(n,r,"name",f.name,f,null),ct(n,r,"formEncType",f.formEncType,f,null),ct(n,r,"formMethod",f.formMethod,f,null),ct(n,r,"formTarget",f.formTarget,f,null)):(ct(n,r,"encType",f.encType,f,null),ct(n,r,"method",f.method,f,null),ct(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=io(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Ti);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=io(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":je("beforetoggle",n),je("toggle",n),eo(n,"popover",l);break;case"xlinkActuate":Ht(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":eo(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yc.get(a)||a,eo(n,a,l))}}function Mm(n,r,a,l,f,d){switch(a){case"style":Il(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&Cn(n,""+l);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[rn]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):eo(n,a,l)}}}function fn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ct(n,r,d,_,a,null)}}f&&ct(n,r,"srcSet",a.srcSet,a,null),l&&ct(n,r,"src",a.src,a,null);return;case"input":je("invalid",n);var b=d=_=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":N=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:ct(n,r,l,Z,a,null)}}mc(n,d,b,N,H,_,f,!1);return;case"select":je("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:ct(n,r,f,b,a,null)}r=d,a=_,n.multiple=!!l,r!=null?es(n,!!l,r,!1):a!=null&&es(n,!!l,a,!0);return;case"textarea":je("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ct(n,r,_,b,a,null)}ts(n,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":ct(n,r,N,l,a,null));return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(l=0;l<lu.length;l++)je(lu[l],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ct(n,r,H,l,a,null)}return;default:if(no(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Mm(n,r,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ct(n,r,b,l,a,null))}function Sw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,N=null,H=null,Z=null;for($ in a){var se=a[$];if(a.hasOwnProperty($)&&se!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=se;default:l.hasOwnProperty($)||ct(n,r,$,null,l,se)}}for(var q in l){var $=l[q];if(se=a[q],l.hasOwnProperty(q)&&($!=null||se!=null))switch(q){case"type":d=$;break;case"name":f=$;break;case"checked":H=$;break;case"defaultChecked":Z=$;break;case"value":_=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==se&&ct(n,r,q,$,l,se)}}to(n,_,b,N,H,Z,d,f);return;case"select":$=_=b=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(d)||ct(n,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":q=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&ct(n,r,f,d,l,N)}r=b,a=_,l=$,q!=null?es(n,!!a,q,!1):!!l!=!!a&&(r!=null?es(n,!!a,r,!0):es(n,!!a,a?[]:"",!1));return;case"textarea":$=q=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ct(n,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ct(n,r,_,f,l,d)}pc(n,q,$);return;case"option":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&(ve==="selected"?n.selected=!1:ct(n,r,ve,null,l,q));for(N in l)q=l[N],$=a[N],l.hasOwnProperty(N)&&q!==$&&(q!=null||$!=null)&&(N==="selected"?n.selected=q&&typeof q!="function"&&typeof q!="symbol":ct(n,r,N,q,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)q=a[Re],a.hasOwnProperty(Re)&&q!=null&&!l.hasOwnProperty(Re)&&ct(n,r,Re,null,l,q);for(H in l)if(q=l[H],$=a[H],l.hasOwnProperty(H)&&q!==$&&(q!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:ct(n,r,H,q,l,$)}return;default:if(no(r)){for(var ht in a)q=a[ht],a.hasOwnProperty(ht)&&q!==void 0&&!l.hasOwnProperty(ht)&&Mm(n,r,ht,void 0,l,q);for(Z in l)q=l[Z],$=a[Z],!l.hasOwnProperty(Z)||q===$||q===void 0&&$===void 0||Mm(n,r,Z,q,l,$);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&ct(n,r,P,null,l,q);for(se in l)q=l[se],$=a[se],!l.hasOwnProperty(se)||q===$||q==null&&$==null||ct(n,r,se,q,l,$)}function hE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ww(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&hE(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>b)break;var Z=N.transferSize,se=N.initiatorType;Z&&hE(se)&&(N=N.responseEnd,_+=Z*(N<b?1:(b-H)/(N-H)))}if(--l,r+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var km=null,Lm=null;function _h(n){return n.nodeType===9?n:n.ownerDocument}function fE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Pm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Um=null;function Rw(){var n=window.event;return n&&n.type==="popstate"?n===Um?!1:(Um=n,!0):(Um=null,!1)}var mE=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(n){return pE.resolve(null).then(n).catch(Dw)}:mE;function Dw(n){setTimeout(function(){throw n})}function Ss(n){return n==="head"}function gE(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Uo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")cu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,cu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Fi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&cu(n.ownerDocument.body);a=f}while(a);Uo(r)}function yE(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function zm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zm(a),Za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Nw(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Fi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=hi(n.nextSibling),n===null)break}return null}function Ow(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=hi(n.nextSibling),n===null))return null;return n}function _E(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=hi(n.nextSibling),n===null))return null;return n}function Bm(n){return n.data==="$?"||n.data==="$~"}function jm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function xw(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function hi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Fm=null;function vE(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return hi(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function EE(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function TE(n,r,a){switch(r=_h(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function cu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Za(n)}var fi=new Map,bE=new Set;function vh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Lr=he.d;he.d={f:Vw,r:Mw,D:kw,C:Lw,L:Pw,m:Uw,X:Bw,S:zw,M:jw};function Vw(){var n=Lr.f(),r=ch();return n||r}function Mw(n){var r=ti(n);r!==null&&r.tag===5&&r.type==="form"?z_(r):Lr.r(n)}var ko=typeof document>"u"?null:document;function AE(n,r,a){var l=ko;if(l&&typeof r=="string"&&r){var f=Rn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),bE.has(f)||(bE.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),fn(r,"link",n),Ft(r),l.head.appendChild(r)))}}function kw(n){Lr.D(n),AE("dns-prefetch",n,null)}function Lw(n,r){Lr.C(n,r),AE("preconnect",n,r)}function Pw(n,r,a){Lr.L(n,r,a);var l=ko;if(l&&n&&r){var f='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Rn(a.imageSizes)+'"]')):f+='[href="'+Rn(n)+'"]';var d=f;switch(r){case"style":d=Lo(n);break;case"script":d=Po(n)}fi.has(d)||(n=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),fi.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(hu(d))||r==="script"&&l.querySelector(fu(d))||(r=l.createElement("link"),fn(r,"link",n),Ft(r),l.head.appendChild(r)))}}function Uw(n,r){Lr.m(n,r);var a=ko;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Rn(l)+'"][href="'+Rn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Po(n)}if(!fi.has(d)&&(n=T({rel:"modulepreload",href:n},r),fi.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fu(d)))return}l=a.createElement("link"),fn(l,"link",n),Ft(l),a.head.appendChild(l)}}}function zw(n,r,a){Lr.S(n,r,a);var l=ko;if(l&&n){var f=qi(l).hoistableStyles,d=Lo(n);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(hu(d)))b.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":r},a),(a=fi.get(d))&&Hm(n,a);var N=_=l.createElement("link");Ft(N),fn(N,"link",n),N._p=new Promise(function(H,Z){N.onload=H,N.onerror=Z}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Eh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function Bw(n,r){Lr.X(n,r);var a=ko;if(a&&n){var l=qi(a).hoistableScripts,f=Po(n),d=l.get(f);d||(d=a.querySelector(fu(f)),d||(n=T({src:n,async:!0},r),(r=fi.get(f))&&qm(n,r),d=a.createElement("script"),Ft(d),fn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function jw(n,r){Lr.M(n,r);var a=ko;if(a&&n){var l=qi(a).hoistableScripts,f=Po(n),d=l.get(f);d||(d=a.querySelector(fu(f)),d||(n=T({src:n,async:!0,type:"module"},r),(r=fi.get(f))&&qm(n,r),d=a.createElement("script"),Ft(d),fn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function SE(n,r,a,l){var f=(f=xe.current)?vh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Lo(a.href),a=qi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Lo(a.href);var d=qi(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(hu(n)))&&!d._p&&(_.instance=d,_.state.loading=5),fi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fi.set(n,a),d||Fw(f,n,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Po(a),a=qi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Lo(n){return'href="'+Rn(n)+'"'}function hu(n){return'link[rel="stylesheet"]['+n+"]"}function wE(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function Fw(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),fn(r,"link",a),Ft(r),n.head.appendChild(r))}function Po(n){return'[src="'+Rn(n)+'"]'}function fu(n){return"script[async]"+n}function RE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Rn(a.href)+'"]');if(l)return r.instance=l,Ft(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ft(l),fn(l,"style",f),Eh(l,a.precedence,n),r.instance=l;case"stylesheet":f=Lo(a.href);var d=n.querySelector(hu(f));if(d)return r.state.loading|=4,r.instance=d,Ft(d),d;l=wE(a),(f=fi.get(f))&&Hm(l,f),d=(n.ownerDocument||n).createElement("link"),Ft(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),fn(d,"link",l),r.state.loading|=4,Eh(d,a.precedence,n),r.instance=d;case"script":return d=Po(a.src),(f=n.querySelector(fu(d)))?(r.instance=f,Ft(f),f):(l=a,(f=fi.get(d))&&(l=T({},a),qm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ft(f),fn(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Eh(l,a.precedence,n));return r.instance}function Eh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Hm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function qm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Th=null;function CE(n,r,a){if(Th===null){var l=new Map,f=Th=new Map;f.set(a,l)}else f=Th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Fi]||d[jt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=n+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function IE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function Hw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function DE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function qw(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Lo(l.href),d=r.querySelector(hu(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=bh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=d,Ft(d);return}d=r.ownerDocument||r,l=wE(l),(f=fi.get(f))&&Hm(l,f),d=d.createElement("link"),Ft(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),fn(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=bh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var Gm=0;function Gw(n,r){return n.stylesheets&&n.count===0&&Sh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&Sh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+r);0<n.imgBytes&&Gm===0&&(Gm=62500*ww());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Sh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Gm?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ah=null;function Sh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ah=new Map,r.forEach(Kw,n),Ah=null,bh.call(n))}function Kw(n,r){if(!(r.state.loading&4)){var a=Ah.get(n);if(a)var l=a.get(null);else{a=new Map,Ah.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=bh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var du={$$typeof:oe,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function Yw(n,r,a,l,f,d,_,b,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function NE(n,r,a,l,f,d,_,b,N,H,Z,se){return n=new Yw(n,r,a,_,N,H,Z,se,b),r=1,d===!0&&(r|=24),d=Hn(3,null,null,r),n.current=d,d.stateNode=n,r=Sd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Id(d),n}function OE(n){return n?(n=mo,n):mo}function xE(n,r,a,l,f,d){f=OE(f),l.context===null?l.context=f:l.pendingContext=f,l=ds(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ms(n,l,r),a!==null&&(xn(a,n,r),Gl(a,n,r))}function VE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Km(n,r){VE(n,r),(n=n.alternate)&&VE(n,r)}function ME(n){if(n.tag===13||n.tag===31){var r=Sa(n,67108864);r!==null&&xn(r,n,67108864),Km(n,67108864)}}function kE(n){if(n.tag===13||n.tag===31){var r=Qn();r=fa(r);var a=Sa(n,r);a!==null&&xn(a,n,r),Km(n,r)}}var wh=!0;function Qw(n,r,a,l){var f=X.T;X.T=null;var d=he.p;try{he.p=2,Ym(n,r,a,l)}finally{he.p=d,X.T=f}}function $w(n,r,a,l){var f=X.T;X.T=null;var d=he.p;try{he.p=8,Ym(n,r,a,l)}finally{he.p=d,X.T=f}}function Ym(n,r,a,l){if(wh){var f=Qm(l);if(f===null)Vm(n,r,l,Rh,a),PE(n,l);else if(Jw(f,n,r,a,l))l.stopPropagation();else if(PE(n,l),r&4&&-1<Xw.indexOf(n)){for(;f!==null;){var d=ti(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ui(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-wt(_);b.entanglements[1]|=N,_&=~N}ir(d),(it&6)===0&&(lh=de()+500,ou(0))}}break;case 31:case 13:b=Sa(d,2),b!==null&&xn(b,d,2),ch(),Km(d,2)}if(d=Qm(l),d===null&&Vm(n,r,l,Rh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Vm(n,r,l,null,a)}}function Qm(n){return n=ni(n),$m(n)}var Rh=null;function $m(n){if(Rh=null,n=Hi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Rh=n,null}function LE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case ce:return 2;case be:return 8;case ze:case We:return 32;case zt:return 268435456;default:return 32}default:return 32}}var Xm=!1,ws=null,Rs=null,Cs=null,mu=new Map,pu=new Map,Is=[],Xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PE(n,r){switch(n){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":mu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(r.pointerId)}}function gu(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ti(r),r!==null&&ME(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function Jw(n,r,a,l,f){switch(r){case"focusin":return ws=gu(ws,n,r,a,l,f),!0;case"dragenter":return Rs=gu(Rs,n,r,a,l,f),!0;case"mouseover":return Cs=gu(Cs,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return mu.set(d,gu(mu.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,pu.set(d,gu(pu.get(d)||null,n,r,a,l,f)),!0}return!1}function UE(n){var r=Hi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,vi(n.priority,function(){kE(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,vi(n.priority,function(){kE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ch(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Qm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Dl=l,a.target.dispatchEvent(l),Dl=null}else return r=ti(a),r!==null&&ME(r),n.blockedOn=a,!1;r.shift()}return!0}function zE(n,r,a){Ch(n)&&a.delete(r)}function Ww(){Xm=!1,ws!==null&&Ch(ws)&&(ws=null),Rs!==null&&Ch(Rs)&&(Rs=null),Cs!==null&&Ch(Cs)&&(Cs=null),mu.forEach(zE),pu.forEach(zE)}function Ih(n,r){n.blockedOn===r&&(n.blockedOn=null,Xm||(Xm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ww)))}var Dh=null;function BE(n){Dh!==n&&(Dh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dh===n&&(Dh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if($m(l||a)===null)continue;break}var d=ti(a);d!==null&&(n.splice(r,3),r-=3,Qd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Uo(n){function r(N){return Ih(N,n)}ws!==null&&Ih(ws,n),Rs!==null&&Ih(Rs,n),Cs!==null&&Ih(Cs,n),mu.forEach(r),pu.forEach(r);for(var a=0;a<Is.length;a++){var l=Is[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)UE(a),a.blockedOn===null&&Is.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[rn]||null;if(typeof d=="function")_||BE(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[rn]||null)b=_.formAction;else if($m(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),BE(a)}}}function jE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Jm(n){this._internalRoot=n}Nh.prototype.render=Jm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Qn();xE(a,l,n,r,null,null)},Nh.prototype.unmount=Jm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;xE(n.current,2,null,n,null,null),ch(),r[ji]=null}};function Nh(n){this._internalRoot=n}Nh.prototype.unstable_scheduleHydration=function(n){if(n){var r=cc();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Is.length&&r!==0&&r<Is[a].priority;a++);Is.splice(a,0,n),a===0&&UE(n)}};var FE=e.version;if(FE!=="19.2.3")throw Error(s(527,FE,"19.2.3"));he.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var Zw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{zn=Oh.inject(Zw),Vt=Oh}catch{}}return _u.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=$_,d=X_,_=J_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=NE(n,1,!1,null,null,a,l,null,f,d,_,jE),n[ji]=r.current,xm(n),new Jm(r)},_u.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=$_,_=X_,b=J_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=NE(n,1,!0,r,a??null,l,f,N,d,_,b,jE),r.context=OE(null),a=r.current,l=Qn(),l=fa(l),f=ds(l),f.callback=null,ms(a,f,l),a=l,r.current.lanes=a,ca(r,a),ir(r),n[ji]=r.current,xm(n),new Nh(r)},_u.version="19.2.3",_u}var WE;function cR(){if(WE)return ep.exports;WE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ep.exports=uR(),ep.exports}var hR=cR();var ZE="popstate";function fR(i={}){function e(s,o){let{pathname:u,search:c,hash:m}=s.location;return Op("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Pu(o)}return mR(e,t,null,i)}function At(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dR(){return Math.random().toString(36).substring(2,10)}function eT(i,e){return{usr:i.state,key:i.key,idx:e}}function Op(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:t,key:e&&e.key||s||dR()}}function Pu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ll(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function mR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",p=null,g=E();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function E(){return(c.state||{idx:null}).idx}function T(){m="POP";let j=E(),ae=j==null?null:j-g;g=j,p&&p({action:m,location:G.location,delta:ae})}function A(j,ae){m="PUSH";let Q=Op(G.location,j,ae);g=E()+1;let oe=eT(Q,g),re=G.createHref(Q);try{c.pushState(oe,"",re)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(re)}u&&p&&p({action:m,location:G.location,delta:1})}function D(j,ae){m="REPLACE";let Q=Op(G.location,j,ae);g=E();let oe=eT(Q,g),re=G.createHref(Q);c.replaceState(oe,"",re),u&&p&&p({action:m,location:G.location,delta:0})}function K(j){return pR(j)}let G={get action(){return m},get location(){return i(o,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ZE,T),p=j,()=>{o.removeEventListener(ZE,T),p=null}},createHref(j){return e(o,j)},createURL:K,encodeLocation(j){let ae=K(j);return{pathname:ae.pathname,search:ae.search,hash:ae.hash}},push:A,replace:D,go(j){return c.go(j)}};return G}function pR(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Pu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function X0(i,e,t="/"){return gR(i,e,t,!1)}function gR(i,e,t,s){let o=typeof e=="string"?ll(e):e,u=Hr(o.pathname||"/",t);if(u==null)return null;let c=J0(i);yR(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=IR(u);m=RR(c[p],g,s)}return m}function J0(i,e=[],t=[],s="",o=!1){let u=(c,m,p=o,g)=>{let E={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;At(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=jr([s,E.relativePath]),A=t.concat(E);c.children&&c.children.length>0&&(At(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),J0(c.children,e,A,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:SR(T,c.index),routesMeta:A})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of W0(c.path))u(c,m,!0,p)}),e}function W0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=W0(s.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function yR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:wR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var _R=/^:[\w-]+$/,vR=3,ER=2,TR=1,bR=10,AR=-2,tT=i=>i==="*";function SR(i,e){let t=i.split("/"),s=t.length;return t.some(tT)&&(s+=AR),e&&(s+=ER),t.filter(o=>!tT(o)).reduce((o,u)=>o+(_R.test(u)?vR:u===""?TR:bR),s)}function wR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function RR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=tf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=tf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:jr([u,T.pathname]),pathnameBase:xR(jr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=jr([u,T.pathnameBase]))}return c}function tf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=CR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let K=m[A]||"";c=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const D=m[A];return T&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function CR(i,e=!1,t=!0){gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function IR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Hr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var Z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DR=i=>Z0.test(i);function NR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?ll(i):i,u;if(t)if(DR(t))u=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),gi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?u=nT(t.substring(1),"/"):u=nT(t,e)}else u=e;return{pathname:u,search:VR(s),hash:MR(o)}}function nT(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function rp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hg(i){let e=OR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function fg(i,e,t,s=!1){let o;typeof i=="string"?o=ll(i):(o={...i},At(!o.pathname||!o.pathname.includes("?"),rp("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),rp("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),rp("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=NR(o,m),g=c&&c!=="/"&&c.endsWith("/"),E=(u||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var jr=i=>i.join("/").replace(/\/\/+/g,"/"),xR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),VR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,MR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,kR=class{constructor(i,e,t,s=!1){this.status=i,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function LR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function PR(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tb(i,e){let t=i;if(typeof t!="string"||!Z0.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(eb)try{let u=new URL(window.location.href),c=t.startsWith("//")?new URL(u.protocol+t):new URL(t),m=Hr(c.pathname,e);c.origin===u.origin&&m!=null?t=m+c.search+c.hash:o=!0}catch{gi(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nb=["POST","PUT","PATCH","DELETE"];new Set(nb);var UR=["GET",...nb];new Set(UR);var ul=U.createContext(null);ul.displayName="DataRouter";var Cf=U.createContext(null);Cf.displayName="DataRouterState";var zR=U.createContext(!1),ib=U.createContext({isTransitioning:!1});ib.displayName="ViewTransition";var BR=U.createContext(new Map);BR.displayName="Fetchers";var jR=U.createContext(null);jR.displayName="Await";var Wn=U.createContext(null);Wn.displayName="Navigation";var $u=U.createContext(null);$u.displayName="Location";var Mi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var dg=U.createContext(null);dg.displayName="RouteError";var rb="REACT_ROUTER_ERROR",FR="REDIRECT",HR="ROUTE_ERROR_RESPONSE";function qR(i){if(i.startsWith(`${rb}:${FR}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function GR(i){if(i.startsWith(`${rb}:${HR}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new kR(e.status,e.statusText,e.data)}catch{}}function KR(i,{relative:e}={}){At(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(Wn),{hash:o,pathname:u,search:c}=Xu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:jr([t,u])),s.createHref({pathname:m,search:c,hash:o})}function cl(){return U.useContext($u)!=null}function Ws(){return At(cl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext($u).location}var sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ab(i){U.useContext(Wn).static||U.useLayoutEffect(i)}function If(){let{isDataRoute:i}=U.useContext(Mi);return i?aC():YR()}function YR(){At(cl(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(ul),{basename:e,navigator:t}=U.useContext(Wn),{matches:s}=U.useContext(Mi),{pathname:o}=Ws(),u=JSON.stringify(hg(s)),c=U.useRef(!1);return ab(()=>{c.current=!0}),U.useCallback((p,g={})=>{if(gi(c.current,sb),!c.current)return;if(typeof p=="number"){t.go(p);return}let E=fg(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:jr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}U.createContext(null);function QR(){let{matches:i}=U.useContext(Mi),e=i[i.length-1];return e?e.params:{}}function Xu(i,{relative:e}={}){let{matches:t}=U.useContext(Mi),{pathname:s}=Ws(),o=JSON.stringify(hg(t));return U.useMemo(()=>fg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function $R(i,e){return ob(i,e)}function ob(i,e,t,s,o){At(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Wn),{matches:c}=U.useContext(Mi),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Q=T&&T.path||"";ub(g,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let A=Ws(),D;if(e){let Q=typeof e=="string"?ll(e):e;At(E==="/"||Q.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),D=Q}else D=A;let K=D.pathname||"/",G=K;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");G="/"+K.replace(/^\//,"").split("/").slice(Q.length).join("/")}let j=X0(i,{pathname:G});gi(T||j!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),gi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ae=eC(j&&j.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:jr([E,u.encodeLocation?u.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:jr([E,u.encodeLocation?u.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),c,t,s,o);return e&&ae?U.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},ae):ae}function XR(){let i=sC(),e=LR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,c)}var JR=U.createElement(XR,null),lb=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const t=GR(i.digest);t&&(i=t)}let e=i!==void 0?U.createElement(Mi.Provider,{value:this.props.routeContext},U.createElement(dg.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?U.createElement(WR,{error:i},e):e}};lb.contextType=zR;var sp=new WeakMap;function WR({children:i,error:e}){let{basename:t}=U.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=qR(e.digest);if(s){let o=sp.get(e);if(o)throw o;let u=tb(s.location,t);if(eb&&!sp.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw sp.set(e,c),c}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function ZR({routeContext:i,match:e,children:t}){let s=U.useContext(ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Mi.Provider,{value:i},t)}function eC(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,c=t?.errors;if(c!=null){let E=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);At(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(t)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:D}=t,K=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||K){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=t&&s?(E,T)=>{s(E,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:PR(t.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let D,K=!1,G=null,j=null;t&&(D=c&&T.route.id?c[T.route.id]:void 0,G=T.route.errorElement||JR,m&&(p<0&&A===0?(ub("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,j=null):p===A&&(K=!0,j=T.route.hydrateFallbackElement||null)));let ae=e.concat(u.slice(0,A+1)),Q=()=>{let oe;return D?oe=G:K?oe=j:T.route.Component?oe=U.createElement(T.route.Component,null):T.route.element?oe=T.route.element:oe=E,U.createElement(ZR,{match:T,routeContext:{outlet:E,matches:ae,isDataRoute:t!=null},children:oe})};return t&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?U.createElement(lb,{location:t.location,revalidation:t.revalidation,component:G,error:D,children:Q(),routeContext:{outlet:null,matches:ae,isDataRoute:!0},onError:g}):Q()},null)}function mg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(i){let e=U.useContext(ul);return At(e,mg(i)),e}function nC(i){let e=U.useContext(Cf);return At(e,mg(i)),e}function iC(i){let e=U.useContext(Mi);return At(e,mg(i)),e}function pg(i){let e=iC(i),t=e.matches[e.matches.length-1];return At(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function rC(){return pg("useRouteId")}function sC(){let i=U.useContext(dg),e=nC("useRouteError"),t=pg("useRouteError");return i!==void 0?i:e.errors?.[t]}function aC(){let{router:i}=tC("useNavigate"),e=pg("useNavigate"),t=U.useRef(!1);return ab(()=>{t.current=!0}),U.useCallback(async(o,u={})=>{gi(t.current,sb),t.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var iT={};function ub(i,e,t){!e&&!iT[i]&&(iT[i]=!0,gi(!1,t))}U.memo(oC);function oC({routes:i,future:e,state:t,onError:s}){return ob(i,void 0,t,s,e)}function cb({to:i,replace:e,state:t,relative:s}){At(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Wn);gi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Mi),{pathname:c}=Ws(),m=If(),p=fg(i,hg(u),c,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Au(i){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lC({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){At(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof t=="string"&&(t=ll(t));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:D="default"}=t,K=U.useMemo(()=>{let G=Hr(g,m);return G==null?null:{location:{pathname:G,search:E,hash:T,state:A,key:D},navigationType:s}},[m,g,E,T,A,D,s]);return gi(K!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:U.createElement(Wn.Provider,{value:p},U.createElement($u.Provider,{children:e,value:K}))}function uC({children:i,location:e}){return $R(xp(i),e)}function xp(i,e=[]){let t=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){t.push.apply(t,xp(s.props.children,u));return}At(s.type===Au,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=xp(s.props.children,u)),t.push(c)}),t}var Fh="get",Hh="application/x-www-form-urlencoded";function Df(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function cC(i){return Df(i)&&i.tagName.toLowerCase()==="button"}function hC(i){return Df(i)&&i.tagName.toLowerCase()==="form"}function fC(i){return Df(i)&&i.tagName.toLowerCase()==="input"}function dC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function mC(i,e){return i.button===0&&(!e||e==="_self")&&!dC(i)}var xh=null;function pC(){if(xh===null)try{new FormData(document.createElement("form"),0),xh=!1}catch{xh=!0}return xh}var gC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ap(i){return i!=null&&!gC.has(i)?(gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hh}"`),null):i}function yC(i,e){let t,s,o,u,c;if(hC(i)){let m=i.getAttribute("action");s=m?Hr(m,e):null,t=i.getAttribute("method")||Fh,o=ap(i.getAttribute("enctype"))||Hh,u=new FormData(i)}else if(cC(i)||fC(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Hr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Fh,o=ap(i.getAttribute("formenctype"))||ap(m.getAttribute("enctype"))||Hh,u=new FormData(m,i),!pC()){let{name:g,type:E,value:T}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Df(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fh,s=null,o=Hh,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function _C(i,e,t,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Hr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function vC(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function TC(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await vC(u,t);return c.links?c.links():[]}return[]}));return wC(s.flat(1).filter(EC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rT(i,e,t,s,o,u){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function bC(i,e,{includeHydrateFallback:t}={}){return AC(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function AC(i){return[...new Set(i)]}function SC(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function wC(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(SC(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function hb(){let i=U.useContext(ul);return gg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function RC(){let i=U.useContext(Cf);return gg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var yg=U.createContext(void 0);yg.displayName="FrameworkContext";function fb(){let i=U.useContext(yg);return gg(i,"You must render this element inside a <HydratedRouter> element"),i}function CC(i,e){let t=U.useContext(yg),[s,o]=U.useState(!1),[u,c]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=U.useRef(null);U.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let G=ae=>{ae.forEach(Q=>{c(Q.isIntersecting)})},j=new IntersectionObserver(G,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),U.useEffect(()=>{if(s){let G=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(G)}}},[s]);let D=()=>{o(!0)},K=()=>{o(!1),c(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:vu(m,D),onBlur:vu(p,K),onMouseEnter:vu(g,D),onMouseLeave:vu(E,K),onTouchStart:vu(T,D)}]:[!1,A,{}]}function vu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function IC({page:i,...e}){let{router:t}=hb(),s=U.useMemo(()=>X0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?U.createElement(NC,{page:i,matches:s,...e}):null}function DC(i){let{manifest:e,routeModules:t}=fb(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return TC(i,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,t]),s}function NC({page:i,matches:e,...t}){let s=Ws(),{future:o,manifest:u,routeModules:c}=fb(),{basename:m}=hb(),{loaderData:p,matches:g}=RC(),E=U.useMemo(()=>rT(i,e,g,u,s,"data"),[i,e,g,u,s]),T=U.useMemo(()=>rT(i,e,g,u,s,"assets"),[i,e,g,u,s]),A=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let G=new Set,j=!1;if(e.forEach(Q=>{let oe=u.routes[Q.route.id];!oe||!oe.hasLoader||(!E.some(re=>re.route.id===Q.route.id)&&Q.route.id in p&&c[Q.route.id]?.shouldRevalidate||oe.hasClientLoader?j=!0:G.add(Q.route.id))}),G.size===0)return[];let ae=_C(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return j&&G.size>0&&ae.searchParams.set("_routes",e.filter(Q=>G.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[ae.pathname+ae.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,i,c]),D=U.useMemo(()=>bC(T,u),[T,u]),K=DC(T);return U.createElement(U.Fragment,null,A.map(G=>U.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...t})),D.map(G=>U.createElement("link",{key:G,rel:"modulepreload",href:G,...t})),K.map(({key:G,link:j})=>U.createElement("link",{key:G,nonce:t.nonce,...j})))}function OC(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xC&&(window.__reactRouterVersion="7.12.0")}catch{}function VC({basename:i,children:e,unstable_useTransitions:t,window:s}){let o=U.useRef();o.current==null&&(o.current=fR({window:s,v5Compat:!0}));let u=o.current,[c,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(g=>{t===!1?m(g):U.startTransition(()=>m(g))},[t]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(lC,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:t})}var db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nf=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...D},K){let{basename:G,unstable_useTransitions:j}=U.useContext(Wn),ae=typeof g=="string"&&db.test(g),Q=tb(g,G);g=Q.to;let oe=KR(g,{relative:o}),[re,W,ne]=CC(s,D),w=PC(g,{replace:c,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:j});function R(M){e&&e(M),M.defaultPrevented||w(M)}let I=U.createElement("a",{...D,...ne,href:Q.absoluteURL||oe,onClick:Q.isExternal||u?e:R,ref:OC(K,W),target:p,"data-discover":!ae&&t==="render"?"true":void 0});return re&&!ae?U.createElement(U.Fragment,null,I,U.createElement(IC,{page:oe})):I});nf.displayName="Link";var MC=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},E){let T=Xu(c,{relative:g.relative}),A=Ws(),D=U.useContext(Cf),{navigator:K,basename:G}=U.useContext(Wn),j=D!=null&&FC(T)&&m===!0,ae=K.encodeLocation?K.encodeLocation(T).pathname:T.pathname,Q=A.pathname,oe=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),oe=oe?oe.toLowerCase():null,ae=ae.toLowerCase()),oe&&G&&(oe=Hr(oe,G)||oe);const re=ae!=="/"&&ae.endsWith("/")?ae.length-1:ae.length;let W=Q===ae||!o&&Q.startsWith(ae)&&Q.charAt(re)==="/",ne=oe!=null&&(oe===ae||!o&&oe.startsWith(ae)&&oe.charAt(ae.length)==="/"),w={isActive:W,isPending:ne,isTransitioning:j},R=W?e:void 0,I;typeof s=="function"?I=s(w):I=[s,W?"active":null,ne?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(w):u;return U.createElement(nf,{...g,"aria-current":R,className:I,ref:E,style:M,to:c,viewTransition:m},typeof p=="function"?p(w):p)});MC.displayName="NavLink";var kC=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:c=Fh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...D},K)=>{let{unstable_useTransitions:G}=U.useContext(Wn),j=BC(),ae=jC(m,{relative:g}),Q=c.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&db.test(m),re=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ne=W.nativeEvent.submitter,w=ne?.getAttribute("formmethod")||c,R=()=>j(ne||W.currentTarget,{fetcherKey:e,method:w,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});G&&t!==!1?U.startTransition(()=>R()):R()};return U.createElement("form",{ref:K,method:Q,action:ae,onSubmit:s?p:re,...D,"data-discover":!oe&&i==="render"?"true":void 0})});kC.displayName="Form";function LC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mb(i){let e=U.useContext(ul);return At(e,LC(i)),e}function PC(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=If(),E=Ws(),T=Xu(i,{relative:u});return U.useCallback(A=>{if(mC(A,e)){A.preventDefault();let D=t!==void 0?t:Pu(E)===Pu(T),K=()=>g(i,{replace:D,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>K()):K()}},[E,g,T,t,s,e,i,o,u,c,m,p])}var UC=0,zC=()=>`__${String(++UC)}__`;function BC(){let{router:i}=mb("useSubmit"),{basename:e}=U.useContext(Wn),t=rC(),s=i.fetch,o=i.navigate;return U.useCallback(async(u,c={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=yC(u,e);if(c.navigate===!1){let A=c.fetcherKey||zC();await s(A,t,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:E,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:E,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,t])}function jC(i,{relative:e}={}){let{basename:t}=U.useContext(Wn),s=U.useContext(Mi);At(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Xu(i||".",{relative:e})},c=Ws();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:jr([t,u.pathname])),Pu(u)}function FC(i,{relative:e}={}){let t=U.useContext(ib);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mb("useViewTransitionState"),o=Xu(i,{relative:e});if(!t.isTransitioning)return!1;let u=Hr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Hr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return tf(o.pathname,c)!=null||tf(o.pathname,u)!=null}const HC=()=>{};var sT={};const pb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},qC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],c=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],c=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,D=g&63;p||(D=64,c||(A=64)),s.push(t[E],t[T],t[A],t[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(pb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new GC;const A=u<<2|m>>4;if(s.push(A),g!==64){const D=m<<4&240|g>>2;if(s.push(D),T!==64){const K=g<<6&192|T;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class GC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KC=function(i){const e=pb(i);return gb.encodeByteArray(e,!0)},rf=function(i){return KC(i).replace(/\./g,"")},yb=function(i){try{return gb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QC=()=>YC().__FIREBASE_DEFAULTS__,$C=()=>{if(typeof process>"u"||typeof sT>"u")return;const i=sT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},XC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&yb(i[1]);return e&&JSON.parse(e)},Nf=()=>{try{return HC()||QC()||$C()||XC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_b=i=>Nf()?.emulatorHosts?.[i],vb=i=>{const e=_b(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Eb=()=>Nf()?.config,Tb=i=>Nf()?.[`_${i}`];class JC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Zs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _g(i){return(await fetch(i,{credentials:"include"})).ok}function bb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[rf(JSON.stringify(t)),rf(JSON.stringify(c)),""].join(".")}const Nu={};function WC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?i.emulator.push(e):i.prod.push(e);return i}function ZC(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let aT=!1;function vg(i,e){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||Nu[i]===e||Nu[i]||aT)return;Nu[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=WC().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{aT=!0,c()},A}function E(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=ZC(s),D=t("text"),K=document.getElementById(D)||document.createElement("span"),G=t("learnmore"),j=document.getElementById(G)||document.createElement("a"),ae=t("preprendIcon"),Q=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const oe=A.element;m(oe),E(j,G);const re=g();p(Q,ae),oe.append(Q,K,j,re),document.body.appendChild(oe)}u?(K.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function tI(){const i=Nf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function rI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sI(){const i=bn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function aI(){return!tI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oI(){try{return typeof indexedDB=="object"}catch{return!1}}function lI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const uI="FirebaseError";class gr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=uI,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?cI(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new gr(o,m,s)}}function cI(i,e){return i.replace(hI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hI=/\{\$([^}]+)}/g;function fI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Fa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(oT(u)&&oT(c)){if(!Fa(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function oT(i){return i!==null&&typeof i=="object"}function Wu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Su(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function wu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function dI(i,e){const t=new mI(i,e);return t.subscribe.bind(t)}class mI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");pI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=op),o.error===void 0&&(o.error=op),o.complete===void 0&&(o.complete=op);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function op(){}function Jt(i){return i&&i._delegate?i._delegate:i}class Gs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pa="[DEFAULT]";class gI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new JC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_I(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yI(i){return i===Pa?void 0:i}function _I(i){return i.instantiationMode==="EAGER"}class vI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ke||(Ke={}));const EI={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},TI=Ke.INFO,bI={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},AI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=bI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eg{constructor(e){this.name=e,this._logLevel=TI,this._logHandler=AI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const SI=(i,e)=>e.some(t=>i instanceof t);let lT,uT;function wI(){return lT||(lT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RI(){return uT||(uT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ab=new WeakMap,Vp=new WeakMap,Sb=new WeakMap,lp=new WeakMap,Tg=new WeakMap;function CI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{t(Bs(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Ab.set(t,i)}).catch(()=>{}),Tg.set(e,i),e}function II(i){if(Vp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Vp.set(i,e)}let Mp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Vp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Sb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function DI(i){Mp=i(Mp)}function NI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(up(this),e,...t);return Sb.set(s,e.sort?e.sort():[e]),Bs(s)}:RI().includes(i)?function(...e){return i.apply(up(this),e),Bs(Ab.get(this))}:function(...e){return Bs(i.apply(up(this),e))}}function OI(i){return typeof i=="function"?NI(i):(i instanceof IDBTransaction&&II(i),SI(i,wI())?new Proxy(i,Mp):i)}function Bs(i){if(i instanceof IDBRequest)return CI(i);if(lp.has(i))return lp.get(i);const e=OI(i);return e!==i&&(lp.set(i,e),Tg.set(e,i)),e}const up=i=>Tg.get(i);function xI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=Bs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Bs(c.result),p.oldVersion,p.newVersion,Bs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const VI=["get","getKey","getAll","getAllKeys","count"],MI=["put","add","delete","clear"],cp=new Map;function cT(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=MI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VI.includes(t)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return cp.set(e,u),u}DI(i=>({...i,get:(e,t,s)=>cT(e,t)||i.get(e,t,s),has:(e,t)=>!!cT(e,t)||i.has(e,t)}));class kI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function LI(i){return i.getComponent()?.type==="VERSION"}const kp="@firebase/app",hT="0.14.7";const qr=new Eg("@firebase/app"),PI="@firebase/app-compat",UI="@firebase/analytics-compat",zI="@firebase/analytics",BI="@firebase/app-check-compat",jI="@firebase/app-check",FI="@firebase/auth",HI="@firebase/auth-compat",qI="@firebase/database",GI="@firebase/data-connect",KI="@firebase/database-compat",YI="@firebase/functions",QI="@firebase/functions-compat",$I="@firebase/installations",XI="@firebase/installations-compat",JI="@firebase/messaging",WI="@firebase/messaging-compat",ZI="@firebase/performance",e2="@firebase/performance-compat",t2="@firebase/remote-config",n2="@firebase/remote-config-compat",i2="@firebase/storage",r2="@firebase/storage-compat",s2="@firebase/firestore",a2="@firebase/ai",o2="@firebase/firestore-compat",l2="firebase",u2="12.8.0";const Lp="[DEFAULT]",c2={[kp]:"fire-core",[PI]:"fire-core-compat",[zI]:"fire-analytics",[UI]:"fire-analytics-compat",[jI]:"fire-app-check",[BI]:"fire-app-check-compat",[FI]:"fire-auth",[HI]:"fire-auth-compat",[qI]:"fire-rtdb",[GI]:"fire-data-connect",[KI]:"fire-rtdb-compat",[YI]:"fire-fn",[QI]:"fire-fn-compat",[$I]:"fire-iid",[XI]:"fire-iid-compat",[JI]:"fire-fcm",[WI]:"fire-fcm-compat",[ZI]:"fire-perf",[e2]:"fire-perf-compat",[t2]:"fire-rc",[n2]:"fire-rc-compat",[i2]:"fire-gcs",[r2]:"fire-gcs-compat",[s2]:"fire-fst",[o2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};const sf=new Map,h2=new Map,Pp=new Map;function fT(i,e){try{i.container.addComponent(e)}catch(t){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ha(i){const e=i.name;if(Pp.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,i);for(const t of sf.values())fT(t,i);for(const t of h2.values())fT(t,i);return!0}function Of(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function di(i){return i==null?!1:i.settings!==void 0}const f2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new Ju("app","Firebase",f2);class d2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}const Qa=u2;function wb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Lp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw js.create("bad-app-name",{appName:String(o)});if(t||(t=Eb()),!t)throw js.create("no-options");const u=sf.get(o);if(u){if(Fa(t,u.options)&&Fa(s,u.config))return u;throw js.create("duplicate-app",{appName:o})}const c=new vI(o);for(const p of Pp.values())c.addComponent(p);const m=new d2(t,s,c);return sf.set(o,m),m}function bg(i=Lp){const e=sf.get(i);if(!e&&i===Lp&&Eb())return wb();if(!e)throw js.create("no-app",{appName:i});return e}function lr(i,e,t){let s=c2[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(c.join(" "));return}Ha(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const m2="firebase-heartbeat-database",p2=1,Uu="firebase-heartbeat-store";let hp=null;function Rb(){return hp||(hp=xI(m2,p2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(i=>{throw js.create("idb-open",{originalErrorMessage:i.message})})),hp}async function g2(i){try{const t=(await Rb()).transaction(Uu),s=await t.objectStore(Uu).get(Cb(i));return await t.done,s}catch(e){if(e instanceof gr)qr.warn(e.message);else{const t=js.create("idb-get",{originalErrorMessage:e?.message});qr.warn(t.message)}}}async function dT(i,e){try{const s=(await Rb()).transaction(Uu,"readwrite");await s.objectStore(Uu).put(e,Cb(i)),await s.done}catch(t){if(t instanceof gr)qr.warn(t.message);else{const s=js.create("idb-set",{originalErrorMessage:t?.message});qr.warn(s.message)}}}function Cb(i){return`${i.name}!${i.options.appId}`}const y2=1024,_2=30;class v2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new T2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>_2){const o=b2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mT(),{heartbeatsToSend:t,unsentEntries:s}=E2(this._heartbeatsCache.heartbeats),o=rf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qr.warn(e),""}}}function mT(){return new Date().toISOString().substring(0,10)}function E2(i,e=y2){const t=[];let s=i.slice();for(const o of i){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),pT(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),pT(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class T2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oI()?lI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await g2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pT(i){return rf(JSON.stringify({version:2,heartbeats:i})).length}function b2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function A2(i){Ha(new Gs("platform-logger",e=>new kI(e),"PRIVATE")),Ha(new Gs("heartbeat",e=>new v2(e),"PRIVATE")),lr(kp,hT,i),lr(kp,hT,"esm2020"),lr("fire-js","")}A2("");function Ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S2=Ib,Db=new Ju("auth","Firebase",Ib());const af=new Eg("@firebase/auth");function w2(i,...e){af.logLevel<=Ke.WARN&&af.warn(`Auth (${Qa}): ${i}`,...e)}function qh(i,...e){af.logLevel<=Ke.ERROR&&af.error(`Auth (${Qa}): ${i}`,...e)}function Vi(i,...e){throw Ag(i,...e)}function ur(i,...e){return Ag(i,...e)}function Nb(i,e,t){const s={...S2(),[e]:t};return new Ju("auth","Firebase",s).create(e,{appName:i.name})}function Fs(i){return Nb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ag(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Db.create(i,...e)}function Ce(i,e,...t){if(!i)throw Ag(e,...t)}function zr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw qh(e),new Error(e)}function Gr(i,e){i||zr(e)}function Up(){return typeof self<"u"&&self.location?.href||""}function R2(){return gT()==="http:"||gT()==="https:"}function gT(){return typeof self<"u"&&self.location?.protocol||null}function C2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R2()||iI()||"connection"in navigator)?navigator.onLine:!0}function I2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile=eI()||rI()}get(){return C2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sg(i,e){Gr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Ob{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O2=new Zu(3e4,6e4);function $a(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ea(i,e,t,s,o={}){return xb(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Wu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return nI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Zs(i.emulatorConfig.host)&&(g.credentials="include"),Ob.fetch()(await Vb(i,i.config.apiHost,t,m),g)})}async function xb(i,e,t){i._canInitEmulator=!1;const s={...D2,...e};try{const o=new V2(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Vh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Vh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Vh(i,"user-disabled",c);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Nb(i,E,g);Vi(i,E)}}catch(o){if(o instanceof gr)throw o;Vi(i,"network-request-failed",{message:String(o)})}}async function xf(i,e,t,s,o={}){const u=await ea(i,e,t,s,o);return"mfaPendingCredential"in u&&Vi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Vb(i,e,t,s){const o=`${e}${t}?${s}`,u=i,c=u.config.emulator?Sg(i.config,o):`${i.config.apiScheme}://${o}`;return N2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function x2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ur(this.auth,"network-request-failed")),O2.get())})}}function Vh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ur(i,e,s);return o.customData._tokenResponse=t,o}function yT(i){return i!==void 0&&i.enterprise!==void 0}class M2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return x2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k2(i,e){return ea(i,"GET","/v2/recaptchaConfig",$a(i,e))}async function L2(i,e){return ea(i,"POST","/v1/accounts:delete",e)}async function of(i,e){return ea(i,"POST","/v1/accounts:lookup",e)}function Ou(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P2(i,e=!1){const t=Jt(i),s=await t.getIdToken(e),o=wg(s);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Ou(fp(o.auth_time)),issuedAtTime:Ou(fp(o.iat)),expirationTime:Ou(fp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function fp(i){return Number(i)*1e3}function wg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const o=yb(t);return o?JSON.parse(o):(qh("Failed to decode base64 JWT payload"),null)}catch(o){return qh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _T(i){const e=wg(i);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof gr&&U2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function U2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lf(i){const e=i.auth,t=await i.getIdToken(),s=await zu(i,of(e,{idToken:t}));Ce(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Mb(o.providerUserInfo):[],c=j2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new zp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function B2(i){const e=Jt(i);await lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Mb(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function F2(i,e){const t=await xb(i,{},async()=>{const s=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await Vb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Zs(i.emulatorConfig.host)&&(p.credentials="include"),Ob.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function H2(i,e){return ea(i,"POST","/v2/accounts:revokeToken",$a(i,e))}class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=_T(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await F2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,c=new Yo;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Ce(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Ce(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return zr("not implemented")}}function Ns(i,e){Ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ni{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await zu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return P2(this,e)}reload(){return B2(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await lf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await zu(this,L2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:D,providerData:K,stsTokenManager:G}=t;Ce(T&&G,e,"internal-error");const j=Yo.fromJSON(this.name,G);Ce(typeof T=="string",e,"internal-error"),Ns(s,e.name),Ns(o,e.name),Ce(typeof A=="boolean",e,"internal-error"),Ce(typeof D=="boolean",e,"internal-error"),Ns(u,e.name),Ns(c,e.name),Ns(m,e.name),Ns(p,e.name),Ns(g,e.name),Ns(E,e.name);const ae=new Ni({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:D,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:E});return K&&Array.isArray(K)&&(ae.providerData=K.map(Q=>({...Q}))),p&&(ae._redirectEventId=p),ae}static async _fromIdTokenResponse(e,t,s=!1){const o=new Yo;o.updateFromServerResponse(t);const u=new Ni({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await lf(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Mb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Yo;m.updateFromIdToken(s);const p=new Ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const vT=new Map;function Br(i){Gr(i instanceof Function,"Expected a class definition");let e=vT.get(i);return e?(Gr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,vT.set(i,e),e)}class kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kb.type="NONE";const ET=kb;function Gh(i,e,t){return`firebase:${i}:${e}:${t}`}class Qo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await of(this.auth,{idToken:e}).catch(()=>{});return t?Ni._fromGetAccountInfoResponse(this.auth,t,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Qo(Br(ET),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Br(ET);const c=Gh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(c);if(E){let T;if(typeof E=="string"){const A=await of(e,{idToken:E}).catch(()=>{});if(!A)break;T=await Ni._fromGetAccountInfoResponse(e,A,E)}else T=Ni._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Qo(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Qo(u,e,s))}}function TT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jb(e))return"Blackberry";if(Fb(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||Ub(e))&&!e.includes("edge/"))return"Chrome";if(Bb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function Lb(i=bn()){return/firefox\//i.test(i)}function Pb(i=bn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ub(i=bn()){return/crios\//i.test(i)}function zb(i=bn()){return/iemobile/i.test(i)}function Bb(i=bn()){return/android/i.test(i)}function jb(i=bn()){return/blackberry/i.test(i)}function Fb(i=bn()){return/webos/i.test(i)}function Rg(i=bn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function q2(i=bn()){return Rg(i)&&!!window.navigator?.standalone}function G2(){return sI()&&document.documentMode===10}function Hb(i=bn()){return Rg(i)||Bb(i)||Fb(i)||jb(i)||/windows phone/i.test(i)||zb(i)}function qb(i,e=[]){let t;switch(i){case"Browser":t=TT(bn());break;case"Worker":t=`${TT(bn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qa}/${s}`}class K2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Y2(i,e={}){return ea(i,"GET","/v2/passwordPolicy",$a(i,e))}const Q2=6;class $2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Q2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class X2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bT(this),this.idTokenSubscription=new bT(this),this.beforeStateQueue=new K2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Br(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await of(this,{idToken:e}),s=await Ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Fs(this));const t=e?Jt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y2(this),t=new $2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await H2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Br(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&w2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hl(i){return Jt(i)}class bT{constructor(e){this.auth=e,this.observer=null,this.addObserver=dI(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J2(i){Vf=i}function Gb(i){return Vf.loadJS(i)}function W2(){return Vf.recaptchaEnterpriseScript}function Z2(){return Vf.gapiScript}function eD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tD{constructor(){this.enterprise=new nD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iD="recaptcha-enterprise",Kb="NO_RECAPTCHA";class rD{constructor(e){this.type=iD,this.auth=hl(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{k2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new M2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;yT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(Kb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tD().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!t&&yT(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=W2();p.length!==0&&(p+=m),Gb(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function AT(i,e,t,s=!1,o=!1){const u=new rD(i);let c;if(o)c=Kb;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ST(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await AT(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await AT(i,e,t,t==="getOobCode");return s(i,c)}else return Promise.reject(u)})}function sD(i,e){const t=Of(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Fa(u,e??{}))return o;Vi(o,"already-initialized")}return t.initialize({options:e})}function aD(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Br);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function oD(i,e,t){const s=hl(i);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Yb(e),{host:c,port:m}=lD(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},E=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(Fa(g,s.config.emulator)&&Fa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Zs(c)?(_g(`${u}//${c}${p}`),vg("Auth",!0)):uD()}function Yb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function lD(i){const e=Yb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:wT(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:wT(c)}}}function wT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function uD(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Cg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function cD(i,e){return ea(i,"POST","/v1/accounts:signUp",e)}async function hD(i,e){return xf(i,"POST","/v1/accounts:signInWithPassword",$a(i,e))}async function fD(i,e){return xf(i,"POST","/v1/accounts:signInWithEmailLink",$a(i,e))}async function dD(i,e){return xf(i,"POST","/v1/accounts:signInWithEmailLink",$a(i,e))}class Bu extends Cg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Bu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Bu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ST(e,t,"signInWithPassword",hD);case"emailLink":return fD(e,{email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ST(e,s,"signUpPassword",cD);case"emailLink":return dD(e,{idToken:t,email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $o(i,e){return xf(i,"POST","/v1/accounts:signInWithIdp",$a(i,e))}const mD="http://localhost";class qa extends Cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const c=new qa(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,$o(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wu(t)}return e}}function pD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gD(i){const e=Su(wu(i)).link,t=e?Su(wu(e)).deep_link_id:null,s=Su(wu(i)).deep_link_id;return(s?Su(wu(s)).link:null)||s||t||e||i}class Ig{constructor(e){const t=Su(wu(e)),s=t.apiKey??null,o=t.oobCode??null,u=pD(t.mode??null);Ce(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=gD(e);try{return new Ig(t)}catch{return null}}}class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,t){return Bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ig.parseLink(t);return Ce(s,"argument-error"),Bu._fromEmailAndCode(e,s.code,s.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ec extends Qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xs extends ec{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";class Vs extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Vs.credential(t,s)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";class Ms extends ec{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";class ks extends ec{constructor(){super("twitter.com")}static credential(e,t){return qa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ks.credential(t,s)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Ni._fromIdTokenResponse(e,s,o),c=RT(s);return new tl({user:u,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=RT(s);return new tl({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function RT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class uf extends gr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new uf(e,t,s,o)}}function $b(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(i,u,e,s):u})}async function yD(i,e,t=!1){const s=await zu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return tl._forOperation(i,"link",s)}async function _D(i,e,t=!1){const{auth:s}=i;if(di(s.app))return Promise.reject(Fs(s));const o="reauthenticate";try{const u=await zu(i,$b(s,o,e,i),t);Ce(u.idToken,s,"internal-error");const c=wg(u.idToken);Ce(c,s,"internal-error");const{sub:m}=c;return Ce(i.uid===m,s,"user-mismatch"),tl._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Vi(s,"user-mismatch"),u}}async function Xb(i,e,t=!1){if(di(i.app))return Promise.reject(Fs(i));const s="signIn",o=await $b(i,s,e),u=await tl._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function vD(i,e){return Xb(hl(i),e)}async function ED(i){const e=hl(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function TD(i,e,t){return di(i.app)?Promise.reject(Fs(i)):vD(Jt(i),fl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ED(i),s})}function bD(i,e,t,s){return Jt(i).onIdTokenChanged(e,t,s)}function AD(i,e,t){return Jt(i).beforeAuthStateChanged(e,t)}function Jb(i,e,t,s){return Jt(i).onAuthStateChanged(e,t,s)}const cf="__sak";class Wb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const SD=1e3,wD=10;class Zb extends Wb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);G2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zb.type="LOCAL";const RD=Zb;class eA extends Wb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eA.type="SESSION";const tA=eA;function CD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,u)),p=await CD(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];function Dg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class ID{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Dg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function cr(){return window}function DD(i){cr().location.href=i}function nA(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function ND(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OD(){return navigator?.serviceWorker?.controller||null}function xD(){return nA()?self:null}const iA="firebaseLocalStorageDb",VD=1,hf="firebaseLocalStorage",rA="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kf(i,e){return i.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function MD(){const i=indexedDB.deleteDatabase(iA);return new tc(i).toPromise()}function Bp(){const i=indexedDB.open(iA,VD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(hf,{keyPath:rA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(hf)?e(s):(s.close(),await MD(),e(await Bp()))})})}async function CT(i,e,t){const s=kf(i,!0).put({[rA]:e,value:t});return new tc(s).toPromise()}async function kD(i,e){const t=kf(i,!1).get(e),s=await new tc(t).toPromise();return s===void 0?null:s.value}function IT(i,e){const t=kf(i,!0).delete(e);return new tc(t).toPromise()}const LD=800,PD=3;class sA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>PD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance(xD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ND(),!this.activeServiceWorker)return;this.sender=new ID(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await CT(e,cf,"1"),await IT(e,cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>CT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>kD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>IT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=kf(o,!1).getAll();return new tc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sA.type="LOCAL";const UD=sA;new Zu(3e4,6e4);function zD(i,e){return e?Br(e):(Ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Ng extends Cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BD(i){return Xb(i.auth,new Ng(i),i.bypassAuthState)}function jD(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),_D(t,new Ng(i),i.bypassAuthState)}async function FD(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),yD(t,new Ng(i),i.bypassAuthState)}class aA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BD;case"linkViaPopup":case"linkViaRedirect":return FD;case"reauthViaPopup":case"reauthViaRedirect":return jD;default:Vi(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HD=new Zu(2e3,1e4);class Go extends aA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HD.get())};e()}}Go.currentPopupAction=null;const qD="pendingRedirect",Kh=new Map;class GD extends aA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Kh.get(this.auth._key());if(!e){try{const s=await KD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KD(i,e){const t=$D(e),s=QD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function YD(i,e){Kh.set(i._key(),e)}function QD(i){return Br(i._redirectPersistence)}function $D(i){return Gh(qD,i.config.apiKey,i.name)}async function XD(i,e,t=!1){if(di(i.app))return Promise.reject(Fs(i));const s=hl(i),o=zD(s,e),c=await new GD(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const JD=600*1e3;class WD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!oA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ur(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JD&&this.cachedEventUids.clear(),this.cachedEventUids.has(DT(e))}saveEventToCache(e){this.cachedEventUids.add(DT(e)),this.lastProcessedEventTime=Date.now()}}function DT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function oA({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function ZD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oA(i);default:return!1}}async function eN(i,e={}){return ea(i,"GET","/v1/projects",e)}const tN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nN=/^https?/;async function iN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await eN(i);for(const t of e)try{if(rN(t))return}catch{}Vi(i,"unauthorized-domain")}function rN(i){const e=Up(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!nN.test(t))return!1;if(tN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const sN=new Zu(3e4,6e4);function NT(){const i=cr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function aN(i){return new Promise((e,t)=>{function s(){NT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NT(),t(ur(i,"network-request-failed"))},timeout:sN.get()})}if(cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(cr().gapi?.load)s();else{const o=eD("iframefcb");return cr()[o]=()=>{gapi.load?s():t(ur(i,"network-request-failed"))},Gb(`${Z2()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Yh=null,e})}let Yh=null;function oN(i){return Yh=Yh||aN(i),Yh}const lN=new Zu(5e3,15e3),uN="__/auth/iframe",cN="emulator/auth/iframe",hN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dN(i){const e=i.config;Ce(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Sg(e,cN):`https://${i.config.authDomain}/${uN}`,s={apiKey:e.apiKey,appName:i.name,v:Qa},o=fN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Wu(s).slice(1)}`}async function mN(i){const e=await oN(i),t=cr().gapi;return Ce(t,i,"internal-error"),e.open({where:document.body,url:dN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=ur(i,"network-request-failed"),m=cr().setTimeout(()=>{u(c)},lN.get());function p(){cr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const pN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gN=500,yN=600,_N="_blank",vN="http://localhost";class OT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EN(i,e,t,s=gN,o=yN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...pN,width:s.toString(),height:o.toString(),top:u,left:c},g=bn().toLowerCase();t&&(m=Ub(g)?_N:t),Lb(g)&&(e=e||vN,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[D,K])=>`${A}${D}=${K},`,"");if(q2(g)&&m!=="_self")return TN(e||"",m),new OT(null);const T=window.open(e||"",m,E);Ce(T,i,"popup-blocked");try{T.focus()}catch{}return new OT(T)}function TN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const bN="__/auth/handler",AN="emulator/auth/handler",SN=encodeURIComponent("fac");async function xT(i,e,t,s,o,u){Ce(i.config.authDomain,i,"auth-domain-config-required"),Ce(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Qa,eventId:o};if(e instanceof Qb){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",fI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))c[E]=T}if(e instanceof ec){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(c.scopes=E.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${SN}=${encodeURIComponent(p)}`:"";return`${wN(i)}?${Wu(m).slice(1)}${g}`}function wN({config:i}){return i.emulator?Sg(i,AN):`https://${i.authDomain}/${bN}`}const dp="webStorageSupport";class RN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=XD,this._overrideRedirectResult=YD}async _openPopup(e,t,s,o){Gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await xT(e,t,s,Up(),o);return EN(e,u,Dg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await xT(e,t,s,Up(),o);return DD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await mN(e),s=new WD(e);return t.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dp,{type:dp},o=>{const u=o?.[0]?.[dp];u!==void 0&&t(!!u),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hb()||Pb()||Rg()}}const CN=RN;var VT="@firebase/auth",MT="1.12.0";class IN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NN(i){Ha(new Gs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qb(i)},g=new X2(s,o,u,p);return aD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ha(new Gs("auth-internal",e=>{const t=hl(e.getProvider("auth").getImmediate());return(s=>new IN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(VT,MT,DN(i)),lr(VT,MT,"esm2020")}const ON=300,xN=Tb("authIdTokenMaxAge")||ON;let kT=null;const VN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>xN)return;const o=t?.token;kT!==o&&(kT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MN(i=bg()){const e=Of(i,"auth");if(e.isInitialized())return e.getImmediate();const t=sD(i,{popupRedirectResolver:CN,persistence:[UD,RD,tA]}),s=Tb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=VN(u.toString());AD(t,c,()=>c(t.currentUser)),bD(t,m=>c(m))}}const o=_b("auth");return o&&oD(t,`http://${o}`),t}function kN(){return document.getElementsByTagName("head")?.[0]??document}J2({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ur("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",kN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NN("Browser");var LN="firebase",PN="12.8.0";lr(LN,PN,"app");var LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hs,lA;(function(){var i;function e(w,R){function I(){}I.prototype=R.prototype,w.F=R.prototype,w.prototype=new I,w.prototype.constructor=w,w.D=function(M,V,x){for(var C=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)C[Oe-2]=arguments[Oe];return R.prototype[V].apply(M,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,R,I){I||(I=0);const M=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)M[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;V<16;++V)M[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=w.g[0],I=w.g[1],V=w.g[2];let x=w.g[3],C;C=R+(x^I&(V^x))+M[0]+3614090360&4294967295,R=I+(C<<7&4294967295|C>>>25),C=x+(V^R&(I^V))+M[1]+3905402710&4294967295,x=R+(C<<12&4294967295|C>>>20),C=V+(I^x&(R^I))+M[2]+606105819&4294967295,V=x+(C<<17&4294967295|C>>>15),C=I+(R^V&(x^R))+M[3]+3250441966&4294967295,I=V+(C<<22&4294967295|C>>>10),C=R+(x^I&(V^x))+M[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=x+(V^R&(I^V))+M[5]+1200080426&4294967295,x=R+(C<<12&4294967295|C>>>20),C=V+(I^x&(R^I))+M[6]+2821735955&4294967295,V=x+(C<<17&4294967295|C>>>15),C=I+(R^V&(x^R))+M[7]+4249261313&4294967295,I=V+(C<<22&4294967295|C>>>10),C=R+(x^I&(V^x))+M[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=x+(V^R&(I^V))+M[9]+2336552879&4294967295,x=R+(C<<12&4294967295|C>>>20),C=V+(I^x&(R^I))+M[10]+4294925233&4294967295,V=x+(C<<17&4294967295|C>>>15),C=I+(R^V&(x^R))+M[11]+2304563134&4294967295,I=V+(C<<22&4294967295|C>>>10),C=R+(x^I&(V^x))+M[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=x+(V^R&(I^V))+M[13]+4254626195&4294967295,x=R+(C<<12&4294967295|C>>>20),C=V+(I^x&(R^I))+M[14]+2792965006&4294967295,V=x+(C<<17&4294967295|C>>>15),C=I+(R^V&(x^R))+M[15]+1236535329&4294967295,I=V+(C<<22&4294967295|C>>>10),C=R+(V^x&(I^V))+M[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=x+(I^V&(R^I))+M[6]+3225465664&4294967295,x=R+(C<<9&4294967295|C>>>23),C=V+(R^I&(x^R))+M[11]+643717713&4294967295,V=x+(C<<14&4294967295|C>>>18),C=I+(x^R&(V^x))+M[0]+3921069994&4294967295,I=V+(C<<20&4294967295|C>>>12),C=R+(V^x&(I^V))+M[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=x+(I^V&(R^I))+M[10]+38016083&4294967295,x=R+(C<<9&4294967295|C>>>23),C=V+(R^I&(x^R))+M[15]+3634488961&4294967295,V=x+(C<<14&4294967295|C>>>18),C=I+(x^R&(V^x))+M[4]+3889429448&4294967295,I=V+(C<<20&4294967295|C>>>12),C=R+(V^x&(I^V))+M[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=x+(I^V&(R^I))+M[14]+3275163606&4294967295,x=R+(C<<9&4294967295|C>>>23),C=V+(R^I&(x^R))+M[3]+4107603335&4294967295,V=x+(C<<14&4294967295|C>>>18),C=I+(x^R&(V^x))+M[8]+1163531501&4294967295,I=V+(C<<20&4294967295|C>>>12),C=R+(V^x&(I^V))+M[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=x+(I^V&(R^I))+M[2]+4243563512&4294967295,x=R+(C<<9&4294967295|C>>>23),C=V+(R^I&(x^R))+M[7]+1735328473&4294967295,V=x+(C<<14&4294967295|C>>>18),C=I+(x^R&(V^x))+M[12]+2368359562&4294967295,I=V+(C<<20&4294967295|C>>>12),C=R+(I^V^x)+M[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=x+(R^I^V)+M[8]+2272392833&4294967295,x=R+(C<<11&4294967295|C>>>21),C=V+(x^R^I)+M[11]+1839030562&4294967295,V=x+(C<<16&4294967295|C>>>16),C=I+(V^x^R)+M[14]+4259657740&4294967295,I=V+(C<<23&4294967295|C>>>9),C=R+(I^V^x)+M[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=x+(R^I^V)+M[4]+1272893353&4294967295,x=R+(C<<11&4294967295|C>>>21),C=V+(x^R^I)+M[7]+4139469664&4294967295,V=x+(C<<16&4294967295|C>>>16),C=I+(V^x^R)+M[10]+3200236656&4294967295,I=V+(C<<23&4294967295|C>>>9),C=R+(I^V^x)+M[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=x+(R^I^V)+M[0]+3936430074&4294967295,x=R+(C<<11&4294967295|C>>>21),C=V+(x^R^I)+M[3]+3572445317&4294967295,V=x+(C<<16&4294967295|C>>>16),C=I+(V^x^R)+M[6]+76029189&4294967295,I=V+(C<<23&4294967295|C>>>9),C=R+(I^V^x)+M[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=x+(R^I^V)+M[12]+3873151461&4294967295,x=R+(C<<11&4294967295|C>>>21),C=V+(x^R^I)+M[15]+530742520&4294967295,V=x+(C<<16&4294967295|C>>>16),C=I+(V^x^R)+M[2]+3299628645&4294967295,I=V+(C<<23&4294967295|C>>>9),C=R+(V^(I|~x))+M[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=x+(I^(R|~V))+M[7]+1126891415&4294967295,x=R+(C<<10&4294967295|C>>>22),C=V+(R^(x|~I))+M[14]+2878612391&4294967295,V=x+(C<<15&4294967295|C>>>17),C=I+(x^(V|~R))+M[5]+4237533241&4294967295,I=V+(C<<21&4294967295|C>>>11),C=R+(V^(I|~x))+M[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=x+(I^(R|~V))+M[3]+2399980690&4294967295,x=R+(C<<10&4294967295|C>>>22),C=V+(R^(x|~I))+M[10]+4293915773&4294967295,V=x+(C<<15&4294967295|C>>>17),C=I+(x^(V|~R))+M[1]+2240044497&4294967295,I=V+(C<<21&4294967295|C>>>11),C=R+(V^(I|~x))+M[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=x+(I^(R|~V))+M[15]+4264355552&4294967295,x=R+(C<<10&4294967295|C>>>22),C=V+(R^(x|~I))+M[6]+2734768916&4294967295,V=x+(C<<15&4294967295|C>>>17),C=I+(x^(V|~R))+M[13]+1309151649&4294967295,I=V+(C<<21&4294967295|C>>>11),C=R+(V^(I|~x))+M[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=x+(I^(R|~V))+M[11]+3174756917&4294967295,x=R+(C<<10&4294967295|C>>>22),C=V+(R^(x|~I))+M[2]+718787259&4294967295,V=x+(C<<15&4294967295|C>>>17),C=I+(x^(V|~R))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+R&4294967295,w.g[1]=w.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+V&4294967295,w.g[3]=w.g[3]+x&4294967295}s.prototype.v=function(w,R){R===void 0&&(R=w.length);const I=R-this.blockSize,M=this.C;let V=this.h,x=0;for(;x<R;){if(V==0)for(;x<=I;)o(this,w,x),x+=this.blockSize;if(typeof w=="string"){for(;x<R;)if(M[V++]=w.charCodeAt(x++),V==this.blockSize){o(this,M),V=0;break}}else for(;x<R;)if(M[V++]=w[x++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var R=1;R<w.length-8;++R)w[R]=0;R=this.o*8;for(var I=w.length-8;I<w.length;++I)w[I]=R&255,R/=256;for(this.v(w),w=Array(16),R=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)w[R++]=this.g[I]>>>M&255;return w};function u(w,R){var I=m;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=R(w)}function c(w,R){this.h=R;const I=[];let M=!0;for(let V=w.length-1;V>=0;V--){const x=w[V]|0;M&&x==R||(I[V]=x,M=!1)}this.g=I}var m={};function p(w){return-128<=w&&w<128?u(w,function(R){return new c([R|0],R<0?-1:0)}):new c([w|0],w<0?-1:0)}function g(w){if(isNaN(w)||!isFinite(w))return T;if(w<0)return j(g(-w));const R=[];let I=1;for(let M=0;w>=I;M++)R[M]=w/I|0,I*=4294967296;return new c(R,0)}function E(w,R){if(w.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w.charAt(0)=="-")return j(E(w.substring(1),R));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let M=T;for(let x=0;x<w.length;x+=8){var V=Math.min(8,w.length-x);const C=parseInt(w.substring(x,x+V),R);V<8?(V=g(Math.pow(R,V)),M=M.j(V).add(g(C))):(M=M.j(I),M=M.add(g(C)))}return M}var T=p(0),A=p(1),D=p(16777216);i=c.prototype,i.m=function(){if(G(this))return-j(this).m();let w=0,R=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);w+=(M>=0?M:4294967296+M)*R,R*=4294967296}return w},i.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(K(this))return"0";if(G(this))return"-"+j(this).toString(w);const R=g(Math.pow(w,6));var I=this;let M="";for(;;){const V=re(I,R).g;I=ae(I,V.j(R));let x=((I.g.length>0?I.g[0]:I.h)>>>0).toString(w);if(I=V,K(I))return x+M;for(;x.length<6;)x="0"+x;M=x+M}},i.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function K(w){if(w.h!=0)return!1;for(let R=0;R<w.g.length;R++)if(w.g[R]!=0)return!1;return!0}function G(w){return w.h==-1}i.l=function(w){return w=ae(this,w),G(w)?-1:K(w)?0:1};function j(w){const R=w.g.length,I=[];for(let M=0;M<R;M++)I[M]=~w.g[M];return new c(I,~w.h).add(A)}i.abs=function(){return G(this)?j(this):this},i.add=function(w){const R=Math.max(this.g.length,w.g.length),I=[];let M=0;for(let V=0;V<=R;V++){let x=M+(this.i(V)&65535)+(w.i(V)&65535),C=(x>>>16)+(this.i(V)>>>16)+(w.i(V)>>>16);M=C>>>16,x&=65535,C&=65535,I[V]=C<<16|x}return new c(I,I[I.length-1]&-2147483648?-1:0)};function ae(w,R){return w.add(j(R))}i.j=function(w){if(K(this)||K(w))return T;if(G(this))return G(w)?j(this).j(j(w)):j(j(this).j(w));if(G(w))return j(this.j(j(w)));if(this.l(D)<0&&w.l(D)<0)return g(this.m()*w.m());const R=this.g.length+w.g.length,I=[];for(var M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<w.g.length;V++){const x=this.i(M)>>>16,C=this.i(M)&65535,Oe=w.i(V)>>>16,Fe=w.i(V)&65535;I[2*M+2*V]+=C*Fe,Q(I,2*M+2*V),I[2*M+2*V+1]+=x*Fe,Q(I,2*M+2*V+1),I[2*M+2*V+1]+=C*Oe,Q(I,2*M+2*V+1),I[2*M+2*V+2]+=x*Oe,Q(I,2*M+2*V+2)}for(w=0;w<R;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=R;w<2*R;w++)I[w]=0;return new c(I,0)};function Q(w,R){for(;(w[R]&65535)!=w[R];)w[R+1]+=w[R]>>>16,w[R]&=65535,R++}function oe(w,R){this.g=w,this.h=R}function re(w,R){if(K(R))throw Error("division by zero");if(K(w))return new oe(T,T);if(G(w))return R=re(j(w),R),new oe(j(R.g),j(R.h));if(G(R))return R=re(w,j(R)),new oe(j(R.g),R.h);if(w.g.length>30){if(G(w)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,M=R;M.l(w)<=0;)I=W(I),M=W(M);var V=ne(I,1),x=ne(M,1);for(M=ne(M,2),I=ne(I,2);!K(M);){var C=x.add(M);C.l(w)<=0&&(V=V.add(I),x=C),M=ne(M,1),I=ne(I,1)}return R=ae(w,V.j(R)),new oe(V,R)}for(V=T;w.l(R)>=0;){for(I=Math.max(1,Math.floor(w.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),x=g(I),C=x.j(R);G(C)||C.l(w)>0;)I-=M,x=g(I),C=x.j(R);K(x)&&(x=A),V=V.add(x),w=ae(w,C)}return new oe(V,w)}i.B=function(w){return re(this,w).h},i.and=function(w){const R=Math.max(this.g.length,w.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)&w.i(M);return new c(I,this.h&w.h)},i.or=function(w){const R=Math.max(this.g.length,w.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)|w.i(M);return new c(I,this.h|w.h)},i.xor=function(w){const R=Math.max(this.g.length,w.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)^w.i(M);return new c(I,this.h^w.h)};function W(w){const R=w.g.length+1,I=[];for(let M=0;M<R;M++)I[M]=w.i(M)<<1|w.i(M-1)>>>31;return new c(I,w.h)}function ne(w,R){const I=R>>5;R%=32;const M=w.g.length-I,V=[];for(let x=0;x<M;x++)V[x]=R>0?w.i(x+I)>>>R|w.i(x+I+1)<<32-R:w.i(x+I);return new c(V,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=E,Hs=c}).apply(typeof LT<"u"?LT:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uA,Ru,cA,Qh,jp,hA,fA,dA;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var v=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var z=h[S];if(!(z in v))break e;v=v[z]}h=h[h.length-1],S=v[h],y=y(S),y!=S&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,v){return h.call.apply(h.bind,arguments)}function g(h,y,v){return g=p,g.apply(null,arguments)}function E(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(S,z,Y){for(var me=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)me[ke-2]=arguments[ke];return y.prototype[z].apply(S,me)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const y=h.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=h[S];return v}return[]}function K(h,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=h.length||0;const Y=z.length||0;h.length=v+Y;for(let me=0;me<Y;me++)h[v+me]=z[me]}else h.push(z)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function ae(){var h=w;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,v){const S=oe.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new G(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let W,ne=!1,w=new Q,R=()=>{const h=Promise.resolve(void 0);W=()=>{h.then(I)}};function I(){for(var h;h=ae();){try{h.h.call(h.g)}catch(v){j(v)}var y=oe;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ne=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function Oe(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Oe,V),Oe.prototype.init=function(h,y){const v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Fe="closure_listenable_"+(Math.random()*1e6|0),X=0;function he(h,y,v,S,z){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++X,this.da=this.fa=!1}function Ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ue(h,y,v){for(const S in h)y.call(v,h[S],S,h)}function $e(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function L(h){const y={};for(const v in h)y[v]=h[v];return y}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(h,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)h[v]=S[v];for(let Y=0;Y<ie.length;Y++)v=ie[Y],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function ge(h){this.src=h,this.g={},this.h=0}ge.prototype.add=function(h,y,v,S,z){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const me=xe(h,y,S,z);return me>-1?(y=h[me],v||(y.fa=!1)):(y=new he(y,this.src,Y,!!S,z),y.fa=v,h.push(y)),y};function De(h,y){const v=y.type;if(v in h.g){var S=h.g[v],z=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(S,z,1),Y&&(Ae(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function xe(h,y,v,S){for(let z=0;z<h.length;++z){const Y=h[z];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==S)return z}return-1}var He="closure_lm_"+(Math.random()*1e6|0),St={};function ft(h,y,v,S,z){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ft(h,y[Y],v,S,z);return null}return v=aa(v),h&&h[Fe]?h.J(y,v,m(S)?!!S.capture:!1,z):yi(h,y,v,!1,S,z)}function yi(h,y,v,S,z,Y){if(!y)throw Error("Invalid event type");const me=m(z)?!!z.capture:!!z;let ke=Li(h);if(ke||(h[He]=ke=new ge(h)),v=ke.add(y,v,S,me,Y),v.proxy)return v;if(S=ki(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)x||(z=me),z===void 0&&(z=!1),h.addEventListener(y.toString(),S,z);else if(h.attachEvent)h.attachEvent(Zn(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ki(){function h(v){return y.call(h.src,h.listener,v)}const y=Jr;return h}function Xr(h,y,v,S,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Xr(h,y[Y],v,S,z);else S=m(S)?!!S.capture:!!S,v=aa(v),h&&h[Fe]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],v=xe(y,v,S,z),v>-1&&(Ae(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Li(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xe(y,v,S,z)),(v=h>-1?y[h]:null)&&yr(v))}function yr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Fe])De(y.i,h);else{var v=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(v,S,h.capture):y.detachEvent?y.detachEvent(Zn(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Li(y))?(De(v,h),v.h==0&&(v.src=null,y[He]=null)):Ae(h)}}}function Zn(h){return h in St?St[h]:St[h]="on"+h}function Jr(h,y){if(h.da)h=!0;else{y=new Oe(y,this);const v=h.listener,S=h.ha||h.src;h.fa&&yr(h),h=v.call(S,y)}return h}function Li(h){return h=h[He],h instanceof ge?h:null}var sa="__closure_events_fn_"+(Math.random()*1e9>>>0);function aa(h){return typeof h=="function"?h:(h[sa]||(h[sa]=function(y){return h.handleEvent(y)}),h[sa])}function xt(){M.call(this),this.i=new ge(this),this.M=this,this.G=null}T(xt,M),xt.prototype[Fe]=!0,xt.prototype.removeEventListener=function(h,y,v,S){Xr(this,h,y,v,S)};function Ct(h,y){var v,S=h.G;if(S)for(v=[];S;S=S.G)v.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var z=y;y=new V(S,h),pe(y,z)}z=!0;let Y,me;if(v)for(me=v.length-1;me>=0;me--)Y=y.g=v[me],z=O(Y,S,!0,y)&&z;if(Y=y.g=h,z=O(Y,S,!0,y)&&z,z=O(Y,S,!1,y)&&z,v)for(me=0;me<v.length;me++)Y=y.g=v[me],z=O(Y,S,!1,y)&&z}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let S=0;S<v.length;S++)Ae(v[S]);delete h.g[y],h.h--}}this.G=null},xt.prototype.J=function(h,y,v,S){return this.i.add(String(h),y,!1,v,S)},xt.prototype.K=function(h,y,v,S){return this.i.add(String(h),y,!0,v,S)};function O(h,y,v,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Y=0;Y<y.length;++Y){const me=y[Y];if(me&&!me.da&&me.capture==v){const ke=me.listener,Mt=me.ha||me.src;me.fa&&De(h.i,me),z=ke.call(Mt,S)!==!1&&z}}return z&&!S.defaultPrevented}function F(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function J(h){h.g=F(()=>{h.g=null,h.i&&(h.i=!1,J(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class de extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(h){M.call(this),this.h=h,this.g={}}T(fe,M);var ce=[];function be(h){Ue(h.g,function(y,v){this.g.hasOwnProperty(v)&&yr(y)},h),h.g={}}fe.prototype.N=function(){fe.Z.N.call(this),be(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ze=c.JSON.stringify,We=c.JSON.parse,zt=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ei(){}function Un(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){V.call(this,"d")}T(Vt,V);function gn(){V.call(this,"c")}T(gn,V);var wt={},oa=null;function Wr(){return oa=oa||new xt}wt.Ia="serverreachability";function la(h){V.call(this,wt.Ia,h)}T(la,V);function Pi(h){const y=Wr();Ct(y,new la(y))}wt.STAT_EVENT="statevent";function ua(h,y){V.call(this,wt.STAT_EVENT,h),this.stat=y}T(ua,V);function Bt(h){const y=Wr();Ct(y,new ua(y,h))}wt.Ja="timingevent";function Ui(h,y){V.call(this,wt.Ja,h),this.size=y}T(Ui,V);function zi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function _i(){this.g=!0}_i.prototype.ua=function(){this.g=!1};function nd(h,y,v,S,z,Y){h.info(function(){if(h.g)if(Y){var me="",ke=Y.split("&");for(let nt=0;nt<ke.length;nt++){var Mt=ke[nt].split("=");if(Mt.length>1){const Tt=Mt[0];Mt=Mt[1];const ri=Tt.split("_");me=ri.length>=2&&ri[1]=="type"?me+(Tt+"="+Mt+"&"):me+(Tt+"=redacted&")}}}else me=null;else me=Y;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+me})}function uc(h,y,v,S,z,Y,me){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+Y+" "+me})}function Bi(h,y,v,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+id(h,v)+(S?" "+S:"")})}function ca(h,y){h.info(function(){return"TIMEOUT: "+y})}_i.prototype.info=function(){};function id(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var v=Y[h];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let me=1;me<S.length;me++)S[me]=""}}}}return ze(Y)}catch{return y}}var ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function fa(){}T(fa,ei),fa.prototype.g=function(){return new XMLHttpRequest},vl=new fa;function _r(h){return encodeURIComponent(String(h))}function cc(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function vi(h,y,v,S){this.j=h,this.i=y,this.l=v,this.S=S||1,this.V=new fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var jt={},rn={};function ji(h,y,v){h.M=1,h.A=da(Ht(y)),h.u=v,h.R=!0,Wa(h,null)}function Wa(h,y){h.F=Date.now(),Fi(h),h.B=Ht(h.A);var v=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),no(v.i,"t",S),h.C=0,v=h.j.L,h.h=new Ei,h.g=wc(h.j,v?y:null,!h.u),h.P>0&&(h.O=new de(g(h.Y,h,h.g),h.P)),y=h.V,v=h.g,S=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(ce[0]=z.toString()),z=ce);for(let Y=0;Y<z.length;Y++){const me=ft(v,z[Y],S||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Pi(),nd(h.i,h.v,h.B,h.l,h.S,h.u)}vi.prototype.ba=function(h){h=h.target;const y=this.O;y&&Ai(h)==3?y.j():this.Y(h)},vi.prototype.Y=function(h){try{if(h==this.g)e:{const ke=Ai(this.g),Mt=this.g.ya(),nt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||ke!=4||Mt==7||(Mt==8||nt<=0?Pi(3):Pi(2)),Hi(this);var y=this.g.ca();this.X=y;var v=rd(this);if(this.o=y==200,uc(this.i,this.v,this.B,this.l,this.S,ke,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Y=S;break t}}Y=null}if(h=Y)Bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qi(this,h);else{this.o=!1,this.m=3,Bt(12),Bn(this),ti(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=fc(this,v),Tt==rn){ke==4&&(this.m=4,Bt(14),h=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==jt){this.m=4,Bt(15),Bi(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else Bi(this.i,this.l,Tt,null),qi(this,Tt);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,Bt(16),h=!1),this.o=this.o&&h,!h)Bi(this.i,this.l,v,"[Invalid Chunked Response]"),Bn(this),ti(this);else if(v.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ml(me),me.P=!0,Bt(11))}}else Bi(this.i,this.l,v,null),qi(this,v);ke==4&&Bn(this),this.o&&!this.K&&(ke==4?Tc(this.j,this):(this.o=!1,Fi(this)))}else Er(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),Bn(this),ti(this)}}}catch{}};function rd(h){if(!hc(h))return h.g.la();const y=ln(h.g);if(y==="")return"";let v="";const S=y.length,z=Ai(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Bn(h),ti(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<S;Y++)h.h.h=!0,v+=h.h.i.decode(y[Y],{stream:!(z&&Y==S-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function hc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function fc(h,y){var v=h.C,S=y.indexOf(`
`,v);return S==-1?rn:(v=Number(y.substring(v,S)),isNaN(v)?jt:(S+=1,S+v>y.length?rn:(y=y.slice(S,S+v),h.C=S+v,y)))}vi.prototype.cancel=function(){this.K=!0,Bn(this)};function Fi(h){h.T=Date.now()+h.H,Za(h,h.H)}function Za(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=zi(g(h.aa,h),y)}function Hi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}vi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ca(this.i,this.B),this.M!=2&&(Pi(),Bt(17)),Bn(this),this.m=2,ti(this)):Za(this,this.T-h)};function ti(h){h.j.I==0||h.K||Tc(h.j,h)}function Bn(h){Hi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,be(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function qi(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Ki(v.h,h))){if(!h.L&&Ki(v.h,h)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)oo(v),as(v);else break e;Ea(v),Bt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=zi(g(v.Va,v),6e3));Gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Wi(v,11)}else if((h.L||v.g==h)&&oo(v),!C(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let nt=z[y];const Tt=nt[0];if(!(Tt<=v.K))if(v.K=Tt,nt=nt[1],v.I==2)if(nt[0]=="c"){v.M=nt[1],v.ba=nt[2];const ri=nt[3];ri!=null&&(v.ka=ri,v.j.info("VER="+v.ka));const Zi=nt[4];Zi!=null&&(v.za=Zi,v.j.info("SVER="+v.za));const Si=nt[5];Si!=null&&typeof Si=="number"&&Si>0&&(S=1.5*Si,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const wi=h.g;if(wi){const Ta=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var Y=S.h;Y.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(bl(Y,Y.h),Y.h=null))}if(S.G){const lo=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(S.wa=lo,st(S.J,S.G,lo))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var me=h;if(S.na=Sc(S,S.L?S.ba:null,S.W),me.L){Al(S.h,me);var ke=me,Mt=S.O;Mt&&(ke.H=Mt),ke.D&&(Hi(ke),Fi(ke)),S.g=me}else vc(S);v.i.length>0&&Ji(v)}else nt[0]!="stop"&&nt[0]!="close"||Wi(v,7);else v.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Wi(v,7):xl(v):nt[0]!="noop"&&v.l&&v.l.qa(nt),v.A=0)}}Pi(4)}catch{}}var Ft=class{constructor(h,y){this.g=h,this.map=y}};function El(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Gi(h){return h.h?1:h.g?h.g.size:0}function Ki(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function bl(h,y){h.g?h.g.add(y):h.h=y}function Al(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}El.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return D(h.i)}var dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const S=h[v].indexOf("=");let z,Y=null;S>=0?(z=h[v].substring(0,S),Y=h[v].substring(S+1)):z=h[v],y(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof jn?(this.l=h.l,sn(this,h.j),this.o=h.o,this.g=h.g,Zr(this,h.u),this.h=h.h,wl(this,yc(h.i)),this.m=h.m):h&&(y=String(h).match(dc))?(this.l=!1,sn(this,y[1]||"",!0),this.o=Yi(y[2]||""),this.g=Yi(y[3]||"",!0),Zr(this,y[4]),this.h=Yi(y[5]||"",!0),wl(this,y[6]||"",!0),this.m=Yi(y[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}jn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ma(y,to,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ma(y,to,!0),"@"),h.push(_r(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(ma(v,v.charAt(0)=="/"?Rl:mc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",ma(v,pc)),h.join("")},jn.prototype.resolve=function(h){const y=Ht(this);let v=!!h.j;v?sn(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var S=h.h;if(v)Zr(y,h.u);else if(v=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let me=0;me<z.length;){const ke=z[me++];ke=="."?S&&me==z.length&&Y.push(""):ke==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&me==z.length&&Y.push("")):(Y.push(ke),S=!0)}S=Y.join("/")}else S=z}return v?y.h=S:v=h.i.toString()!=="",v?wl(y,yc(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Ht(h){return new jn(h)}function sn(h,y,v){h.j=v?Yi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Zr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function wl(h,y,v){y instanceof ts?(h.i=y,io(h.i,h.l)):(v||(y=ma(y,es)),h.i=new ts(y,h.l))}function st(h,y,v){h.i.set(y,v)}function da(h){return st(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Yi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ma(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Rn),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var to=/[#\/\?@]/g,mc=/[#\?:]/g,Rl=/[#\?]/g,es=/[#\?@]/g,pc=/#/g;function ts(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Cn(h){h.g||(h.g=new Map,h.h=0,h.i&&eo(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=ts.prototype,i.add=function(h,y){Cn(this),this.i=null,h=ns(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function gc(h,y){Cn(h),y=ns(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Cl(h,y){return Cn(h),y=ns(h,y),h.g.has(y)}i.forEach=function(h,y){Cn(this),this.g.forEach(function(v,S){v.forEach(function(z){h.call(y,z,S,this)},this)},this)};function Il(h,y){Cn(h);let v=[];if(typeof y=="string")Cl(h,y)&&(v=v.concat(h.g.get(ns(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}i.set=function(h,y){return Cn(this),this.i=null,h=ns(this,h),Cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=Il(this,h),h.length>0?String(h[0]):y):y};function no(h,y,v){gc(h,y),v.length>0&&(h.i=null,h.g.set(ns(h,y),D(v)),h.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=_r(v);v=Il(this,v);for(let Y=0;Y<v.length;Y++){let me=z;v[Y]!==""&&(me+="="+_r(v[Y])),h.push(me)}}return this.i=h.join("&")};function yc(h){const y=new ts;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function ns(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function io(h,y){y&&!h.j&&(Cn(h),h.i=null,h.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(gc(this,S),no(this,z,v))},h)),h.j=y}function Ti(h,y){const v=new _i;if(c.Image){const S=new Image;S.onload=E(ni,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(ni,v,"TestLoadImage: error",!1,y,S),S.onabort=E(ni,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(ni,v,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Dl(h,y){const v=new _i,S=new AbortController,z=setTimeout(()=>{S.abort(),ni(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(z),Y.ok?ni(v,"TestPingServer: ok",!0,y):ni(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),ni(v,"TestPingServer: error",!1,y)})}function ni(h,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function is(){this.g=new zt}function Qi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Qi,ei),Qi.prototype.g=function(){return new pa(this.i,this.h)};function pa(h,y){xt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(pa,xt),i=pa.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,bi(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ro(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ro(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?rs(this):bi(this),this.readyState==3&&ro(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,rs(this))},i.Na=function(h){this.g&&(this.response=h,rs(this))},i.ga=function(){this.g&&rs(this)};function rs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,bi(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ii(h){let y="";return Ue(h,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function ga(h,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=ii(v),typeof h=="string"?v!=null&&_r(v):st(h,y,v))}function lt(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(lt,xt);var $i=/^https?$/i,Nl=["POST","PUT"];i=lt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){ya(this,Y);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Nl,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,me]of v)this.g.setRequestHeader(Y,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){ya(this,Y)}};function ya(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Ol(h),vr(h)}function Ol(h){h.A||(h.A=!0,Ct(h,"complete"),Ct(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ct(this,"complete"),Ct(this,"abort"),vr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),lt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},i.Xa=function(){_a(this)};function _a(h){if(h.h&&typeof u<"u"){if(h.v&&Ai(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ct(h,"readystatechange"),Ai(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=Y===0){let me=String(h.D).match(dc)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),S=!$i.test(me?me.toLowerCase():"")}v=S}if(v)Ct(h,"complete"),Ct(h,"success");else{h.o=6;try{var z=Ai(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Ol(h)}}finally{vr(h)}}}}function vr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Ct(h,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ai(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Ai(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),We(y)}};function ln(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Er(h){const y={};h=(h.g&&Ai(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(C(h[S]))continue;var v=cc(h[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[z]||[];y[z]=Y,Y.push(v)}$e(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function ss(h){this.za=0,this.i=[],this.j=new _i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,h),this.Za=Xi("retryDelaySeedMs",1e4,h),this.Ta=Xi("forwardChannelMaxRetries",2,h),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new El(h&&h.concurrentRequestLimit),this.Ba=new is,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ss.prototype,i.ka=8,i.I=1,i.connect=function(h,y,v,S){Bt(0),this.W=h,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Sc(this,null,this.W),Ji(this)};function xl(h){if(so(h),h.I==3){var y=h.V++,v=Ht(h.J);if(st(v,"SID",h.M),st(v,"RID",y),st(v,"TYPE","terminate"),va(h,v),y=new vi(h,h.j,y),y.M=2,y.A=da(Ht(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=wc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Fi(y)}Ac(h)}function as(h){h.g&&(Ml(h),h.g.cancel(),h.g=null)}function so(h){as(h),h.v&&(c.clearTimeout(h.v),h.v=null),oo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ji(h){if(!Tl(h.h)&&!h.m){h.m=!0;var y=h.Ea;W||R(),ne||(W(),ne=!0),w.add(y,h),h.D=0}}function ao(h,y){return Gi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=zi(g(h.Ea,h,y),bc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new vi(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=L(Y),pe(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=_c(this,z,y),v=Ht(this.J),st(v,"RID",h),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),va(this,v),Y&&(this.R?y="headers="+_r(ii(Y))+"&"+y:this.u&&ga(v,this.u,Y)),bl(this.h,z),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",y),st(v,"SID","null"),z.U=!0,ji(z,v,null)):ji(z,v,y),this.I=2}}else this.I==3&&(h?Vl(this,h):this.i.length==0||Tl(this.h)||Vl(this))};function Vl(h,y){var v;y?v=y.l:v=h.V++;const S=Ht(h.J);st(S,"SID",h.M),st(S,"RID",v),st(S,"AID",h.K),va(h,S),h.u&&h.o&&ga(S,h.u,h.o),v=new vi(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=_c(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),bl(h.h,v),ji(v,S,y)}function va(h,y){h.H&&Ue(h.H,function(v,S){st(y,S,v)}),h.l&&Ue({},function(v,S){st(y,S,v)})}function _c(h,y,v){v=Math.min(h.i.length,v);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var z=h.i;let ke=-1;for(;;){const Mt=["count="+v];ke==-1?v>0?(ke=z[0].g,Mt.push("ofs="+ke)):ke=0:Mt.push("ofs="+ke);let nt=!0;for(let Tt=0;Tt<v;Tt++){var Y=z[Tt].g;const ri=z[Tt].map;if(Y-=ke,Y<0)ke=Math.max(0,z[Tt].g-100),nt=!1;else try{Y="req"+Y+"_"||"";try{var me=ri instanceof Map?ri:Object.entries(ri);for(const[Zi,Si]of me){let wi=Si;m(Si)&&(wi=ze(Si)),Mt.push(Y+Zi+"="+encodeURIComponent(wi))}}catch(Zi){throw Mt.push(Y+"type="+encodeURIComponent("_badmap")),Zi}}catch{S&&S(ri)}}if(nt){me=Mt.join("&");break e}}me=void 0}return h=h.i.splice(0,v),y.G=h,me}function vc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;W||R(),ne||(W(),ne=!0),w.add(y,h),h.A=0}}function Ea(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=zi(g(h.Da,h),bc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=zi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),as(this),Ec(this))};function Ml(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ec(h){h.g=new vi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ht(h.na);st(y,"RID","rpc"),st(y,"SID",h.M),st(y,"AID",h.K),st(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&st(y,"TO",h.ia),st(y,"TYPE","xmlhttp"),va(h,y),h.u&&h.o&&ga(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=da(Ht(y)),v.u=null,v.R=!0,Wa(v,h)}i.Va=function(){this.C!=null&&(this.C=null,as(this),Ea(this),Bt(19))};function oo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Tc(h,y){var v=null;if(h.g==y){oo(h),Ml(h),h.g=null;var S=2}else if(Ki(h.h,y))v=y.G,Al(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;S=Wr(),Ct(S,new Ui(S,v)),Ji(h)}else vc(h);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&ao(h,y)||S==2&&Ea(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),z){case 1:Wi(h,5);break;case 4:Wi(h,10);break;case 3:Wi(h,6);break;default:Wi(h,2)}}}function bc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Wi(h,y){if(h.j.info("Error code "+y),y==2){var v=g(h.bb,h),S=h.Ua;const z=!S;S=new jn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sn(S,"https"),da(S),z?Ti(S.toString(),v):Dl(S.toString(),v)}else Bt(2);h.I=0,h.l&&h.l.pa(y),Ac(h),so(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Ac(h){if(h.I=0,h.ja=[],h.l){const y=Sl(h.h);(y.length!=0||h.i.length!=0)&&(K(h.ja,y),K(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function Sc(h,y,v){var S=v instanceof jn?Ht(v):new jn(v);if(S.g!="")y&&(S.g=y+"."+S.g),Zr(S,S.u);else{var z=c.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Y=new jn(null);S&&sn(Y,S),y&&(Y.g=y),z&&Zr(Y,z),v&&(Y.h=v),S=Y}return v=h.G,y=h.wa,v&&y&&st(S,v,y),st(S,"VER",h.ka),va(h,S),S}function wc(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new lt(new Qi({ab:v})):new lt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}i=Rc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function os(){}os.prototype.g=function(h,y){return new An(h,y)};function An(h,y){xt.call(this),this.g=new ss(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Tr(this)}T(An,xt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){xl(this.g)},An.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=ze(h),h=v);y.i.push(new Ft(y.Ya++,h)),y.I==3&&Ji(y)},An.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,An.Z.N.call(this)};function Cc(h){Vt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Cc,Vt);function Ic(){gn.call(this),this.status=1}T(Ic,gn);function Tr(h){this.g=h}T(Tr,Rc),Tr.prototype.ra=function(){Ct(this.g,"a")},Tr.prototype.qa=function(h){Ct(this.g,new Cc(h))},Tr.prototype.pa=function(h){Ct(this.g,new Ic)},Tr.prototype.oa=function(){Ct(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,dA=function(){return new os},fA=function(){return Wr()},hA=wt,jp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,Qh=ha,_l.COMPLETE="complete",cA=_l,Un.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Ru=Un,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,uA=lt}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let dl="12.8.0";function UN(i){dl=i}const Ga=new Eg("@firebase/firestore");function Bo(){return Ga.logLevel}function _e(i,...e){if(Ga.logLevel<=Ke.DEBUG){const t=e.map(Og);Ga.debug(`Firestore (${dl}): ${i}`,...t)}}function Kr(i,...e){if(Ga.logLevel<=Ke.ERROR){const t=e.map(Og);Ga.error(`Firestore (${dl}): ${i}`,...t)}}function nl(i,...e){if(Ga.logLevel<=Ke.WARN){const t=e.map(Og);Ga.warn(`Firestore (${dl}): ${i}`,...t)}}function Og(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Ie(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,mA(i,s,t)}function mA(i,e,t){let s=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Kr(s),new Error(s)}function rt(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||mA(e,o,s)}function Me(i,e){return i}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class pA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(En.UNAUTHENTICATED)))}shutdown(){}}class BN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jN{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new pA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class FN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new FN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const s=u=>{u.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new PT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class xg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ye(i,e){return i<e?-1:i>e?1:0}function Fp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return mp(o)===mp(u)?Ye(o,u):mp(o)?1:-1}return Ye(i.length,e.length)}const KN=55296,YN=57343;function mp(i){const e=i.charCodeAt(0);return e>=KN&&e<=YN}function il(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}const UT="__name__";class rr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ie(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=rr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ye(e.length,t.length)}static compareSegments(e,t){const s=rr.isNumericId(e),o=rr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?rr.extractNumericId(e).compare(rr.extractNumericId(t)):Fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class vt extends rr{construct(e,t,s){return new vt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new vt(t)}static emptyPath(){return new vt([])}}const QN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends rr{construct(e,t,s){return new mn(e,t,s)}static isValidIdentifier(e){return QN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UT}static keyField(){return new mn([UT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ee(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new Ee(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(vt.fromString(e))}static fromName(e){return new we(vt.fromString(e).popFirst(5))}static empty(){return new we(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new vt(e.slice()))}}function gA(i,e,t){if(!t)throw new Ee(ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $N(i,e,t,s){if(e===!0&&s===!0)throw new Ee(ue.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function zT(i){if(!we.isDocumentKey(i))throw new Ee(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function BT(i){if(we.isDocumentKey(i))throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function yA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Vg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie(12329,{type:typeof i})}function Yr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ee(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vg(i);throw new Ee(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function $t(i,e){const t={typeString:i};return e&&(t.value=e),t}function nc(i,e){if(!yA(i))throw new Ee(ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new Ee(ue.INVALID_ARGUMENT,t);return!0}const jT=-62135596800,FT=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*FT);return new Et(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jT)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FT}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nc(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:$t("string",Et._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Et(0,0))}static max(){return new Ne(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ju=-1;function XN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new Et(t+1,0):new Et(t,s));return new Ks(o,we.empty(),e)}function JN(i){return new Ks(i.readTime,i.key,ju)}class Ks{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ks(Ne.min(),we.empty(),ju)}static max(){return new Ks(Ne.max(),we.empty(),ju)}}function WN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(i.documentKey,e.documentKey),t!==0?t:Ye(i.largestBatchId,e.largestBatchId))}const ZN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ml(i){if(i.code!==ue.FAILED_PRECONDITION||i.message!==ZN)throw i;_e("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):le.reject(t)}static resolve(e){return new le(((t,s)=>{t(e)}))}static reject(e){return new le(((t,s)=>{s(e)}))}static waitFor(e){return new le(((t,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(p=>s(p)))})),c=!0,u===o&&t()}))}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next((o=>o?le.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new le(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((E=>{c[g]=E,++m,m===u&&s(c)}),(E=>o(E)))}}))}static doWhile(e,t){return new le(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function tO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(i){return i.name==="IndexedDbTransactionError"}class Lf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lf.ce=-1;const Mg=-1;function Pf(i){return i==null}function ff(i){return i===0&&1/i==-1/0}function nO(i){return typeof i=="number"&&Number.isInteger(i)&&!ff(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const _A="";function iO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=HT(e)),e=rO(i.get(t),e);return HT(e)}function rO(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case _A:t+="";break;default:t+=u}}return t}function HT(i){return i+_A+""}function qT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ta(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function vA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Rt{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new Rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??dn.RED,this.left=o??dn.EMPTY,this.right=u??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new dn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GT(this.data.getIterator())}getIteratorFrom(e){return new GT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class GT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new nn(mn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class EA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new EA("Invalid base64 string: "+u):u}})(e);return new pn(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const sO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(i){if(rt(!!i,39018),typeof i=="string"){let e=0;const t=sO.exec(i);if(rt(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ut(i.seconds),nanos:Ut(i.nanos)}}function Ut(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qs(i){return typeof i=="string"?pn.fromBase64String(i):pn.fromUint8Array(i)}const TA="server_timestamp",bA="__type__",AA="__previous_value__",SA="__local_write_time__";function kg(i){return(i?.mapValue?.fields||{})[bA]?.stringValue===TA}function Uf(i){const e=i.mapValue.fields[AA];return kg(e)?Uf(e):e}function Fu(i){const e=Ys(i.mapValue.fields[SA].timestampValue);return new Et(e.seconds,e.nanos)}class aO{constructor(e,t,s,o,u,c,m,p,g,E,T){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const df="(default)";class Hu{constructor(e,t){this.projectId=e,this.database=t||df}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===df}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}function oO(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ee(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(i.options.projectId,e)}const wA="__type__",lO="__max__",Lh={mapValue:{}},RA="__vector__",mf="value";function $s(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kg(i)?4:cO(i)?9007199254740991:uO(i)?10:11:Ie(28295,{value:i})}function mr(i,e){if(i===e)return!0;const t=$s(i);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Fu(i).isEqual(Fu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ys(o.timestampValue),m=Ys(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Qs(o.bytesValue).isEqual(Qs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ut(o.geoPointValue.latitude)===Ut(u.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ut(o.integerValue)===Ut(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ut(o.doubleValue),m=Ut(u.doubleValue);return c===m?ff(c)===ff(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return il(i.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(qT(c)!==qT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!mr(c[p],m[p])))return!1;return!0})(i,e);default:return Ie(52216,{left:i})}}function qu(i,e){return(i.values||[]).find((t=>mr(t,e)))!==void 0}function rl(i,e){if(i===e)return 0;const t=$s(i),s=$s(e);if(t!==s)return Ye(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=Ut(u.integerValue||u.doubleValue),p=Ut(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return KT(i.timestampValue,e.timestampValue);case 4:return KT(Fu(i),Fu(e));case 5:return Fp(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Qs(u),p=Qs(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ye(m[g],p[g]);if(E!==0)return E}return Ye(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ye(Ut(u.latitude),Ut(c.latitude));return m!==0?m:Ye(Ut(u.longitude),Ut(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return YT(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[mf]?.arrayValue,E=p[mf]?.arrayValue,T=Ye(g?.values?.length||0,E?.values?.length||0);return T!==0?T:YT(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Lh.mapValue&&c===Lh.mapValue)return 0;if(u===Lh.mapValue)return 1;if(c===Lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=Fp(p[T],E[T]);if(A!==0)return A;const D=rl(m[p[T]],g[E[T]]);if(D!==0)return D}return Ye(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function KT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ye(i,e);const t=Ys(i),s=Ys(e),o=Ye(t.seconds,s.seconds);return o!==0?o:Ye(t.nanos,s.nanos)}function YT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=rl(t[o],s[o]);if(u)return u}return Ye(t.length,s.length)}function sl(i){return Hp(i)}function Hp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Ys(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Qs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return we.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Hp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Hp(t.fields[c])}`;return o+"}"})(i.mapValue):Ie(61005,{value:i})}function $h(i){switch($s(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uf(i);return e?16+$h(e):16;case 5:return 2*i.stringValue.length;case 6:return Qs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+$h(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ta(s.fields,((u,c)=>{o+=u.length+$h(c)})),o})(i.mapValue);default:throw Ie(13486,{value:i})}}function qp(i){return!!i&&"integerValue"in i}function Lg(i){return!!i&&"arrayValue"in i}function QT(i){return!!i&&"nullValue"in i}function $T(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xh(i){return!!i&&"mapValue"in i}function uO(i){return(i?.mapValue?.fields||{})[wA]?.stringValue===RA}function xu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ta(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=xu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xu(i.arrayValue.values[t]);return e}return{...i}}function cO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lO}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(t)}setAll(e){let t=mn.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=xu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ta(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Ln(xu(this.value))}}function CA(i){const e=[];return ta(i.fields,((t,s)=>{const o=new mn([t]);if(Xh(s)){const u=CA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Xn(e)}class Tn{constructor(e,t,s,o,u,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Tn(e,0,Ne.min(),Ne.min(),Ne.min(),Ln.empty(),0)}static newFoundDocument(e,t,s,o){return new Tn(e,1,t,Ne.min(),s,o,0)}static newNoDocument(e,t){return new Tn(e,2,t,Ne.min(),Ne.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Ne.min(),Ne.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pf{constructor(e,t){this.position=e,this.inclusive=t}}function XT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=we.comparator(we.fromName(c.referenceValue),t.key):s=rl(c,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function JT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!mr(i.position[t],e.position[t]))return!1;return!0}class gf{constructor(e,t="asc"){this.field=e,this.dir=t}}function hO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class IA{}class en extends IA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new dO(e,t,s):t==="array-contains"?new gO(e,s):t==="in"?new yO(e,s):t==="not-in"?new _O(e,s):t==="array-contains-any"?new vO(e,s):new en(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new mO(e,s):new pO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rl(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends IA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new pr(e,t)}matches(e){return DA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DA(i){return i.op==="and"}function NA(i){return fO(i)&&DA(i)}function fO(i){for(const e of i.filters)if(e instanceof pr)return!1;return!0}function Gp(i){if(i instanceof en)return i.field.canonicalString()+i.op.toString()+sl(i.value);if(NA(i))return i.filters.map((e=>Gp(e))).join(",");{const e=i.filters.map((t=>Gp(t))).join(",");return`${i.op}(${e})`}}function OA(i,e){return i instanceof en?(function(s,o){return o instanceof en&&s.op===o.op&&s.field.isEqual(o.field)&&mr(s.value,o.value)})(i,e):i instanceof pr?(function(s,o){return o instanceof pr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&OA(c,o.filters[m])),!0):!1})(i,e):void Ie(19439)}function xA(i){return i instanceof en?(function(t){return`${t.field.canonicalString()} ${t.op} ${sl(t.value)}`})(i):i instanceof pr?(function(t){return t.op.toString()+" {"+t.getFilters().map(xA).join(" ,")+"}"})(i):"Filter"}class dO extends en{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class mO extends en{constructor(e,t){super(e,"in",t),this.keys=VA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pO extends en{constructor(e,t){super(e,"not-in",t),this.keys=VA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function VA(i,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class gO extends en{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lg(t)&&qu(t.arrayValue,this.value)}}class yO extends en{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qu(this.value.arrayValue,t)}}class _O extends en{constructor(e,t){super(e,"not-in",t)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qu(this.value.arrayValue,t)}}class vO extends en{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>qu(this.value.arrayValue,s)))}}class EO{constructor(e,t=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function WT(i,e=null,t=[],s=[],o=null,u=null,c=null){return new EO(i,e,t,s,o,u,c)}function Pg(i){const e=Me(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Gp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>sl(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>sl(s))).join(",")),e.Te=t}return e.Te}function Ug(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!hO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!OA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!JT(i.startAt,e.startAt)&&JT(i.endAt,e.endAt)}function Kp(i){return we.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class zf{constructor(e,t=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function TO(i,e,t,s,o,u,c,m){return new zf(i,e,t,s,o,u,c,m)}function zg(i){return new zf(i)}function ZT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bO(i){return we.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function AO(i){return i.collectionGroup!==null}function Vu(i){const e=Me(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new nn(mn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gf(u,s))})),t.has(mn.keyField().canonicalString())||e.Ie.push(new gf(mn.keyField(),s))}return e.Ie}function hr(i){const e=Me(i);return e.Ee||(e.Ee=SO(e,Vu(i))),e.Ee}function SO(i,e){if(i.limitType==="F")return WT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gf(o.field,u)}));const t=i.endAt?new pf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new pf(i.startAt.position,i.startAt.inclusive):null;return WT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Yp(i,e,t){return new zf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Bf(i,e){return Ug(hr(i),hr(e))&&i.limitType===e.limitType}function MA(i){return`${Pg(hr(i))}|lt:${i.limitType}`}function jo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>xA(o))).join(", ")}]`),Pf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>sl(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>sl(o))).join(",")),`Target(${s})`})(hr(i))}; limitType=${i.limitType})`}function jf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):we.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Vu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=XT(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,Vu(s),o)||s.endAt&&!(function(c,m,p){const g=XT(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,Vu(s),o))})(i,e)}function wO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kA(i){return(e,t)=>{let s=!1;for(const o of Vu(i)){const u=RO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function RO(i,e,t){const s=i.field.isKeyField()?we.comparator(e.key,t.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?rl(p,g):Ie(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:i.dir})}}class Xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return vA(this.inner)}size(){return this.innerSize}}const CO=new Rt(we.comparator);function Qr(){return CO}const LA=new Rt(we.comparator);function Cu(...i){let e=LA;for(const t of i)e=e.insert(t.key,t);return e}function PA(i){let e=LA;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ua(){return Mu()}function UA(){return Mu()}function Mu(){return new Xa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const IO=new Rt(we.comparator),DO=new nn(we.comparator);function Qe(...i){let e=DO;for(const t of i)e=e.add(t);return e}const NO=new nn(Ye);function OO(){return NO}function Bg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function zA(i){return{integerValue:""+i}}function xO(i,e){return nO(e)?zA(e):Bg(i,e)}class Ff{constructor(){this._=void 0}}function VO(i,e,t){return i instanceof yf?(function(o,u){const c={fields:{[bA]:{stringValue:TA},[SA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kg(u)&&(u=Uf(u)),u&&(c.fields[AA]=u),{mapValue:c}})(t,e):i instanceof Gu?jA(i,e):i instanceof Ku?FA(i,e):(function(o,u){const c=BA(o,u),m=e0(c)+e0(o.Ae);return qp(c)&&qp(o.Ae)?zA(m):Bg(o.serializer,m)})(i,e)}function MO(i,e,t){return i instanceof Gu?jA(i,e):i instanceof Ku?FA(i,e):t}function BA(i,e){return i instanceof _f?(function(s){return qp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class yf extends Ff{}class Gu extends Ff{constructor(e){super(),this.elements=e}}function jA(i,e){const t=HA(e);for(const s of i.elements)t.some((o=>mr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ku extends Ff{constructor(e){super(),this.elements=e}}function FA(i,e){let t=HA(e);for(const s of i.elements)t=t.filter((o=>!mr(o,s)));return{arrayValue:{values:t}}}class _f extends Ff{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function e0(i){return Ut(i.integerValue||i.doubleValue)}function HA(i){return Lg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function kO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Gu&&o instanceof Gu||s instanceof Ku&&o instanceof Ku?il(s.elements,o.elements,mr):s instanceof _f&&o instanceof _f?mr(s.Ae,o.Ae):s instanceof yf&&o instanceof yf})(i.transform,e.transform)}class LO{constructor(e,t){this.version=e,this.transformResults=t}}class Oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Hf{}function qA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new jg(i.key,Oi.none()):new ic(i.key,i.data,Oi.none());{const t=i.data,s=Ln.empty();let o=new nn(mn.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new na(i.key,s,new Xn(o.toArray()),Oi.none())}}function PO(i,e,t){i instanceof ic?(function(o,u,c){const m=o.value.clone(),p=n0(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):i instanceof na?(function(o,u,c){if(!Jh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=n0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(GA(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ku(i,e,t,s){return i instanceof ic?(function(u,c,m,p){if(!Jh(u.precondition,c))return m;const g=u.value.clone(),E=i0(u.fieldTransforms,p,c);return g.setAll(E),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof na?(function(u,c,m,p){if(!Jh(u.precondition,c))return m;const g=i0(u.fieldTransforms,p,c),E=c.data;return E.setAll(GA(u)),E.setAll(g),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,t,s):(function(u,c,m){return Jh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,t)}function UO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=BA(s.transform,o||null);u!=null&&(t===null&&(t=Ln.empty()),t.set(s.field,u))}return t||null}function t0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&il(s,o,((u,c)=>kO(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ic extends Hf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class na extends Hf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function GA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function n0(i,e,t){const s=new Map;rt(i.length===t.length,32656,{Ve:t.length,de:i.length});for(let o=0;o<t.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,MO(c,m,t[o]))}return s}function i0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,c=t.data.field(o.field);s.set(o.field,VO(u,c,e))}return s}class jg extends Hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zO extends Hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&PO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ku(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ku(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=UA();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const p=qA(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,((t,s)=>t0(t,s)))&&il(this.baseMutations,e.baseMutations,((t,s)=>t0(t,s)))}}class Fg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){rt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return IO})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new Fg(e,t,s,o)}}class jO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FO{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qt,Je;function HO(i){switch(i){case ue.OK:return Ie(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ie(15467,{code:i})}}function KA(i){if(i===void 0)return Kr("GRPC error has no .code"),ue.UNKNOWN;switch(i){case Qt.OK:return ue.OK;case Qt.CANCELLED:return ue.CANCELLED;case Qt.UNKNOWN:return ue.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ue.INTERNAL;case Qt.UNAVAILABLE:return ue.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ue.NOT_FOUND;case Qt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Qt.ABORTED:return ue.ABORTED;case Qt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Qt.DATA_LOSS:return ue.DATA_LOSS;default:return Ie(39323,{code:i})}}(Je=Qt||(Qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function qO(){return new TextEncoder}const GO=new Hs([4294967295,4294967295],0);function r0(i){const e=qO().encode(i),t=new lA;return t.update(e),new Uint8Array(t.digest())}function s0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hs([t,s],0),new Hs([o,u],0)]}class Hg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Iu(`Invalid padding: ${t}`);if(s<0)throw new Iu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Hs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Hs.fromNumber(s)));return o.compare(GO)===1&&(o=new Hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=r0(e),[s,o]=s0(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Hg(u,o,t);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=r0(e),[s,o]=s0(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.be(c)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new qf(Ne.min(),o,new Rt(Ye),Qr(),Qe())}}class rc{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new rc(s,t,Qe(),Qe(),Qe())}}class Wh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class YA{constructor(e,t){this.targetId=e,this.Ce=t}}class QA{constructor(e,t,s=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class a0{constructor(){this.ve=0,this.Fe=o0(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),t=Qe(),s=Qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:u})}})),new rc(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=o0()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class KO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.He=Ph(),this.Je=Ph(),this.Ze=new Rt(Ye)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Kp(u))if(s===0){const c=new we(u.path);this.et(t,c,Tn.newNoDocument(c,Ne.min()))}else rt(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=Qs(s).toUint8Array()}catch(p){if(p instanceof EA)return nl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hg(c,o,u)}catch(p){return nl(p instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Kp(m.target)){const p=new we(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Tn.newNoDocument(p,e))}u.Be&&(t.set(c,u.ke()),u.Ke())}}));let s=Qe();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new qf(e,t,this.Ze,this.je,s);return this.je=Qr(),this.He=Ph(),this.Je=Ph(),this.Ze=new Rt(Ye),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new a0,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new nn(Ye),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new nn(Ye),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ph(){return new Rt(we.comparator)}function o0(){return new Rt(we.comparator)}const YO={asc:"ASCENDING",desc:"DESCENDING"},QO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$O={and:"AND",or:"OR"};class XO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qp(i,e){return i.useProto3Json||Pf(e)?e:{value:e}}function vf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $A(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function JO(i,e){return vf(i,e.toTimestamp())}function fr(i){return rt(!!i,49232),Ne.fromTimestamp((function(t){const s=Ys(t);return new Et(s.seconds,s.nanos)})(i))}function qg(i,e){return $p(i,e).canonicalString()}function $p(i,e){const t=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function XA(i){const e=vt.fromString(i);return rt(tS(e),10190,{key:e.toString()}),e}function Xp(i,e){return qg(i.databaseId,e.path)}function pp(i,e){const t=XA(e);if(t.get(1)!==i.databaseId.projectId)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new we(WA(t))}function JA(i,e){return qg(i.databaseId,e)}function WO(i){const e=XA(i);return e.length===4?vt.emptyPath():WA(e)}function Jp(i){return new vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function WA(i){return rt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function l0(i,e,t){return{name:Xp(i,e),fields:t.value.mapValue.fields}}function ZO(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(rt(E===void 0||typeof E=="string",58123),pn.fromBase64String(E||"")):(rt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),pn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const E=g.code===void 0?ue.UNKNOWN:KA(g.code);return new Ee(E,g.message||"")})(c);t=new QA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=pp(i,s.document.name),u=fr(s.document.updateTime),c=s.document.createTime?fr(s.document.createTime):Ne.min(),m=new Ln({mapValue:{fields:s.document.fields}}),p=Tn.newFoundDocument(o,u,c,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Wh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=pp(i,s.document),u=s.readTime?fr(s.readTime):Ne.min(),c=Tn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Wh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=pp(i,s.document),u=s.removedTargetIds||[];t=new Wh([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new FO(o,u),m=s.targetId;t=new YA(m,c)}}return t}function ex(i,e){let t;if(e instanceof ic)t={update:l0(i,e.key,e.value)};else if(e instanceof jg)t={delete:Xp(i,e.key)};else if(e instanceof na)t={update:l0(i,e.key,e.data),updateMask:ux(e.fieldMask)};else{if(!(e instanceof zO))return Ie(16599,{dt:e.type});t={verify:Xp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof yf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _f)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Ie(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:JO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(i,e.precondition)),t}function tx(i,e){return i&&i.length>0?(rt(e!==void 0,14353),i.map((t=>(function(o,u){let c=o.updateTime?fr(o.updateTime):fr(u);return c.isEqual(Ne.min())&&(c=fr(u)),new LO(c,o.transformResults||[])})(t,e)))):[]}function nx(i,e){return{documents:[JA(i,e.path)]}}function ix(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=JA(i,o);const u=(function(g){if(g.length!==0)return eS(pr.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:Fo(A.field),direction:ax(A.dir)}})(E)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Qp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function rx(i){let e=WO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){rt(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(T){const A=ZA(T);return A instanceof pr&&NA(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((A=>(function(K){return new gf(Ho(K.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(A)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Pf(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(T){const A=!!T.before,D=T.values||[];return new pf(D,A)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const A=!T.before,D=T.values||[];return new pf(D,A)})(t.endAt)),TO(e,o,c,u,m,"F",p,g)}function sx(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ho(t.unaryFilter.field);return en.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ho(t.unaryFilter.field);return en.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ho(t.unaryFilter.field);return en.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(t.unaryFilter.field);return en.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(i):i.fieldFilter!==void 0?(function(t){return en.create(Ho(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return pr.create(t.compositeFilter.filters.map((s=>ZA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(i):Ie(30097,{filter:i})}function ax(i){return YO[i]}function ox(i){return QO[i]}function lx(i){return $O[i]}function Fo(i){return{fieldPath:i.canonicalString()}}function Ho(i){return mn.fromServerFormat(i.fieldPath)}function eS(i){return i instanceof en?(function(t){if(t.op==="=="){if($T(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NAN"}};if(QT(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($T(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NAN"}};if(QT(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(t.field),op:ox(t.op),value:t.value}}})(i):i instanceof pr?(function(t){const s=t.getFilters().map((o=>eS(o)));return s.length===1?s[0]:{compositeFilter:{op:lx(t.op),filters:s}}})(i):Ie(54877,{filter:i})}function ux(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function nS(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class zs{constructor(e,t,s,o,u=Ne.min(),c=Ne.min(),m=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cx{constructor(e){this.yt=e}}function hx(i){const e=rx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Yp(e,e.limit,"L"):e}class fx{constructor(){this.Sn=new dx}addToCollectionParentIndex(e,t){return this.Sn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ks.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class dx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new nn(vt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new nn(vt.comparator)).toArray()}}const u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iS=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(iS,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class al{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new al(0)}static ar(){return new al(-1)}}const c0="LruGarbageCollector",mx=1048576;function h0([i,e],[t,s]){const o=Ye(i,t);return o===0?Ye(e,s):o}class px{constructor(e){this.Pr=e,this.buffer=new nn(h0),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();h0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(c0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pl(t)?_e(c0,"Ignoring IndexedDB error during garbage collection: ",t):await ml(t)}await this.Ar(3e5)}))}}class yx{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Lf.ce);const s=new px(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(u0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,u,c,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,t)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Bo()<=Ke.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function _x(i,e){return new yx(i,e)}class vx{constructor(){this.changes=new Xa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ex{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Tx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&ku(s.mutation,o,Xn.empty(),Et.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Qe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Qe()){const o=Ua();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let c=Cu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Ua();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Qe())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,s,o){let u=Qr();const c=Mu(),m=(function(){return Mu()})();return t.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof na)?u=u.insert(g.key,g):E!==void 0?(c.set(g.key,E.mutation.getFieldMask()),ku(E.mutation,g,E.mutation.getFieldMask(),Et.now())):c.set(g.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>c.set(g,E))),t.forEach(((g,E)=>m.set(g,new Ex(E,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=Mu();let o=new Rt(((c,m)=>c-m)),u=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Xn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Qe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=UA();E.forEach((A=>{if(!u.has(A)){const D=qA(t.get(A),s.get(A));D!==null&&T.set(A,D),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return le.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return bO(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):le.resolve(Ua());let m=ju,p=u;return c.next((g=>le.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?le.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Qe()))).next((E=>({batchId:m,changes:PA(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((s=>{let o=Cu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,u).next((m=>le.forEach(m,(p=>{const g=(function(T,A){return new zf(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{c=c.insert(T,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const E=g.getKey();c.get(E)===null&&(c=c.insert(E,Tn.newInvalidDocument(E)))}));let m=Cu();return c.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&ku(E.mutation,g,Xn.empty(),Et.now()),jf(t,g)&&(m=m.insert(p,g))})),m}))}}class bx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return le.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:fr(o.createTime)}})(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:hx(o.bundledQuery),readTime:fr(o.readTime)}})(t)),le.resolve()}}class Ax{constructor(){this.overlays=new Rt(we.comparator),this.Lr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ua();return le.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.bt(e,t,u)})),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=Ua(),u=t.length+1,c=new we(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Rt(((g,E)=>g-E));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ua(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return le.resolve(m)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new jO(t,s));let u=this.Lr.get(t);u===void 0&&(u=Qe(),this.Lr.set(t,u)),this.Lr.set(t,u.add(s.key))}}class Sx{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}class Gg{constructor(){this.kr=new nn(on.Kr),this.qr=new nn(on.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new on(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new on(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new we(new vt([])),s=new on(t,e),o=new on(t,e+1),u=[];return this.qr.forEachInRange([s,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new we(new vt([])),s=new on(t,e),o=new on(t,e+1);let u=Qe();return this.qr.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new on(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class on{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return we.comparator(e.key,t.key)||Ye(e.Hr,t.Hr)}static Ur(e,t){return Ye(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}class wx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new nn(on.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new BO(u,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new on(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Mg:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new on(t,0),o=new on(t,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new nn(Ye);return t.forEach((o=>{const u=new on(o,0),c=new on(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{s=s.add(m.Hr)}))})),le.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;we.isDocumentKey(u)||(u=u.child(""));const c=new on(new we(u),0);let m=new nn(Ye);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),le.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){rt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return le.forEach(t.mutations,(o=>{const u=new on(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new on(t,0),o=this.Jr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rx{constructor(e){this.ti=e,this.docs=(function(){return new Rt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,c=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let s=Qr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))})),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Qr();const c=t.path,m=new we(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||WN(JN(E),s)<=0||(o.has(E.key)||jf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ie(9500)}ni(e,t){return le.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Cx(this)}getSize(e){return le.resolve(this.size)}}class Cx extends vx{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),le.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Ix{constructor(e){this.persistence=e,this.ri=new Xa((t=>Pg(t)),Ug),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new Gg,this.targetCount=0,this.oi=al._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),le.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new al(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.lr(t),le.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),le.waitFor(u).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.si.containsKey(t))}}class rS{constructor(e,t){this._i={},this.overlays={},this.ai=new Lf(0),this.ui=!1,this.ui=!0,this.ci=new Sx,this.referenceDelegate=e(this),this.li=new Ix(this),this.indexManager=new fx,this.remoteDocumentCache=(function(o){return new Rx(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new cx(t),this.Pi=new bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ax,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new wx(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){_e("MemoryPersistence","Starting transaction:",e);const o=new Dx(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,t){return le.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class Dx extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Ri=new Gg,this.Ai=null}static Vi(e){return new Kg(e)}get di(){if(this.Ai)return this.Ai;throw Ie(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(s=>{const o=we.fromPath(s);return this.mi(e,o).next((u=>{u||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ef{constructor(e,t){this.persistence=e,this.fi=new Xa((s=>iO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=_x(this,t)}static Vi(e,t){return new Ef(e,t)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return le.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?le.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(c=>this.wr(e,c,t).next((m=>{m||(s++,u.removeEntry(c,Ne.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),le.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$h(e.data.value)),t}wr(e,t,s){return le.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=Qe(),o=Qe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Yg(e,t.fromCache,s,o)}}class Nx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ox{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return aI()?8:tO(bn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.gs(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(e,t,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new Nx;return this.ys(e,t,c).next((m=>{if(u.result=m,this.As)return this.ws(e,t,c,m.size)}))})).next((()=>u.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(Bo()<=Ke.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Bo()<=Ke.DEBUG&&_e("QueryEngine","Query:",jo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Bo()<=Ke.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(t))):le.resolve())}gs(e,t){if(ZT(t))return le.resolve(null);let s=hr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Yp(t,null,"F"),s=hr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=Qe(...u);return this.fs.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(t,m);return this.Ss(t,g,c,p.readTime)?this.gs(e,Yp(t,null,"F")):this.Ds(e,g,t,p)}))))})))))}ps(e,t,s,o){return ZT(t)||o.isEqual(Ne.min())?le.resolve(null):this.fs.getDocuments(e,s).next((u=>{const c=this.bs(t,u);return this.Ss(t,c,s,o)?le.resolve(null):(Bo()<=Ke.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(t)),this.Ds(e,c,t,XN(o,ju)).next((m=>m)))}))}bs(e,t){let s=new nn(kA(e));return t.forEach(((o,u)=>{jf(e,u)&&(s=s.add(u))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,t,s){return Bo()<=Ke.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",jo(t)),this.fs.getDocumentsMatchingQuery(e,t,Ks.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Qg="LocalStore",xx=3e8;class Vx{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new Rt(Ye),this.Fs=new Xa((u=>Pg(u)),Ug),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function Mx(i,e,t,s){return new Vx(i,e,t,s)}async function sS(i,e){const t=Me(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=Qe();for(const g of o){c.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function kx(i,e){const t=Me(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let D=le.resolve();return A.forEach((K=>{D=D.next((()=>E.getEntry(p,K))).next((G=>{const j=g.docVersions.get(K);rt(j!==null,48541),G.version.compareTo(j)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Qe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function aS(i){const e=Me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Lx(i,e){const t=Me(i),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(t.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>t.li.addMatchingKeys(u,E.addedDocuments,T))));let D=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(pn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(T,D),(function(G,j,ae){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=xx?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(A,D,E)&&m.push(t.li.updateTargetData(u,D))}));let p=Qr(),g=Qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(Px(u,c,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(Ne.min())){const E=t.li.getLastRemoteSnapshotVersion(u).next((T=>t.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return le.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.vs=o,u)))}function Px(i,e,t){let s=Qe(),o=Qe();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=Qr();return t.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):_e(Qg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function Ux(i,e){const t=Me(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Mg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zx(i,e){const t=Me(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((u=>u?(o=u,le.resolve(o)):t.li.allocateTargetId(s).next((c=>(o=new zs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Wp(i,e,t){const s=Me(i),o=s.vs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!pl(c))throw c;_e(Qg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function f0(i,e,t){const s=Me(i);let o=Ne.min(),u=Qe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,E){const T=Me(p),A=T.Fs.get(E);return A!==void 0?le.resolve(T.vs.get(A)):T.li.getTargetData(g,E)})(s,c,hr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,t?o:Ne.min(),t?u:Qe()))).next((m=>(Bx(s,wO(e),m),{documents:m,ks:u})))))}function Bx(i,e,t){let s=i.Ms.get(e)||Ne.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class d0{constructor(){this.activeTargetIds=OO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jx{constructor(){this.vo=new d0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new d0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fx{Mo(e){}shutdown(){}}const m0="ConnectivityMonitor";class p0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(m0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(m0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uh=null;function Zp(){return Uh===null?Uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uh++,"0x"+Uh.toString(16)}const gp="RestConnection",Hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class qx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===df?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const c=Zp(),m=this.Qo(e,t.toUriEncodedString());_e(gp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=Zs(g);return this.zo(e,m,p,s,E).then((T=>(_e(gp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw nl(gp,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,t,s,o,u,c){return this.Wo(e,t,s,o,u)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,t){const s=Hx[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Gx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const _n="WebChannelConnection",Eu=(i,e,t)=>{i.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Xo extends qx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xo.c_){const e=fA();Eu(e,hA.STAT_EVENT,(t=>{t.stat===jp.PROXY?_e(_n,"STAT_EVENT: detected buffering proxy"):t.stat===jp.NOPROXY&&_e(_n,"STAT_EVENT: detected no buffering proxy")})),Xo.c_=!0}}zo(e,t,s,o,u){const c=Zp();return new Promise(((m,p)=>{const g=new uA;g.setWithCredentials(!0),g.listenOnce(cA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Qh.NO_ERROR:const T=g.getResponseJson();_e(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Qh.TIMEOUT:_e(_n,`RPC '${e}' ${c} timed out`),p(new Ee(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const A=g.getStatus();if(_e(_n,`RPC '${e}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const K=D?.error;if(K&&K.status&&K.message){const G=(function(ae){const Q=ae.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Q)>=0?Q:ue.UNKNOWN})(K.status);p(new Ee(G,K.message))}else p(new Ee(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ee(ue.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_e(_n,`RPC '${e}' ${c} completed.`)}}));const E=JSON.stringify(o);_e(_n,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",E,s,15)}))}T_(e,t,s){const o=Zp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const g=u.join("");_e(_n,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=c.createWebChannel(g,m);this.I_(E);let T=!1,A=!1;const D=new Gx({Ho:K=>{A?_e(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(T||(_e(_n,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),_e(_n,`RPC '${e}' stream ${o} sending:`,K),E.send(K))},Jo:()=>E.close()});return Eu(E,Ru.EventType.OPEN,(()=>{A||(_e(_n,`RPC '${e}' stream ${o} transport opened.`),D.i_())})),Eu(E,Ru.EventType.CLOSE,(()=>{A||(A=!0,_e(_n,`RPC '${e}' stream ${o} transport closed`),D.o_(),this.E_(E))})),Eu(E,Ru.EventType.ERROR,(K=>{A||(A=!0,nl(_n,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),D.o_(new Ee(ue.UNAVAILABLE,"The operation could not be completed")))})),Eu(E,Ru.EventType.MESSAGE,(K=>{if(!A){const G=K.data[0];rt(!!G,16349);const j=G,ae=j?.error||j[0]?.error;if(ae){_e(_n,`RPC '${e}' stream ${o} received error:`,ae);const Q=ae.status;let oe=(function(ne){const w=Qt[ne];if(w!==void 0)return KA(w)})(Q),re=ae.message;oe===void 0&&(oe=ue.INTERNAL,re="Unknown error status: "+Q+" with message "+ae.message),A=!0,D.o_(new Ee(oe,re)),E.close()}else _e(_n,`RPC '${e}' stream ${o} received:`,G),D.__(G)}})),Xo.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return dA()}}function Kx(i){return new Xo(i)}function yp(){return typeof document<"u"?document:null}function Gf(i){return new XO(i,!0)}Xo.c_=!1;class oS{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const g0="PersistentStream";class lS{constructor(e,t,s,o,u,c,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ee(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(g0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(_e(g0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yx extends lS{constructor(e,t,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ne.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?fr(c.readTime):Ne.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Jp(this.serializer),t.addTarget=(function(u,c){let m;const p=c.target;if(m=Kp(p)?{documents:nx(u,p)}:{query:ix(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=$A(u,c.resumeToken);const g=Qp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ne.min())>0){m.readTime=vf(u,c.snapshotVersion.toTimestamp());const g=Qp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=sx(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Jp(this.serializer),t.removeTarget=e,this.K_(t)}}class Qx extends lS{constructor(e,t,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=tx(e.writeResults,e.commitTime),s=fr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Jp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>ex(this.serializer,s)))};this.K_(t)}}class $x{}class Xx extends $x{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(e,$p(t,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(ue.UNKNOWN,u.toString())}))}jo(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(e,$p(t,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Jx(i,e,t,s){return new Xx(i,e,t,s)}class Wx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kr(t),this.aa=!1):_e("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ka="RemoteStore";class Zx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Ja(this)&&(_e(Ka,"Restarting streams for network reachability change."),await(async function(p){const g=Me(p);g.Ea.add(4),await sc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Kf(g)})(this))}))})),this.Va=new Wx(s,o)}}async function Kf(i){if(Ja(i))for(const e of i.Ra)await e(!0)}async function sc(i){for(const e of i.Ra)await e(!1)}function uS(i,e){const t=Me(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Wg(t)?Jg(t):gl(t).O_()&&Xg(t,e))}function $g(i,e){const t=Me(i),s=gl(t);t.Ia.delete(e),s.O_()&&cS(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ja(t)&&t.Va.set("Unknown"))}function Xg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gl(i).Z_(e)}function cS(i,e){i.da.$e(e),gl(i).X_(e)}function Jg(i){i.da=new KO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),gl(i).start(),i.Va.ua()}function Wg(i){return Ja(i)&&!gl(i).x_()&&i.Ia.size>0}function Ja(i){return Me(i).Ea.size===0}function hS(i){i.da=void 0}async function eV(i){i.Va.set("Online")}async function tV(i){i.Ia.forEach(((e,t)=>{Xg(i,e)}))}async function nV(i,e){hS(i),Wg(i)?(i.Va.ha(e),Jg(i)):i.Va.set("Unknown")}async function iV(i,e,t){if(i.Va.set("Online"),e instanceof QA&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){_e(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Tf(i,s)}else if(e instanceof Wh?i.da.Xe(e):e instanceof YA?i.da.st(e):i.da.tt(e),!t.isEqual(Ne.min()))try{const s=await aS(i.localStore);t.compareTo(s)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(pn.EMPTY_BYTE_STRING,E.snapshotVersion)),cS(u,p);const T=new zs(E.target,p,g,E.sequenceNumber);Xg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){_e(Ka,"Failed to raise snapshot:",s),await Tf(i,s)}}async function Tf(i,e,t){if(!pl(e))throw e;i.Ea.add(1),await sc(i),i.Va.set("Offline"),t||(t=()=>aS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{_e(Ka,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Kf(i)}))}function fS(i,e){return e().catch((t=>Tf(i,t,e)))}async function Yf(i){const e=Me(i),t=Xs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mg;for(;rV(e);)try{const o=await Ux(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,sV(e,o)}catch(o){await Tf(e,o)}dS(e)&&mS(e)}function rV(i){return Ja(i)&&i.Ta.length<10}function sV(i,e){i.Ta.push(e);const t=Xs(i);t.O_()&&t.Y_&&t.ea(e.mutations)}function dS(i){return Ja(i)&&!Xs(i).x_()&&i.Ta.length>0}function mS(i){Xs(i).start()}async function aV(i){Xs(i).ra()}async function oV(i){const e=Xs(i);for(const t of i.Ta)e.ea(t.mutations)}async function lV(i,e,t){const s=i.Ta.shift(),o=Fg.from(s,e,t);await fS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Yf(i)}async function uV(i,e){e&&Xs(i).Y_&&await(async function(s,o){if((function(c){return HO(c)&&c!==ue.ABORTED})(o.code)){const u=s.Ta.shift();Xs(s).B_(),await fS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yf(s)}})(i,e),dS(i)&&mS(i)}async function y0(i,e){const t=Me(i);t.asyncQueue.verifyOperationInProgress(),_e(Ka,"RemoteStore received new credentials");const s=Ja(t);t.Ea.add(3),await sc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kf(t)}async function cV(i,e){const t=Me(i);e?(t.Ea.delete(2),await Kf(t)):e||(t.Ea.add(2),await sc(t),t.Va.set("Unknown"))}function gl(i){return i.ma||(i.ma=(function(t,s,o){const u=Me(t);return u.sa(),new Yx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:eV.bind(null,i),Yo:tV.bind(null,i),t_:nV.bind(null,i),J_:iV.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Wg(i)?Jg(i):i.Va.set("Unknown")):(await i.ma.stop(),hS(i))}))),i.ma}function Xs(i){return i.fa||(i.fa=(function(t,s,o){const u=Me(t);return u.sa(),new Qx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aV.bind(null,i),t_:uV.bind(null,i),ta:oV.bind(null,i),na:lV.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Yf(i)):(await i.fa.stop(),i.Ta.length>0&&(_e(Ka,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Zg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const c=Date.now()+s,m=new Zg(e,t,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(i,e){if(Kr("AsyncQueue",`${e}: ${i}`),pl(i))return new Ee(ue.UNAVAILABLE,`${e}: ${i}`);throw i}class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=Cu(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Jo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class _0{constructor(){this.ga=new Rt(we.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class ol{constructor(e,t,s,o,u,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new ol(e,t,Jo.emptySet(t),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class hV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class fV{constructor(){this.queries=v0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Me(t),u=o.queries;o.queries=v0(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new Ee(ue.ABORTED,"Firestore shutting down"))}}function v0(){return new Xa((i=>MA(i)),Bf)}async function pS(i,e){const t=Me(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new hV,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=ey(c,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ba.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&ty(t)}async function gS(i,e){const t=Me(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const c=u.ba.indexOf(e);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function dV(i,e){const t=Me(i);let s=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(s=!0);c.wa=o}}s&&ty(t)}function mV(i,e,t){const s=Me(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(t);s.queries.delete(e)}function ty(i){i.Ca.forEach((e=>{e.next()}))}var eg,E0;(E0=eg||(eg={})).Ma="default",E0.Cache="cache";class yS{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ol(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eg.Cache}}class _S{constructor(e){this.key=e}}class vS{constructor(e){this.key=e}}class pV{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.eu=kA(e),this.tu=new Jo(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new _0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),D=jf(this.query,T)?T:null,K=!!A&&this.mutatedKeys.has(A.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let j=!1;A&&D?A.data.isEqual(D.data)?K!==G&&(s.track({type:3,doc:D}),j=!0):this.su(A,D)||(s.track({type:2,doc:D}),j=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!A&&D?(s.track({type:0,doc:D}),j=!0):A&&!D&&(s.track({type:1,doc:A}),j=!0,(p||g)&&(m=!0)),j&&(D?(c=c.add(D),u=G?u.add(E):u.delete(E)):(c=c.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:c,iu:s,Ss:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((E,T)=>(function(D,K){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:j})}};return G(D)-G(K)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new ol(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new vS(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new _S(s))})),t}cu(e){this.Za=e.ks,this.Ya=Qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ny="SyncEngine";class gV{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class yV{constructor(e){this.key=e,this.hu=!1}}class _V{constructor(e,t,s,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xa((m=>MA(m)),Bf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Rt(we.comparator),this.Au=new Map,this.Vu=new Gg,this.du={},this.mu=new Map,this.fu=al.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vV(i,e,t=!0){const s=wS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ES(s,e,t,!0),o}async function EV(i,e){const t=wS(i);await ES(t,e,!0,!1)}async function ES(i,e,t,s){const o=await zx(i.localStore,hr(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await TV(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&uS(i.remoteStore,o),m}async function TV(i,e,t,s,o){i.pu=(T,A,D)=>(async function(G,j,ae,Q){let oe=j.view.ru(ae);oe.Ss&&(oe=await f0(G.localStore,j.query,!1).then((({documents:w})=>j.view.ru(w,oe))));const re=Q&&Q.targetChanges.get(j.targetId),W=Q&&Q.targetMismatches.get(j.targetId)!=null,ne=j.view.applyChanges(oe,G.isPrimaryClient,re,W);return b0(G,j.targetId,ne.au),ne.snapshot})(i,T,A,D);const u=await f0(i.localStore,e,!0),c=new pV(e,u.ks),m=c.ru(u.documents),p=rc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);b0(i,t,g.au);const E=new gV(e,t,c);return i.Tu.set(e,E),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function bV(i,e,t){const s=Me(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Bf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&$g(s.remoteStore,o.targetId),tg(s,o.targetId)})).catch(ml)):(tg(s,o.targetId),await Wp(s.localStore,o.targetId,!0))}async function AV(i,e){const t=Me(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),$g(t.remoteStore,s.targetId))}async function SV(i,e,t){const s=OV(i);try{const o=await(function(c,m){const p=Me(c),g=Et.now(),E=m.reduce(((D,K)=>D.add(K.key)),Qe());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let K=Qr(),G=Qe();return p.xs.getEntries(D,E).next((j=>{K=j,K.forEach(((ae,Q)=>{Q.isValidDocument()||(G=G.add(ae))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,K))).next((j=>{T=j;const ae=[];for(const Q of m){const oe=UO(Q,T.get(Q.key).overlayedDocument);oe!=null&&ae.push(new na(Q.key,oe,CA(oe.value.mapValue),Oi.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,ae,m)})).next((j=>{A=j;const ae=j.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(D,j.batchId,ae)}))})).then((()=>({batchId:A.batchId,changes:PA(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new Rt(Ye)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(s,o.batchId,t),await ac(s,o.changes),await Yf(s.remoteStore)}catch(o){const u=ey(o,"Failed to persist write");t.reject(u)}}async function TS(i,e){const t=Me(i);try{const s=await Lx(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?rt(c.hu,14607):o.removedDocuments.size>0&&(rt(c.hu,42227),c.hu=!1))})),await ac(t,s,e)}catch(s){await ml(s)}}function T0(i,e,t){const s=Me(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Me(c);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.ba)A.va(m)&&(g=!0)})),g&&ty(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wV(i,e,t){const s=Me(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new Rt(we.comparator);c=c.insert(u,Tn.newNoDocument(u,Ne.min()));const m=Qe().add(u),p=new qf(Ne.min(),new Map,new Rt(Ye),c,m);await TS(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),iy(s)}else await Wp(s.localStore,e,!1).then((()=>tg(s,e,t))).catch(ml)}async function RV(i,e){const t=Me(i),s=e.batch.batchId;try{const o=await kx(t.localStore,e);AS(t,s,null),bS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ac(t,o)}catch(o){await ml(o)}}async function CV(i,e,t){const s=Me(i);try{const o=await(function(c,m){const p=Me(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(rt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);AS(s,e,t),bS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ac(s,o)}catch(o){await ml(o)}}function bS(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function AS(i,e,t){const s=Me(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function tg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||SS(i,s)}))}function SS(i,e){i.Eu.delete(e.path.canonicalString());const t=i.Ru.get(e);t!==null&&($g(i.remoteStore,t),i.Ru=i.Ru.remove(e),i.Au.delete(t),iy(i))}function b0(i,e,t){for(const s of t)s instanceof _S?(i.Vu.addReference(s.key,e),IV(i,s)):s instanceof vS?(_e(ny,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||SS(i,s.key)):Ie(19791,{wu:s})}function IV(i,e){const t=e.key,s=t.path.canonicalString();i.Ru.get(t)||i.Eu.has(s)||(_e(ny,"New document in limbo: "+t),i.Eu.add(s),iy(i))}function iy(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new we(vt.fromString(e)),s=i.fu.next();i.Au.set(s,new yV(t)),i.Ru=i.Ru.insert(t,s),uS(i.remoteStore,new zs(hr(zg(t.path)),s,"TargetPurposeLimboResolution",Lf.ce))}}async function ac(i,e,t){const s=Me(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const E=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Yg.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(c),s.Pu.J_(o),await(async function(p,g){const E=Me(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>le.forEach(g,(A=>le.forEach(A.Ts,(D=>E.persistence.referenceDelegate.addReference(T,A.targetId,D))).next((()=>le.forEach(A.Is,(D=>E.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))))))}catch(T){if(!pl(T))throw T;_e(Qg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const D=E.vs.get(A),K=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(K);E.vs=E.vs.insert(A,G)}}})(s.localStore,u))}async function DV(i,e){const t=Me(i);if(!t.currentUser.isEqual(e)){_e(ny,"User change. New user:",e.toKey());const s=await sS(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new Ee(ue.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ac(t,s.Ns)}}function NV(i,e){const t=Me(i),s=t.Au.get(e);if(s&&s.hu)return Qe().add(s.key);{let o=Qe();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function wS(i){const e=Me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wV.bind(null,e),e.Pu.J_=dV.bind(null,e.eventManager),e.Pu.yu=mV.bind(null,e.eventManager),e}function OV(i){const e=Me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CV.bind(null,e),e}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Mx(this.persistence,new Ox,e.initialUser,this.serializer)}Cu(e){return new rS(Kg.Vi,this.serializer)}Du(e){return new jx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class xV extends bf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){rt(this.persistence.referenceDelegate instanceof Ef,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gx(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new rS((s=>Ef.Vi(s,t)),this.serializer)}}class ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DV.bind(null,this.syncEngine),await cV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fV})()}createDatastore(e){const t=Gf(e.databaseInfo.databaseId),s=Kx(e.databaseInfo);return Jx(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,c,m){return new Zx(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>T0(this.syncEngine,t,0)),(function(){return p0.v()?new p0:new Fx})())}createSyncEngine(e,t){return(function(o,u,c,m,p,g,E){const T=new _V(o,u,c,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Me(t);_e(Ka,"RemoteStore shutting down."),s.Ea.add(5),await sc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ng.provider={build:()=>new ng};class RS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Js="FirestoreClient";class VV{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{_e(Js,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(_e(Js,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ey(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function _p(i,e){i.asyncQueue.verifyOperationInProgress(),_e(Js,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await sS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function A0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await MV(i);_e(Js,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>y0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>y0(e.remoteStore,o))),i._onlineComponents=e}async function MV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){_e(Js,"Using user provided OfflineComponentProvider");try{await _p(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await _p(i,new bf)}}else _e(Js,"Using default OfflineComponentProvider"),await _p(i,new xV(void 0));return i._offlineComponents}async function CS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(_e(Js,"Using user provided OnlineComponentProvider"),await A0(i,i._uninitializedComponentsProvider._online)):(_e(Js,"Using default OnlineComponentProvider"),await A0(i,new ng))),i._onlineComponents}function kV(i){return CS(i).then((e=>e.syncEngine))}async function IS(i){const e=await CS(i),t=e.eventManager;return t.onListen=vV.bind(null,e.syncEngine),t.onUnlisten=bV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=EV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AV.bind(null,e.syncEngine),t}function LV(i,e,t={}){const s=new Fr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const E=new RS({next:A=>{E.Nu(),c.enqueueAndForget((()=>gS(u,T)));const D=A.docs.has(m);!D&&A.fromCache?g.reject(new Ee(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&p&&p.source==="server"?g.reject(new Ee(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new yS(zg(m.path),E,{includeMetadataChanges:!0,Ka:!0});return pS(u,T)})(await IS(i),i.asyncQueue,e,t,s))),s.promise}function PV(i,e,t={}){const s=new Fr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const E=new RS({next:A=>{E.Nu(),c.enqueueAndForget((()=>gS(u,T))),A.fromCache&&p.source==="server"?g.reject(new Ee(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new yS(m,E,{includeMetadataChanges:!0,Ka:!0});return pS(u,T)})(await IS(i),i.asyncQueue,e,t,s))),s.promise}function UV(i,e){const t=new Fr;return i.asyncQueue.enqueueAndForget((async()=>SV(await kV(i),e,t))),t.promise}function DS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const zV="ComponentProvider",S0=new Map;function BV(i,e,t,s,o){return new aO(i,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,DS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const NS="firestore.googleapis.com",w0=!0;class R0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=w0}else this.host=e.host,this.ssl=e.ssl??w0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mx)throw new Ee(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$N("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zN;switch(s.type){case"firstParty":return new HN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=S0.get(t);s&&(_e(zV,"Removing Datastore"),S0.delete(t),s.terminate())})(this),Promise.resolve()}}function jV(i,e,t,s={}){i=Yr(i,Qf);const o=Zs(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(_g(`https://${m}`),vg("Firestore",!0)),u.host!==NS&&u.host!==m&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Fa(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=En.MOCK_USER;else{g=bb(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new Ee(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new En(T)}i._authCredentials=new BN(new pA(g,E))}}class $f{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $f(this.firestore,e,this._query)}}class tn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(nc(t,tn._jsonSchema))return new tn(e,s||null,new we(vt.fromString(t.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:$t("string",tn._jsonSchemaVersion),referencePath:$t("string")};class qs extends $f{constructor(e,t,s){super(e,t,zg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new we(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function OS(i,e,...t){if(i=Jt(i),gA("collection","path",e),i instanceof Qf){const s=vt.fromString(e,...t);return BT(s),new qs(i,null,s)}{if(!(i instanceof tn||i instanceof qs))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(vt.fromString(e,...t));return BT(s),new qs(i.firestore,null,s)}}function Yu(i,e,...t){if(i=Jt(i),arguments.length===1&&(e=xg.newId()),gA("doc","path",e),i instanceof Qf){const s=vt.fromString(e,...t);return zT(s),new tn(i,null,new we(s))}{if(!(i instanceof tn||i instanceof qs))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(vt.fromString(e,...t));return zT(s),new tn(i.firestore,i instanceof qs?i.converter:null,new we(s))}}const C0="AsyncQueue";class I0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oS(this,"async_queue_retry"),this._c=()=>{const s=yp();s&&_e(C0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=yp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=yp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;_e(C0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Kr("INTERNAL UNHANDLED ERROR: ",D0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Zg.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:D0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function D0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class yl extends Qf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new I0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I0(e),this._firestoreClient=void 0,await e}}}function FV(i,e){const t=typeof i=="object"?i:bg(),s=typeof i=="string"?i:df,o=Of(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=vb("firestore");u&&jV(o,...u)}return o}function ry(i){if(i._terminated)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||HV(i),i._firestoreClient}function HV(i){const e=i._freezeSettings(),t=BV(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new VV(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi(pn.fromBase64String(e))}catch(t){throw new Ee(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mi(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nc(e,mi._jsonSchema))return mi.fromBase64String(e.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:$t("string",mi._jsonSchemaVersion),bytes:$t("string")};class sy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ay{constructor(e){this._methodName=e}}class dr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(nc(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:$t("string",dr._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class xi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nc(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new xi(e.vectorValues);throw new Ee(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:$t("string",xi._jsonSchemaVersion),vectorValues:$t("object")};const qV=/^__.*__$/;class GV{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new ic(e,this.data,t,this.fieldTransforms)}}class xS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{dataSource:i})}}class oy{constructor(e,t,s,o,u,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new oy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Af(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VS(this.dataSource)&&qV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class KV{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Gf(e)}createContext(e,t,s,o=!1){return new oy({dataSource:e,methodName:t,targetDoc:s,path:mn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MS(i){const e=i._freezeSettings(),t=Gf(i._databaseId);return new KV(i._databaseId,!!e.ignoreUndefinedProperties,t)}function YV(i,e,t,s,o,u={}){const c=i.createContext(u.merge||u.mergeFields?2:0,e,t,o);ly("Data must be an object, but it was:",c,s);const m=kS(s,c);let p,g;if(u.merge)p=new Xn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=Qu(e,T,t);if(!c.contains(A))throw new Ee(ue.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);US(E,A)||E.push(A)}p=new Xn(E),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new GV(new Ln(m),p,g)}class Xf extends ay{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xf}}function QV(i,e,t,s){const o=i.createContext(1,e,t);ly("Data must be an object, but it was:",o,s);const u=[],c=Ln.empty();ta(s,((p,g)=>{const E=PS(e,p,t);g=Jt(g);const T=o.childContextForFieldPath(E);if(g instanceof Xf)u.push(E);else{const A=Jf(g,T);A!=null&&(u.push(E),c.set(E,A))}}));const m=new Xn(u);return new xS(c,m,o.fieldTransforms)}function $V(i,e,t,s,o,u){const c=i.createContext(1,e,t),m=[Qu(e,s,t)],p=[o];if(u.length%2!=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Qu(e,u[A])),p.push(u[A+1]);const g=[],E=Ln.empty();for(let A=m.length-1;A>=0;--A)if(!US(g,m[A])){const D=m[A];let K=p[A];K=Jt(K);const G=c.childContextForFieldPath(D);if(K instanceof Xf)g.push(D);else{const j=Jf(K,G);j!=null&&(g.push(D),E.set(D,j))}}const T=new Xn(g);return new xS(E,T,c.fieldTransforms)}function Jf(i,e){if(LS(i=Jt(i)))return ly("Unsupported field value:",e,i),kS(i,e);if(i instanceof ay)return(function(s,o){if(!VS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=Jf(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Et.fromDate(s);return{timestampValue:vf(o.serializer,u)}}if(s instanceof Et){const u=new Et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vf(o.serializer,u)}}if(s instanceof dr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mi)return{bytesValue:$A(o.serializer,s._byteString)};if(s instanceof tn){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xi)return(function(c,m){const p=c instanceof xi?c.toArray():c;return{mapValue:{fields:{[wA]:{stringValue:RA},[mf]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Bg(m.serializer,E)}))}}}}}})(s,o);if(nS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Vg(s)}`)})(i,e)}function kS(i,e){const t={};return vA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(i,((s,o)=>{const u=Jf(o,e.childContextForField(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function LS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Et||i instanceof dr||i instanceof mi||i instanceof tn||i instanceof ay||i instanceof xi||nS(i))}function ly(i,e,t){if(!LS(t)||!yA(t)){const s=Vg(t);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function Qu(i,e,t){if((e=Jt(e))instanceof sy)return e._internalPath;if(typeof e=="string")return PS(i,e);throw Af("Field path arguments must be of type string or ",i,!1,void 0,t)}const XV=new RegExp("[~\\*/\\[\\]]");function PS(i,e,t){if(e.search(XV)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new sy(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Af(i,e,t,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new Ee(ue.INVALID_ARGUMENT,m+i+p)}function US(i,e){return i.some((t=>t.isEqual(e)))}class JV{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ta(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[mf].arrayValue?.values?.map((s=>Ut(s.doubleValue)));return new xi(t)}convertGeoPoint(e){return new dr(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Uf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=vt.fromString(e);rt(tS(s),9688,{name:e});const o=new Hu(s.get(1),s.get(3)),u=new we(s.popFirst(5));return o.isEqual(t)||Kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class zS extends JV{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,t)}}const N0="@firebase/firestore",O0="4.10.0";class BS{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Qu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WV extends BS{data(){return super.data()}}function ZV(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ee(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function eM(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Du{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends BS{constructor(e,t,s,o,u,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Qu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ba._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:$t("string",Ba._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class Zh extends Ba{data(e={}){return super.data(e)}}class Wo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Du(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Zh(this._firestore,this._userDataWriter,s.key,s,new Du(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Du(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Du(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),E=c.indexOf(m.doc.key)),{type:tM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:i})}}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:$t("string",Wo._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};function nM(i){i=Yr(i,tn);const e=Yr(i.firestore,yl),t=ry(e);return LV(t,i._key).then((s=>aM(e,i,s)))}function iM(i){i=Yr(i,$f);const e=Yr(i.firestore,yl),t=ry(e),s=new zS(e);return ZV(i._query),PV(t,i._query).then((o=>new Wo(e,s,i,o)))}function jS(i,e,t,...s){i=Yr(i,tn);const o=Yr(i.firestore,yl),u=MS(o);let c;return c=typeof(e=Jt(e))=="string"||e instanceof sy?$V(u,"updateDoc",i._key,e,t,s):QV(u,"updateDoc",i._key,e),uy(o,[c.toMutation(i._key,Oi.exists(!0))])}function rM(i){return uy(Yr(i.firestore,yl),[new jg(i._key,Oi.none())])}function sM(i,e){const t=Yr(i.firestore,yl),s=Yu(i),o=eM(i.converter,e),u=MS(i.firestore);return uy(t,[YV(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Oi.exists(!1))]).then((()=>s))}function uy(i,e){const t=ry(i);return UV(t,e)}function aM(i,e,t){const s=t.docs.get(e._key),o=new zS(i);return new Ba(i,o,e._key,s,new Du(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){UN(Qa),Ha(new Gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new yl(new jN(s.getProvider("auth-internal")),new qN(c,s.getProvider("app-check-internal")),oO(c,o),c);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),lr(N0,O0,e),lr(N0,O0,"esm2020")})();const FS="firebasestorage.googleapis.com",HS="storageBucket",oM=120*1e3,lM=600*1e3;class Ot extends gr{constructor(e,t,s=0){super(vp(e),`Firebase Storage: ${t} (${vp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function vp(i){return"storage/"+i}function cy(){const i="An unknown error occurred, please check the error payload for server response.";return new Ot(Nt.UNKNOWN,i)}function uM(i){return new Ot(Nt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function cM(i){return new Ot(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(Nt.UNAUTHENTICATED,i)}function fM(){return new Ot(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dM(i){return new Ot(Nt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function mM(){return new Ot(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pM(){return new Ot(Nt.CANCELED,"User canceled the upload/download.")}function gM(i){return new Ot(Nt.INVALID_URL,"Invalid URL '"+i+"'.")}function yM(i){return new Ot(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function _M(){return new Ot(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HS+"' property when initializing the app?")}function vM(){return new Ot(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function EM(){return new Ot(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TM(i){return new Ot(Nt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ig(i){return new Ot(Nt.INVALID_ARGUMENT,i)}function qS(){return new Ot(Nt.APP_DELETED,"The Firebase app was deleted.")}function bM(i){return new Ot(Nt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lu(i,e){return new Ot(Nt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Tu(i){throw new Ot(Nt.INTERNAL_ERROR,"Internal error: "+i)}class Jn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Jn.makeFromUrl(e,t)}catch{return new Jn(e,"")}if(s.path==="")return s;throw yM(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const E="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",D=new RegExp(`^https?://${T}/${E}/b/${o}/o${A}`,"i"),K={bucket:1,path:3},G=t===FS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",ae=new RegExp(`^https?://${G}/${o}/${j}`,"i"),oe=[{regex:m,indices:p,postModify:u},{regex:D,indices:K,postModify:g},{regex:ae,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<oe.length;re++){const W=oe[re],ne=W.regex.exec(e);if(ne){const w=ne[W.indices.bucket];let R=ne[W.indices.path];R||(R=""),s=new Jn(w,R),W.postModify(s);break}}if(s==null)throw gM(e);return s}}class AM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function SM(i,e,t){let s=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function E(...j){g||(g=!0,e.apply(null,j))}function T(j){o=setTimeout(()=>{o=null,i(D,p())},j)}function A(){u&&clearTimeout(u)}function D(j,...ae){if(g){A();return}if(j){A(),E.call(null,j,...ae);return}if(p()||c){A(),E.call(null,j,...ae);return}s<64&&(s*=2);let oe;m===1?(m=2,oe=0):oe=(s+Math.random())*1e3,T(oe)}let K=!1;function G(j){K||(K=!0,A(),!g&&(o!==null?(j||(m=2),clearTimeout(o),T(0)):j||(m=1)))}return T(0),u=setTimeout(()=>{c=!0,G(!0)},t),G}function wM(i){i(!1)}function RM(i){return i!==void 0}function CM(i){return typeof i=="object"&&!Array.isArray(i)}function hy(i){return typeof i=="string"||i instanceof String}function x0(i){return fy()&&i instanceof Blob}function fy(){return typeof Blob<"u"}function V0(i,e,t,s){if(s<e)throw ig(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw ig(`Invalid value for '${i}'. Expected ${t} or less.`)}function dy(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function GS(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ja;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ja||(ja={}));function IM(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}class DM{constructor(e,t,s,o,u,c,m,p,g,E,T,A=!0,D=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,G)=>{this.resolve_=K,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new zh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===ja.NO_ERROR,p=u.getStatus();if(!m||IM(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ja.ABORT;s(!1,new zh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new zh(g,u))})},t=(s,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());RM(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=cy();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?qS():pM();c(p)}else{const p=mM();c(p)}};this.canceled_?t(!1,new zh(!1,null,!0)):this.backoffId_=SM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function NM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function OM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function VM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function MM(i,e,t,s,o,u,c=!0,m=!1){const p=GS(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return xM(E,e),NM(E,t),OM(E,u),VM(E,s),new DM(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,m)}function kM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LM(...i){const e=kM();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(fy())return new Blob(i);throw new Ot(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PM(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function UM(i){if(typeof atob>"u")throw TM("base-64");return atob(i)}const ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ep{constructor(e,t){this.data=e,this.contentType=t||null}}function zM(i,e){switch(i){case ar.RAW:return new Ep(KS(e));case ar.BASE64:case ar.BASE64URL:return new Ep(YS(i,e));case ar.DATA_URL:return new Ep(jM(e),FM(e))}throw cy()}function KS(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,c=i.charCodeAt(++t);s=65536|(u&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function BM(i){let e;try{e=decodeURIComponent(i)}catch{throw Lu(ar.DATA_URL,"Malformed data URL.")}return KS(e)}function YS(i,e){switch(i){case ar.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Lu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ar.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Lu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=UM(e)}catch(o){throw o.message.includes("polyfill")?o:Lu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class QS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Lu(ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=HM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function jM(i){const e=new QS(i);return e.base64?YS(ar.BASE64,e.rest):BM(e.rest)}function FM(i){return new QS(i).contentType}function HM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class Ls{constructor(e,t){let s=0,o="";x0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(x0(this.data_)){const s=this.data_,o=PM(s,e,t);return o===null?null:new Ls(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ls(s,!0)}}static getBlob(...e){if(fy()){const t=e.map(s=>s instanceof Ls?s.data_:s);return new Ls(LM.apply(null,t))}else{const t=e.map(c=>hy(c)?zM(ar.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(c=>{for(let m=0;m<c.length;m++)o[u++]=c[m]}),new Ls(o,!0)}}uploadData(){return this.data_}}function $S(i){let e;try{e=JSON.parse(i)}catch{return null}return CM(e)?e:null}function qM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function GM(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function XS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function KM(i,e){return e}class wn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||KM}}let Bh=null;function YM(i){return!hy(i)||i.length<2?i:XS(i)}function JS(){if(Bh)return Bh;const i=[];i.push(new wn("bucket")),i.push(new wn("generation")),i.push(new wn("metageneration")),i.push(new wn("name","fullPath",!0));function e(u,c){return YM(c)}const t=new wn("name");t.xform=e,i.push(t);function s(u,c){return c!==void 0?Number(c):c}const o=new wn("size");return o.xform=s,i.push(o),i.push(new wn("timeCreated")),i.push(new wn("updated")),i.push(new wn("md5Hash",null,!0)),i.push(new wn("cacheControl",null,!0)),i.push(new wn("contentDisposition",null,!0)),i.push(new wn("contentEncoding",null,!0)),i.push(new wn("contentLanguage",null,!0)),i.push(new wn("contentType",null,!0)),i.push(new wn("metadata","customMetadata",!0)),Bh=i,Bh}function QM(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new Jn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function $M(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const c=t[u];s[c.local]=c.xform(s,e[c.server])}return QM(s,i),s}function WS(i,e,t){const s=$S(e);return s===null?null:$M(i,s,t)}function XM(i,e,t,s){const o=$S(e);if(o===null||!hy(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,T=i.fullPath,A="/b/"+c(E)+"/o/"+c(T),D=dy(A,t,s),K=GS({alt:"media",token:g});return D+K})[0]}function JM(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class ZS{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function e1(i){if(!i)throw cy()}function WM(i,e){function t(s,o){const u=WS(i,o,e);return e1(u!==null),u}return t}function ZM(i,e){function t(s,o){const u=WS(i,o,e);return e1(u!==null),XM(u,o,i.host,i._protocol)}return t}function t1(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=fM():o=hM():t.getStatus()===402?o=cM(i.bucket):t.getStatus()===403?o=dM(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function e4(i){const e=t1(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=uM(i.path)),u.serverResponse=o.serverResponse,u}return t}function t4(i,e,t){const s=e.fullServerUrl(),o=dy(s,i.host,i._protocol),u="GET",c=i.maxOperationRetryTime,m=new ZS(o,u,ZM(i,t),c);return m.errorHandler=e4(e),m}function n4(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function i4(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=n4(null,e)),s}function r4(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let oe="";for(let re=0;re<2;re++)oe=oe+Math.random().toString().slice(2);return oe}const p=m();c["Content-Type"]="multipart/related; boundary="+p;const g=i4(e,s,o),E=JM(g,t),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",D=Ls.getBlob(T,s,A);if(D===null)throw vM();const K={name:g.fullPath},G=dy(u,i.host,i._protocol),j="POST",ae=i.maxUploadRetryTime,Q=new ZS(G,j,WM(i,t),ae);return Q.urlParams=K,Q.headers=c,Q.body=D.uploadData(),Q.errorHandler=t1(e),Q}class s4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw Tu("cannot .send() more than once");if(Zs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class a4 extends s4{initXhr(){this.xhr_.responseType="text"}}function n1(){return new a4}class Ya{constructor(e,t){this._service=e,t instanceof Jn?this._location=t:this._location=Jn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ya(e,t)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XS(this._location.path)}get storage(){return this._service}get parent(){const e=qM(this._location.path);if(e===null)return null;const t=new Jn(this._location.bucket,e);return new Ya(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw bM(e)}}function o4(i,e,t){i._throwIfRoot("uploadBytes");const s=r4(i.storage,i._location,JS(),new Ls(e,!0),t);return i.storage.makeRequestWithTokens(s,n1).then(o=>({metadata:o,ref:i}))}function l4(i){i._throwIfRoot("getDownloadURL");const e=t4(i.storage,i._location,JS());return i.storage.makeRequestWithTokens(e,n1).then(t=>{if(t===null)throw EM();return t})}function u4(i,e){const t=GM(i._location.path,e),s=new Jn(i._location.bucket,t);return new Ya(i.storage,s)}function c4(i){return/^[A-Za-z]+:\/\//.test(i)}function h4(i,e){return new Ya(i,e)}function i1(i,e){if(i instanceof my){const t=i;if(t._bucket==null)throw _M();const s=new Ya(t,t._bucket);return e!=null?i1(s,e):s}else return e!==void 0?u4(i,e):i}function f4(i,e){if(e&&c4(e)){if(i instanceof my)return h4(i,e);throw ig("To use ref(service, url), the first argument must be a Storage instance.")}else return i1(i,e)}function M0(i,e){const t=e?.[HS];return t==null?null:Jn.makeFromBucketSpec(t,i)}function d4(i,e,t,s={}){i.host=`${e}:${t}`;const o=Zs(e);o&&(_g(`https://${i.host}/b`),vg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:bb(u,i.app.options.projectId))}class my{constructor(e,t,s,o,u,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=FS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oM,this._maxUploadRetryTime=lM,this._requests=new Set,o!=null?this._bucket=Jn.makeFromBucketSpec(o,this._host):this._bucket=M0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=M0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){V0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){V0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ya(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new AM(qS());{const c=MM(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const k0="@firebase/storage",L0="0.14.0";const r1="storage";function m4(i,e,t){return i=Jt(i),o4(i,e,t)}function p4(i){return i=Jt(i),l4(i)}function g4(i,e){return i=Jt(i),f4(i,e)}function y4(i=bg(),e){i=Jt(i);const s=Of(i,r1).getImmediate({identifier:e}),o=vb("storage");return o&&_4(s,...o),s}function _4(i,e,t,s={}){d4(i,e,t,s)}function v4(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new my(t,s,o,e,Qa)}function E4(){Ha(new Gs(r1,v4,"PUBLIC").setMultipleInstances(!0)),lr(k0,L0,""),lr(k0,L0,"esm2020")}E4();const T4={apiKey:"AIzaSyDQvuynWqC871n7Vnezyo78OFYAQKbZrMw",authDomain:"shreeji-vastraalay.firebaseapp.com",projectId:"shreeji-vastraalay",storageBucket:"shreeji-vastraalay.firebasestorage.app",messagingSenderId:"31299324907",appId:"1:31299324907:web:76999b5154faaa736a27ae"},py=wb(T4),Zo=FV(py),gy=MN(py),b4=y4(py);let A4={data:""},S4=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||A4},w4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,R4=/\/\*[^]*?\*\/|  +/g,P0=/\n+/g,Ps=(i,e)=>{let t="",s="",o="";for(let u in i){let c=i[u];u[0]=="@"?u[1]=="i"?t=u+" "+c+";":s+=u[1]=="f"?Ps(c,u):u+"{"+Ps(c,u[1]=="k"?"":e)+"}":typeof c=="object"?s+=Ps(c,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):c!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Ps.p?Ps.p(u,c):u+":"+c+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Pr={},s1=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+s1(i[t]);return e}return i},C4=(i,e,t,s,o)=>{let u=s1(i),c=Pr[u]||(Pr[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!Pr[c]){let p=u!==i?i:(g=>{let E,T,A=[{}];for(;E=w4.exec(g.replace(R4,""));)E[4]?A.shift():E[3]?(T=E[3].replace(P0," ").trim(),A.unshift(A[0][T]=A[0][T]||{})):A[0][E[1]]=E[2].replace(P0," ").trim();return A[0]})(i);Pr[c]=Ps(o?{["@keyframes "+c]:p}:p,t?"":"."+c)}let m=t&&Pr.g?Pr.g:null;return t&&(Pr.g=Pr[c]),((p,g,E,T)=>{T?g.data=g.data.replace(T,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(Pr[c],e,s,m),c},I4=(i,e,t)=>i.reduce((s,o,u)=>{let c=e[u];if(c&&c.call){let m=c(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;c=p?"."+p:m&&typeof m=="object"?m.props?"":Ps(m,""):m===!1?"":m}return s+o+(c??"")},"");function Wf(i){let e=this||{},t=i.call?i(e.p):i;return C4(t.unshift?t.raw?I4(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,S4(e.target),e.g,e.o,e.k)}let a1,rg,sg;Wf.bind({g:1});let $r=Wf.bind({k:1});function D4(i,e,t,s){Ps.p=e,a1=i,rg=t,sg=s}function ia(i,e){let t=this||{};return function(){let s=arguments;function o(u,c){let m=Object.assign({},u),p=m.className||o.className;t.p=Object.assign({theme:rg&&rg()},m),t.o=/ *go\d+/.test(p),m.className=Wf.apply(t,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),sg&&g[0]&&sg(m),a1(g,m)}return o}}var N4=i=>typeof i=="function",Sf=(i,e)=>N4(i)?i(e):i,O4=(()=>{let i=0;return()=>(++i).toString()})(),o1=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),x4=20,yy="default",l1=(i,e)=>{let{toastLimit:t}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,t)};case 1:return{...i,toasts:i.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:s}=e;return l1(i,{type:i.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+u}))}}},ef=[],u1={toasts:[],pausedAt:void 0,settings:{toastLimit:x4}},or={},c1=(i,e=yy)=>{or[e]=l1(or[e]||u1,i),ef.forEach(([t,s])=>{t===e&&s(or[e])})},h1=i=>Object.keys(or).forEach(e=>c1(i,e)),V4=i=>Object.keys(or).find(e=>or[e].toasts.some(t=>t.id===i)),Zf=(i=yy)=>e=>{c1(e,i)},M4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},k4=(i={},e=yy)=>{let[t,s]=U.useState(or[e]||u1),o=U.useRef(or[e]);U.useEffect(()=>(o.current!==or[e]&&s(or[e]),ef.push([e,s]),()=>{let c=ef.findIndex(([m])=>m===e);c>-1&&ef.splice(c,1)}),[e]);let u=t.toasts.map(c=>{var m,p,g;return{...i,...i[c.type],...c,removeDelay:c.removeDelay||((m=i[c.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:c.duration||((p=i[c.type])==null?void 0:p.duration)||i?.duration||M4[c.type],style:{...i.style,...(g=i[c.type])==null?void 0:g.style,...c.style}}});return{...t,toasts:u}},L4=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:t?.id||O4()}),oc=i=>(e,t)=>{let s=L4(e,i,t);return Zf(s.toasterId||V4(s.id))({type:2,toast:s}),s.id},Zt=(i,e)=>oc("blank")(i,e);Zt.error=oc("error");Zt.success=oc("success");Zt.loading=oc("loading");Zt.custom=oc("custom");Zt.dismiss=(i,e)=>{let t={type:3,toastId:i};e?Zf(e)(t):h1(t)};Zt.dismissAll=i=>Zt.dismiss(void 0,i);Zt.remove=(i,e)=>{let t={type:4,toastId:i};e?Zf(e)(t):h1(t)};Zt.removeAll=i=>Zt.remove(void 0,i);Zt.promise=(i,e,t)=>{let s=Zt.loading(e.loading,{...t,...t?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?Sf(e.success,o):void 0;return u?Zt.success(u,{id:s,...t,...t?.success}):Zt.dismiss(s),o}).catch(o=>{let u=e.error?Sf(e.error,o):void 0;u?Zt.error(u,{id:s,...t,...t?.error}):Zt.dismiss(s)}),i};var P4=1e3,U4=(i,e="default")=>{let{toasts:t,pausedAt:s}=k4(i,e),o=U.useRef(new Map).current,u=U.useCallback((T,A=P4)=>{if(o.has(T))return;let D=setTimeout(()=>{o.delete(T),c({type:4,toastId:T})},A);o.set(T,D)},[]);U.useEffect(()=>{if(s)return;let T=Date.now(),A=t.map(D=>{if(D.duration===1/0)return;let K=(D.duration||0)+D.pauseDuration-(T-D.createdAt);if(K<0){D.visible&&Zt.dismiss(D.id);return}return setTimeout(()=>Zt.dismiss(D.id,e),K)});return()=>{A.forEach(D=>D&&clearTimeout(D))}},[t,s,e]);let c=U.useCallback(Zf(e),[e]),m=U.useCallback(()=>{c({type:5,time:Date.now()})},[c]),p=U.useCallback((T,A)=>{c({type:1,toast:{id:T,height:A}})},[c]),g=U.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),E=U.useCallback((T,A)=>{let{reverseOrder:D=!1,gutter:K=8,defaultPosition:G}=A||{},j=t.filter(oe=>(oe.position||G)===(T.position||G)&&oe.height),ae=j.findIndex(oe=>oe.id===T.id),Q=j.filter((oe,re)=>re<ae&&oe.visible).length;return j.filter(oe=>oe.visible).slice(...D?[Q+1]:[0,Q]).reduce((oe,re)=>oe+(re.height||0)+K,0)},[t]);return U.useEffect(()=>{t.forEach(T=>{if(T.dismissed)u(T.id,T.removeDelay);else{let A=o.get(T.id);A&&(clearTimeout(A),o.delete(T.id))}})},[t,u]),{toasts:t,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:E}}},z4=$r`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,B4=$r`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,j4=$r`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,F4=ia("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${B4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${j4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,H4=$r`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,q4=ia("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${H4} 1s linear infinite;
`,G4=$r`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,K4=$r`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Y4=ia("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${G4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${K4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Q4=ia("div")`
  position: absolute;
`,$4=ia("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,X4=$r`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,J4=ia("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${X4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,W4=({toast:i})=>{let{icon:e,type:t,iconTheme:s}=i;return e!==void 0?typeof e=="string"?U.createElement(J4,null,e):e:t==="blank"?null:U.createElement($4,null,U.createElement(q4,{...s}),t!=="loading"&&U.createElement(Q4,null,t==="error"?U.createElement(F4,{...s}):U.createElement(Y4,{...s})))},Z4=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ek=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,tk="0%{opacity:0;} 100%{opacity:1;}",nk="0%{opacity:1;} 100%{opacity:0;}",ik=ia("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,rk=ia("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sk=(i,e)=>{let t=i.includes("top")?1:-1,[s,o]=o1()?[tk,nk]:[Z4(t),ek(t)];return{animation:e?`${$r(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$r(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ak=U.memo(({toast:i,position:e,style:t,children:s})=>{let o=i.height?sk(i.position||e||"top-center",i.visible):{opacity:0},u=U.createElement(W4,{toast:i}),c=U.createElement(rk,{...i.ariaProps},Sf(i.message,i));return U.createElement(ik,{className:i.className,style:{...o,...t,...i.style}},typeof s=="function"?s({icon:u,message:c}):U.createElement(U.Fragment,null,u,c))});D4(U.createElement);var ok=({id:i,className:e,style:t,onHeightUpdate:s,children:o})=>{let u=U.useCallback(c=>{if(c){let m=()=>{let p=c.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return U.createElement("div",{ref:u,className:e,style:t},o)},lk=(i,e)=>{let t=i.includes("top"),s=t?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:o1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},uk=Wf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,jh=16,ck=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:u,containerStyle:c,containerClassName:m})=>{let{toasts:p,handlers:g}=U4(t,u);return U.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:jh,left:jh,right:jh,bottom:jh,pointerEvents:"none",...c},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(E=>{let T=E.position||e,A=g.calculateOffset(E,{reverseOrder:i,gutter:s,defaultPosition:e}),D=lk(T,A);return U.createElement(ok,{id:E.id,key:E.id,onHeightUpdate:g.updateHeight,className:E.visible?uk:"",style:D},E.type==="custom"?Sf(E.message,E):o?o(E):U.createElement(ak,{toast:E,position:T}))}))},kn=Zt;function hk(){const[i,e]=U.useState(""),[t,s]=U.useState(""),[o,u]=U.useState(!1),c=If(),m=async p=>{p.preventDefault(),u(!0);try{await TD(gy,i,t),kn.success("Successfully logged in!"),c("/")}catch(g){console.error(g),kn.error("Login failed: "+g.message)}finally{u(!1)}};return ee.jsx("div",{className:"auth-container",children:ee.jsxs("div",{className:"card",children:[ee.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem",color:"#c41e3a"},children:"Admin Login"}),ee.jsxs("form",{onSubmit:m,children:[ee.jsxs("div",{className:"form-group",children:[ee.jsx("label",{className:"form-label",children:"Email"}),ee.jsx("input",{type:"email",className:"form-input",value:i,onChange:p=>e(p.target.value),required:!0,placeholder:"admin@shreejivastraalay.com"})]}),ee.jsxs("div",{className:"form-group",children:[ee.jsx("label",{className:"form-label",children:"Password"}),ee.jsx("input",{type:"password",className:"form-input",value:t,onChange:p=>s(p.target.value),required:!0,placeholder:""})]}),ee.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:o,children:o?"Logging in...":"Login"})]})]})})}const fk=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dk=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),U0=i=>{const e=dk(i);return e.charAt(0).toUpperCase()+e.slice(1)},f1=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),mk=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gk=U.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:c,...m},p)=>U.createElement("svg",{ref:p,...pk,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:f1("lucide",o),...!u&&!mk(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,E])=>U.createElement(g,E)),...Array.isArray(u)?u:[u]]));const ra=(i,e)=>{const t=U.forwardRef(({className:s,...o},u)=>U.createElement(gk,{ref:u,iconNode:e,className:f1(`lucide-${fk(U0(i))}`,`lucide-${i}`,s),...o}));return t.displayName=U0(i),t};const yk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_k=ra("arrow-left",yk);const vk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],d1=ra("plus",vk);const Ek=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Tk=ra("power",Ek);const bk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ak=ra("save",bk);const Sk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wk=ra("search",Sk);const Rk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ck=ra("square-pen",Rk);const Ik=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_y=ra("trash-2",Ik);const Dk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Nk=ra("upload",Dk);function Ok(){const[i,e]=U.useState([]),[t,s]=U.useState(!0),[o,u]=U.useState("");U.useEffect(()=>{c()},[]);const c=async()=>{try{const T=(await iM(OS(Zo,"products"))).docs.map(A=>({id:A.id,...A.data()}));e(T)}catch(E){kn.error("Error fetching products"),console.error(E)}finally{s(!1)}},m=async E=>{if(window.confirm("Are you sure you want to delete this product?"))try{await rM(Yu(Zo,"products",E)),e(i.filter(T=>T.id!==E)),kn.success("Product deleted")}catch{kn.error("Error deleting product")}},p=async E=>{try{const T=!E.inStock;await jS(Yu(Zo,"products",E.id),{inStock:T}),e(i.map(A=>A.id===E.id?{...A,inStock:T}:A)),kn.success(T?"Product marked In Stock":"Product marked Out of Stock")}catch{kn.error("Error updating status")}},g=i.filter(E=>E.name.toLowerCase().includes(o.toLowerCase())||E.category.toLowerCase().includes(o.toLowerCase()));return t?ee.jsx("div",{className:"container",children:ee.jsx("div",{className:"loading-spinner"})}):ee.jsxs("div",{className:"container",children:[ee.jsxs("div",{className:"header",children:[ee.jsx("h1",{children:"Product Dashboard"}),ee.jsxs(nf,{to:"/add-product",className:"btn btn-primary",children:[ee.jsx(d1,{size:20})," Add Product"]})]}),ee.jsx("div",{className:"form-group",style:{maxWidth:"400px"},children:ee.jsxs("div",{style:{position:"relative"},children:[ee.jsx(wk,{size:20,style:{position:"absolute",left:"10px",top:"10px",color:"#666"}}),ee.jsx("input",{type:"text",className:"form-input",style:{paddingLeft:"2.5rem"},placeholder:"Search products...",value:o,onChange:E=>u(E.target.value)})]})}),ee.jsx("div",{className:"products-grid",children:g.map(E=>{const T=E.image||E.images&&E.images[0]||"";return ee.jsxs("div",{className:"product-card",children:[ee.jsx("img",{src:T,alt:E.name,className:"product-image",onError:A=>A.target.src="https://via.placeholder.com/300?text=No+Image"}),ee.jsxs("div",{className:"product-details",children:[ee.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[ee.jsxs("div",{children:[ee.jsx("h3",{className:"product-title",children:E.name}),ee.jsxs("p",{className:"product-meta",children:[E.category,"  ",E.price]})]}),ee.jsx("span",{className:`badge ${E.inStock?"badge-success":"badge-danger"}`,children:E.inStock?"In Stock":"Out of Stock"})]}),ee.jsxs("div",{className:"product-actions",children:[ee.jsxs(nf,{to:`/edit-product/${E.id}`,className:"btn btn-secondary",style:{flex:1},children:[ee.jsx(Ck,{size:16})," Edit"]}),ee.jsx("button",{onClick:()=>p(E),className:"btn btn-secondary",title:E.inStock?"Mark Out of Stock":"Mark In Stock",children:ee.jsx(Tk,{size:16,color:E.inStock?"green":"red"})}),ee.jsx("button",{onClick:()=>m(E.id),className:"btn btn-danger",children:ee.jsx(_y,{size:16})})]})]})]},E.id)})}),g.length===0&&ee.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:"No products found."})]})}var lc=i=>i.type==="checkbox",za=i=>i instanceof Date,Mn=i=>i==null;const m1=i=>typeof i=="object";var Xt=i=>!Mn(i)&&!Array.isArray(i)&&m1(i)&&!za(i),xk=i=>Xt(i)&&i.target?lc(i.target)?i.target.checked:i.target.value:i,Vk=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,Mk=(i,e)=>i.has(Vk(e)),kk=i=>{const e=i.constructor&&i.constructor.prototype;return Xt(e)&&e.hasOwnProperty("isPrototypeOf")},vy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _t(i){if(i instanceof Date)return new Date(i);const e=typeof FileList<"u"&&i instanceof FileList;if(vy&&(i instanceof Blob||e))return i;const t=Array.isArray(i);if(!t&&!(Xt(i)&&kk(i)))return i;const s=t?[]:Object.create(Object.getPrototypeOf(i));for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=_t(i[o]));return s}var ed=i=>/^\w*$/.test(i),mt=i=>i===void 0,td=i=>Array.isArray(i)?i.filter(Boolean):[],Ey=i=>td(i.replace(/["|']|\]/g,"").split(/\.|\[/)),ye=(i,e,t)=>{if(!e||!Xt(i))return t;const s=(ed(e)?[e]:Ey(e)).reduce((o,u)=>Mn(o)?o:o[u],i);return mt(s)||s===i?mt(i[e])?t:i[e]:s},sr=i=>typeof i=="boolean",Di=i=>typeof i=="function",pt=(i,e,t)=>{let s=-1;const o=ed(e)?[e]:Ey(e),u=o.length,c=u-1;for(;++s<u;){const m=o[s];let p=t;if(s!==c){const g=i[m];p=Xt(g)||Array.isArray(g)?g:isNaN(+o[s+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;i[m]=p,i=i[m]}};const z0={BLUR:"blur",FOCUS_OUT:"focusout"},pi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ur={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},p1=tt.createContext(null);p1.displayName="HookFormControlContext";const Lk=()=>tt.useContext(p1);var Pk=(i,e,t,s=!0)=>{const o={defaultValues:e._defaultValues};for(const u in i)Object.defineProperty(o,u,{get:()=>{const c=u;return e._proxyFormState[c]!==pi.all&&(e._proxyFormState[c]=!s||pi.all),i[c]}});return o};const g1=typeof window<"u"?tt.useLayoutEffect:tt.useEffect;var $n=i=>typeof i=="string",Uk=(i,e,t,s,o)=>$n(i)?(s&&e.watch.add(i),ye(t,i,o)):Array.isArray(i)?i.map(u=>(s&&e.watch.add(u),ye(t,u))):(s&&(e.watchAll=!0),t),ag=i=>Mn(i)||!m1(i);function Us(i,e,t=new WeakSet){if(ag(i)||ag(e))return Object.is(i,e);if(za(i)&&za(e))return Object.is(i.getTime(),e.getTime());const s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;if(t.has(i)||t.has(e))return!0;t.add(i),t.add(e);for(const u of s){const c=i[u];if(!o.includes(u))return!1;if(u!=="ref"){const m=e[u];if(za(c)&&za(m)||Xt(c)&&Xt(m)||Array.isArray(c)&&Array.isArray(m)?!Us(c,m,t):!Object.is(c,m))return!1}}return!0}const zk=tt.createContext(null);zk.displayName="HookFormContext";var Bk=(i,e,t,s,o)=>e?{...t[i],types:{...t[i]&&t[i].types?t[i].types:{},[s]:o||!0}}:{},Pn=i=>Array.isArray(i)?i:[i],B0=()=>{let i=[];return{get observers(){return i},next:o=>{for(const u of i)u.next&&u.next(o)},subscribe:o=>(i.push(o),{unsubscribe:()=>{i=i.filter(u=>u!==o)}}),unsubscribe:()=>{i=[]}}};function y1(i,e){const t={};for(const s in i)if(i.hasOwnProperty(s)){const o=i[s],u=e[s];if(o&&Xt(o)&&u){const c=y1(o,u);Xt(c)&&(t[s]=c)}else i[s]&&(t[s]=u)}return t}var vn=i=>Xt(i)&&!Object.keys(i).length,Ty=i=>i.type==="file",wf=i=>{if(!vy)return!1;const e=i?i.ownerDocument:0;return i instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_1=i=>i.type==="select-multiple",by=i=>i.type==="radio",jk=i=>by(i)||lc(i),Tp=i=>wf(i)&&i.isConnected;function Fk(i,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)i=mt(i)?s++:i[e[s++]];return i}function Hk(i){for(const e in i)if(i.hasOwnProperty(e)&&!mt(i[e]))return!1;return!0}function Pt(i,e){const t=Array.isArray(e)?e:ed(e)?[e]:Ey(e),s=t.length===1?i:Fk(i,t),o=t.length-1,u=t[o];return s&&delete s[u],o!==0&&(Xt(s)&&vn(s)||Array.isArray(s)&&Hk(s))&&Pt(i,t.slice(0,-1)),i}var qk=i=>{for(const e in i)if(Di(i[e]))return!0;return!1};function v1(i){return Array.isArray(i)||Xt(i)&&!qk(i)}function og(i,e={}){for(const t in i){const s=i[t];v1(s)?(e[t]=Array.isArray(s)?[]:{},og(s,e[t])):mt(s)||(e[t]=!0)}return e}function qo(i,e,t){t||(t=og(e));for(const s in i){const o=i[s];if(v1(o))mt(e)||ag(t[s])?t[s]=og(o,Array.isArray(o)?[]:{}):qo(o,Mn(e)?{}:e[s],t[s]);else{const u=e[s];t[s]=!Us(o,u)}}return t}const j0={value:!1,isValid:!1},F0={value:!0,isValid:!0};var E1=i=>{if(Array.isArray(i)){if(i.length>1){const e=i.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!mt(i[0].attributes.value)?mt(i[0].value)||i[0].value===""?F0:{value:i[0].value,isValid:!0}:F0:j0}return j0},T1=(i,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>mt(i)?i:e?i===""?NaN:i&&+i:t&&$n(i)?new Date(i):s?s(i):i;const H0={isValid:!1,value:null};var b1=i=>Array.isArray(i)?i.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,H0):H0;function q0(i){const e=i.ref;return Ty(e)?e.files:by(e)?b1(i.refs).value:_1(e)?[...e.selectedOptions].map(({value:t})=>t):lc(e)?E1(i.refs).value:T1(mt(e.value)?i.ref.value:e.value,i)}var Gk=(i,e,t,s)=>{const o={};for(const u of i){const c=ye(e,u);c&&pt(o,u,c._f)}return{criteriaMode:t,names:[...i],fields:o,shouldUseNativeValidation:s}},Rf=i=>i instanceof RegExp,bu=i=>mt(i)?i:Rf(i)?i.source:Xt(i)?Rf(i.value)?i.value.source:i.value:i,Ko=i=>({isOnSubmit:!i||i===pi.onSubmit,isOnBlur:i===pi.onBlur,isOnChange:i===pi.onChange,isOnAll:i===pi.all,isOnTouch:i===pi.onTouched});const G0="AsyncFunction";var Kk=i=>!!i&&!!i.validate&&!!(Di(i.validate)&&i.validate.constructor.name===G0||Xt(i.validate)&&Object.values(i.validate).find(e=>e.constructor.name===G0)),Yk=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate),lg=(i,e,t)=>!t&&(e.watchAll||e.watch.has(i)||[...e.watch].some(s=>i.startsWith(s)&&/^\.\w+/.test(i.slice(s.length))));const el=(i,e,t,s)=>{for(const o of t||Object.keys(i)){const u=ye(i,o);if(u){const{_f:c,...m}=u;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!s)return!0;if(c.ref&&e(c.ref,c.name)&&!s)return!0;if(el(m,e))break}else if(Xt(m)&&el(m,e))break}}};function K0(i,e,t){const s=ye(i,t);if(s||ed(t))return{error:s,name:t};const o=t.split(".");for(;o.length;){const u=o.join("."),c=ye(e,u),m=ye(i,u);if(c&&!Array.isArray(c)&&t!==u)return{name:t};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};o.pop()}return{name:t}}var Qk=(i,e,t,s)=>{t(i);const{name:o,...u}=i;return vn(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(c=>e[c]===(!s||pi.all))},$k=(i,e,t)=>!i||!e||i===e||Pn(i).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),Xk=(i,e,t,s,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||i):(t?s.isOnBlur:o.isOnBlur)?!i:(t?s.isOnChange:o.isOnChange)?i:!0,Jk=(i,e)=>!td(ye(i,e)).length&&Pt(i,e),A1=(i,e,t)=>{const s=Pn(ye(i,t));return pt(s,"root",e[t]),pt(i,t,s),i};function Y0(i,e,t="validate"){if($n(i)||Array.isArray(i)&&i.every($n)||sr(i)&&!i)return{type:t,message:$n(i)?i:"",ref:e}}var zo=i=>Xt(i)&&!Rf(i)?i:{value:i,message:""},ug=async(i,e,t,s,o,u)=>{const{ref:c,refs:m,required:p,maxLength:g,minLength:E,min:T,max:A,pattern:D,validate:K,name:G,valueAsNumber:j,mount:ae}=i._f,Q=ye(t,G);if(!ae||e.has(G))return{};const oe=m?m[0]:c,re=x=>{o&&oe.reportValidity&&(oe.setCustomValidity(sr(x)?"":x||""),oe.reportValidity())},W={},ne=by(c),w=lc(c),R=ne||w,I=(j||Ty(c))&&mt(c.value)&&mt(Q)||wf(c)&&c.value===""||Q===""||Array.isArray(Q)&&!Q.length,M=Bk.bind(null,G,s,W),V=(x,C,Oe,Fe=Ur.maxLength,X=Ur.minLength)=>{const he=x?C:Oe;W[G]={type:x?Fe:X,message:he,ref:c,...M(x?Fe:X,he)}};if(u?!Array.isArray(Q)||!Q.length:p&&(!R&&(I||Mn(Q))||sr(Q)&&!Q||w&&!E1(m).isValid||ne&&!b1(m).isValid)){const{value:x,message:C}=$n(p)?{value:!!p,message:p}:zo(p);if(x&&(W[G]={type:Ur.required,message:C,ref:oe,...M(Ur.required,C)},!s))return re(C),W}if(!I&&(!Mn(T)||!Mn(A))){let x,C;const Oe=zo(A),Fe=zo(T);if(!Mn(Q)&&!isNaN(Q)){const X=c.valueAsNumber||Q&&+Q;Mn(Oe.value)||(x=X>Oe.value),Mn(Fe.value)||(C=X<Fe.value)}else{const X=c.valueAsDate||new Date(Q),he=$e=>new Date(new Date().toDateString()+" "+$e),Ae=c.type=="time",Ue=c.type=="week";$n(Oe.value)&&Q&&(x=Ae?he(Q)>he(Oe.value):Ue?Q>Oe.value:X>new Date(Oe.value)),$n(Fe.value)&&Q&&(C=Ae?he(Q)<he(Fe.value):Ue?Q<Fe.value:X<new Date(Fe.value))}if((x||C)&&(V(!!x,Oe.message,Fe.message,Ur.max,Ur.min),!s))return re(W[G].message),W}if((g||E)&&!I&&($n(Q)||u&&Array.isArray(Q))){const x=zo(g),C=zo(E),Oe=!Mn(x.value)&&Q.length>+x.value,Fe=!Mn(C.value)&&Q.length<+C.value;if((Oe||Fe)&&(V(Oe,x.message,C.message),!s))return re(W[G].message),W}if(D&&!I&&$n(Q)){const{value:x,message:C}=zo(D);if(Rf(x)&&!Q.match(x)&&(W[G]={type:Ur.pattern,message:C,ref:c,...M(Ur.pattern,C)},!s))return re(C),W}if(K){if(Di(K)){const x=await K(Q,t),C=Y0(x,oe);if(C&&(W[G]={...C,...M(Ur.validate,C.message)},!s))return re(C.message),W}else if(Xt(K)){let x={};for(const C in K){if(!vn(x)&&!s)break;const Oe=Y0(await K[C](Q,t),oe,C);Oe&&(x={...Oe,...M(C,Oe.message)},re(Oe.message),s&&(W[G]=x))}if(!vn(x)&&(W[G]={ref:oe,...x},!s))return W}}return re(!0),W};const Wk={mode:pi.onSubmit,reValidateMode:pi.onChange,shouldFocusError:!0};function Zk(i={}){let e={...Wk,...i},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Di(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},o=Xt(e.defaultValues)||Xt(e.values)?_t(e.defaultValues||e.values)||{}:{},u=e.shouldUnregister?{}:_t(o),c={action:!1,mount:!1,watch:!1,keepIsValid:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const E={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},T={...E};let A={...T};const D={array:B0(),state:B0()},K=e.criteriaMode===pi.all,G=O=>F=>{clearTimeout(g),g=setTimeout(O,F)},j=async O=>{if(!c.keepIsValid&&!e.disabled&&(T.isValid||A.isValid||O)){let F;e.resolver?(F=vn((await R()).errors),ae()):F=await M(s,!0),F!==t.isValid&&D.state.next({isValid:F})}},ae=(O,F)=>{!e.disabled&&(T.isValidating||T.validatingFields||A.isValidating||A.validatingFields)&&((O||Array.from(m.mount)).forEach(J=>{J&&(F?pt(t.validatingFields,J,F):Pt(t.validatingFields,J))}),D.state.next({validatingFields:t.validatingFields,isValidating:!vn(t.validatingFields)}))},Q=(O,F=[],J,de,fe=!0,ce=!0)=>{if(de&&J&&!e.disabled){if(c.action=!0,ce&&Array.isArray(ye(s,O))){const be=J(ye(s,O),de.argA,de.argB);fe&&pt(s,O,be)}if(ce&&Array.isArray(ye(t.errors,O))){const be=J(ye(t.errors,O),de.argA,de.argB);fe&&pt(t.errors,O,be),Jk(t.errors,O)}if((T.touchedFields||A.touchedFields)&&ce&&Array.isArray(ye(t.touchedFields,O))){const be=J(ye(t.touchedFields,O),de.argA,de.argB);fe&&pt(t.touchedFields,O,be)}(T.dirtyFields||A.dirtyFields)&&(t.dirtyFields=qo(o,u)),D.state.next({name:O,isDirty:x(O,F),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else pt(u,O,F)},oe=(O,F)=>{pt(t.errors,O,F),D.state.next({errors:t.errors})},re=O=>{t.errors=O,D.state.next({errors:t.errors,isValid:!1})},W=(O,F,J,de)=>{const fe=ye(s,O);if(fe){const ce=ye(u,O,mt(J)?ye(o,O):J);mt(ce)||de&&de.defaultChecked||F?pt(u,O,F?ce:q0(fe._f)):Fe(O,ce),c.mount&&!c.action&&j()}},ne=(O,F,J,de,fe)=>{let ce=!1,be=!1;const ze={name:O};if(!e.disabled){if(!J||de){(T.isDirty||A.isDirty)&&(be=t.isDirty,t.isDirty=ze.isDirty=x(),ce=be!==ze.isDirty);const We=Us(ye(o,O),F);be=!!ye(t.dirtyFields,O),We?Pt(t.dirtyFields,O):pt(t.dirtyFields,O,!0),ze.dirtyFields=t.dirtyFields,ce=ce||(T.dirtyFields||A.dirtyFields)&&be!==!We}if(J){const We=ye(t.touchedFields,O);We||(pt(t.touchedFields,O,J),ze.touchedFields=t.touchedFields,ce=ce||(T.touchedFields||A.touchedFields)&&We!==J)}ce&&fe&&D.state.next(ze)}return ce?ze:{}},w=(O,F,J,de)=>{const fe=ye(t.errors,O),ce=(T.isValid||A.isValid)&&sr(F)&&t.isValid!==F;if(e.delayError&&J?(p=G(()=>oe(O,J)),p(e.delayError)):(clearTimeout(g),p=null,J?pt(t.errors,O,J):Pt(t.errors,O)),(J?!Us(fe,J):fe)||!vn(de)||ce){const be={...de,...ce&&sr(F)?{isValid:F}:{},errors:t.errors,name:O};t={...t,...be},D.state.next(be)}},R=async O=>(ae(O,!0),await e.resolver(u,e.context,Gk(O||m.mount,s,e.criteriaMode,e.shouldUseNativeValidation))),I=async O=>{const{errors:F}=await R(O);if(ae(O),O)for(const J of O){const de=ye(F,J);de?pt(t.errors,J,de):Pt(t.errors,J)}else t.errors=F;return F},M=async(O,F,J={valid:!0})=>{for(const de in O){const fe=O[de];if(fe){const{_f:ce,...be}=fe;if(ce){const ze=m.array.has(ce.name),We=fe._f&&Kk(fe._f);We&&T.validatingFields&&ae([ce.name],!0);const zt=await ug(fe,m.disabled,u,K,e.shouldUseNativeValidation&&!F,ze);if(We&&T.validatingFields&&ae([ce.name]),zt[ce.name]&&(J.valid=!1,F||i.shouldUseNativeValidation))break;!F&&(ye(zt,ce.name)?ze?A1(t.errors,zt,ce.name):pt(t.errors,ce.name,zt[ce.name]):Pt(t.errors,ce.name))}!vn(be)&&await M(be,F,J)}}return J.valid},V=()=>{for(const O of m.unMount){const F=ye(s,O);F&&(F._f.refs?F._f.refs.every(J=>!Tp(J)):!Tp(F._f.ref))&&St(O)}m.unMount=new Set},x=(O,F)=>!e.disabled&&(O&&F&&pt(u,O,F),!Us(L(),o)),C=(O,F,J)=>Uk(O,m,{...c.mount?u:mt(F)?o:$n(O)?{[O]:F}:F},J,F),Oe=O=>td(ye(c.mount?u:o,O,e.shouldUnregister?ye(o,O,[]):[])),Fe=(O,F,J={})=>{const de=ye(s,O);let fe=F;if(de){const ce=de._f;ce&&(!ce.disabled&&pt(u,O,T1(F,ce)),fe=wf(ce.ref)&&Mn(F)?"":F,_1(ce.ref)?[...ce.ref.options].forEach(be=>be.selected=fe.includes(be.value)):ce.refs?lc(ce.ref)?ce.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(fe)?be.checked=!!fe.find(ze=>ze===be.value):be.checked=fe===be.value||!!fe)}):ce.refs.forEach(be=>be.checked=be.value===fe):Ty(ce.ref)?ce.ref.value="":(ce.ref.value=fe,ce.ref.type||D.state.next({name:O,values:_t(u)})))}(J.shouldDirty||J.shouldTouch)&&ne(O,fe,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&$e(O)},X=(O,F,J)=>{for(const de in F){if(!F.hasOwnProperty(de))return;const fe=F[de],ce=O+"."+de,be=ye(s,ce);(m.array.has(O)||Xt(fe)||be&&!be._f)&&!za(fe)?X(ce,fe,J):Fe(ce,fe,J)}},he=(O,F,J={})=>{const de=ye(s,O),fe=m.array.has(O),ce=_t(F);pt(u,O,ce),fe?(D.array.next({name:O,values:_t(u)}),(T.isDirty||T.dirtyFields||A.isDirty||A.dirtyFields)&&J.shouldDirty&&D.state.next({name:O,dirtyFields:qo(o,u),isDirty:x(O,ce)})):de&&!de._f&&!Mn(ce)?X(O,ce,J):Fe(O,ce,J),lg(O,m)?D.state.next({...t,name:O,values:_t(u)}):D.state.next({name:c.mount?O:void 0,values:_t(u)})},Ae=async O=>{c.mount=!0;const F=O.target;let J=F.name,de=!0;const fe=ye(s,J),ce=We=>{de=Number.isNaN(We)||za(We)&&isNaN(We.getTime())||Us(We,ye(u,J,We))},be=Ko(e.mode),ze=Ko(e.reValidateMode);if(fe){let We,zt;const ei=F.type?q0(fe._f):xk(O),Un=O.type===z0.BLUR||O.type===z0.FOCUS_OUT,zn=!Yk(fe._f)&&!e.resolver&&!ye(t.errors,J)&&!fe._f.deps||Xk(Un,ye(t.touchedFields,J),t.isSubmitted,ze,be),Vt=lg(J,m,Un);pt(u,J,ei),Un?(!F||!F.readOnly)&&(fe._f.onBlur&&fe._f.onBlur(O),p&&p(0)):fe._f.onChange&&fe._f.onChange(O);const gn=ne(J,ei,Un),wt=!vn(gn)||Vt;if(!Un&&D.state.next({name:J,type:O.type,values:_t(u)}),zn)return(T.isValid||A.isValid)&&(e.mode==="onBlur"?Un&&j():Un||j()),wt&&D.state.next({name:J,...Vt?{}:gn});if(!Un&&Vt&&D.state.next({...t}),e.resolver){const{errors:oa}=await R([J]);if(ae([J]),ce(ei),de){const Wr=K0(t.errors,s,J),la=K0(oa,s,Wr.name||J);We=la.error,J=la.name,zt=vn(oa)}}else ae([J],!0),We=(await ug(fe,m.disabled,u,K,e.shouldUseNativeValidation))[J],ae([J]),ce(ei),de&&(We?zt=!1:(T.isValid||A.isValid)&&(zt=await M(s,!0)));de&&(fe._f.deps&&(!Array.isArray(fe._f.deps)||fe._f.deps.length>0)&&$e(fe._f.deps),w(J,zt,We,gn))}},Ue=(O,F)=>{if(ye(t.errors,F)&&O.focus)return O.focus(),1},$e=async(O,F={})=>{let J,de;const fe=Pn(O);if(e.resolver){const ce=await I(mt(O)?O:fe);J=vn(ce),de=O?!fe.some(be=>ye(ce,be)):J}else O?(de=(await Promise.all(fe.map(async ce=>{const be=ye(s,ce);return await M(be&&be._f?{[ce]:be}:be)}))).every(Boolean),!(!de&&!t.isValid)&&j()):de=J=await M(s);return D.state.next({...!$n(O)||(T.isValid||A.isValid)&&J!==t.isValid?{}:{name:O},...e.resolver||!O?{isValid:J}:{},errors:t.errors}),F.shouldFocus&&!de&&el(s,Ue,O?fe:m.mount),de},L=(O,F)=>{let J={...c.mount?u:o};return F&&(J=y1(F.dirtyFields?t.dirtyFields:t.touchedFields,J)),mt(O)?J:$n(O)?ye(J,O):O.map(de=>ye(J,de))},ie=(O,F)=>({invalid:!!ye((F||t).errors,O),isDirty:!!ye((F||t).dirtyFields,O),error:ye((F||t).errors,O),isValidating:!!ye(t.validatingFields,O),isTouched:!!ye((F||t).touchedFields,O)}),pe=O=>{O&&Pn(O).forEach(F=>Pt(t.errors,F)),D.state.next({errors:O?t.errors:{}})},ge=(O,F,J)=>{const de=(ye(s,O,{_f:{}})._f||{}).ref,fe=ye(t.errors,O)||{},{ref:ce,message:be,type:ze,...We}=fe;pt(t.errors,O,{...We,...F,ref:de}),D.state.next({name:O,errors:t.errors,isValid:!1}),J&&J.shouldFocus&&de&&de.focus&&de.focus()},De=(O,F)=>Di(O)?D.state.subscribe({next:J=>"values"in J&&O(C(void 0,F),J)}):C(O,F,!0),xe=O=>D.state.subscribe({next:F=>{$k(O.name,F.name,O.exact)&&Qk(F,O.formState||T,aa,O.reRenderRoot)&&O.callback({values:{...u},...t,...F,defaultValues:o})}}).unsubscribe,He=O=>(c.mount=!0,A={...A,...O.formState},xe({...O,formState:{...E,...O.formState}})),St=(O,F={})=>{for(const J of O?Pn(O):m.mount)m.mount.delete(J),m.array.delete(J),F.keepValue||(Pt(s,J),Pt(u,J)),!F.keepError&&Pt(t.errors,J),!F.keepDirty&&Pt(t.dirtyFields,J),!F.keepTouched&&Pt(t.touchedFields,J),!F.keepIsValidating&&Pt(t.validatingFields,J),!e.shouldUnregister&&!F.keepDefaultValue&&Pt(o,J);D.state.next({values:_t(u)}),D.state.next({...t,...F.keepDirty?{isDirty:x()}:{}}),!F.keepIsValid&&j()},ft=({disabled:O,name:F})=>{if(sr(O)&&c.mount||O||m.disabled.has(F)){const fe=m.disabled.has(F)!==!!O;O?m.disabled.add(F):m.disabled.delete(F),fe&&c.mount&&!c.action&&j()}},yi=(O,F={})=>{let J=ye(s,O);const de=sr(F.disabled)||sr(e.disabled);return pt(s,O,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:O}},name:O,mount:!0,...F}}),m.mount.add(O),J?ft({disabled:sr(F.disabled)?F.disabled:e.disabled,name:O}):W(O,!0,F.value),{...de?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:bu(F.min),max:bu(F.max),minLength:bu(F.minLength),maxLength:bu(F.maxLength),pattern:bu(F.pattern)}:{},name:O,onChange:Ae,onBlur:Ae,ref:fe=>{if(fe){yi(O,F),J=ye(s,O);const ce=mt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,be=jk(ce),ze=J._f.refs||[];if(be?ze.find(We=>We===ce):ce===J._f.ref)return;pt(s,O,{_f:{...J._f,...be?{refs:[...ze.filter(Tp),ce,...Array.isArray(ye(o,O))?[{}]:[]],ref:{type:ce.type,name:O}}:{ref:ce}}}),W(O,!1,void 0,ce)}else J=ye(s,O,{}),J._f&&(J._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(Mk(m.array,O)&&c.action)&&m.unMount.add(O)}}},ki=()=>e.shouldFocusError&&el(s,Ue,m.mount),Xr=O=>{sr(O)&&(D.state.next({disabled:O}),el(s,(F,J)=>{const de=ye(s,J);de&&(F.disabled=de._f.disabled||O,Array.isArray(de._f.refs)&&de._f.refs.forEach(fe=>{fe.disabled=de._f.disabled||O}))},0,!1))},yr=(O,F)=>async J=>{let de;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let fe=_t(u);if(D.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:be}=await R();ae(),t.errors=ce,fe=_t(be)}else await M(s);if(m.disabled.size)for(const ce of m.disabled)Pt(fe,ce);if(Pt(t.errors,"root"),vn(t.errors)){D.state.next({errors:{}});try{await O(fe,J)}catch(ce){de=ce}}else F&&await F({...t.errors},J),ki(),setTimeout(ki);if(D.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vn(t.errors)&&!de,submitCount:t.submitCount+1,errors:t.errors}),de)throw de},Zn=(O,F={})=>{ye(s,O)&&(mt(F.defaultValue)?he(O,_t(ye(o,O))):(he(O,F.defaultValue),pt(o,O,_t(F.defaultValue))),F.keepTouched||Pt(t.touchedFields,O),F.keepDirty||(Pt(t.dirtyFields,O),t.isDirty=F.defaultValue?x(O,_t(ye(o,O))):x()),F.keepError||(Pt(t.errors,O),T.isValid&&j()),D.state.next({...t}))},Jr=(O,F={})=>{const J=O?_t(O):o,de=_t(J),fe=vn(O),ce=fe?o:de;if(F.keepDefaultValues||(o=J),!F.keepValues){if(F.keepDirtyValues){const be=new Set([...m.mount,...Object.keys(qo(o,u))]);for(const ze of Array.from(be)){const We=ye(t.dirtyFields,ze),zt=ye(u,ze),ei=ye(ce,ze);We&&!mt(zt)?pt(ce,ze,zt):!We&&!mt(ei)&&he(ze,ei)}}else{if(vy&&mt(O))for(const be of m.mount){const ze=ye(s,be);if(ze&&ze._f){const We=Array.isArray(ze._f.refs)?ze._f.refs[0]:ze._f.ref;if(wf(We)){const zt=We.closest("form");if(zt){zt.reset();break}}}}if(F.keepFieldsRef)for(const be of m.mount)he(be,ye(ce,be));else s={}}u=e.shouldUnregister?F.keepDefaultValues?_t(o):{}:_t(ce),D.array.next({values:{...ce}}),D.state.next({values:{...ce}})}m={mount:F.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!T.isValid||!!F.keepIsValid||!!F.keepDirtyValues||!e.shouldUnregister&&!vn(ce),c.watch=!!e.shouldUnregister,c.keepIsValid=!!F.keepIsValid,c.action=!1,F.keepErrors||(t.errors={}),D.state.next({submitCount:F.keepSubmitCount?t.submitCount:0,isDirty:fe?!1:F.keepDirty?t.isDirty:!!(F.keepDefaultValues&&!Us(O,o)),isSubmitted:F.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:fe?{}:F.keepDirtyValues?F.keepDefaultValues&&u?qo(o,u):t.dirtyFields:F.keepDefaultValues&&O?qo(o,O):F.keepDirty?t.dirtyFields:{},touchedFields:F.keepTouched?t.touchedFields:{},errors:F.keepErrors?t.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Li=(O,F)=>Jr(Di(O)?O(u):O,{...e.resetOptions,...F}),sa=(O,F={})=>{const J=ye(s,O),de=J&&J._f;if(de){const fe=de.refs?de.refs[0]:de.ref;fe.focus&&setTimeout(()=>{fe.focus(),F.shouldSelect&&Di(fe.select)&&fe.select()})}},aa=O=>{t={...t,...O}},Ct={control:{register:yi,unregister:St,getFieldState:ie,handleSubmit:yr,setError:ge,_subscribe:xe,_runSchema:R,_updateIsValidating:ae,_focusError:ki,_getWatch:C,_getDirty:x,_setValid:j,_setFieldArray:Q,_setDisabledField:ft,_setErrors:re,_getFieldArray:Oe,_reset:Jr,_resetDefaultValues:()=>Di(e.defaultValues)&&e.defaultValues().then(O=>{Li(O,e.resetOptions),D.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Xr,_subjects:D,_proxyFormState:T,get _fields(){return s},get _formValues(){return u},get _state(){return c},set _state(O){c=O},get _defaultValues(){return o},get _names(){return m},set _names(O){m=O},get _formState(){return t},get _options(){return e},set _options(O){e={...e,...O}}},subscribe:He,trigger:$e,register:yi,handleSubmit:yr,watch:De,setValue:he,getValues:L,reset:Li,resetField:Zn,clearErrors:pe,unregister:St,setError:ge,setFocus:sa,getFieldState:ie};return{...Ct,formControl:Ct}}var Os=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const i=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(Math.random()*16+i)%16|0;return(e=="x"?t:t&3|8).toString(16)})},bp=(i,e,t={})=>t.shouldFocus||mt(t.shouldFocus)?t.focusName||`${i}.${mt(t.focusIndex)?e:t.focusIndex}.`:"",Ap=(i,e)=>[...i,...Pn(e)],Sp=i=>Array.isArray(i)?i.map(()=>{}):void 0;function wp(i,e,t){return[...i.slice(0,e),...Pn(t),...i.slice(e)]}var Rp=(i,e,t)=>Array.isArray(i)?(mt(i[t])&&(i[t]=void 0),i.splice(t,0,i.splice(e,1)[0]),i):[],Cp=(i,e)=>[...Pn(e),...Pn(i)];function eL(i,e){let t=0;const s=[...i];for(const o of e)s.splice(o-t,1),t++;return td(s).length?s:[]}var Ip=(i,e)=>mt(e)?[]:eL(i,Pn(e).sort((t,s)=>t-s)),Dp=(i,e,t)=>{[i[e],i[t]]=[i[t],i[e]]},Q0=(i,e,t)=>(i[e]=t,i);function S1(i){const e=Lk(),{control:t=e,name:s,keyName:o="id",shouldUnregister:u,rules:c}=i,[m,p]=tt.useState(t._getFieldArray(s)),g=tt.useRef(t._getFieldArray(s).map(Os)),E=tt.useRef(!1);t._names.array.add(s),tt.useMemo(()=>c&&m.length>=0&&t.register(s,c),[t,s,m.length,c]),g1(()=>t._subjects.array.subscribe({next:({values:re,name:W})=>{if(W===s||!W){const ne=ye(re,s);Array.isArray(ne)&&(p(ne),g.current=ne.map(Os))}}}).unsubscribe,[t,s]);const T=tt.useCallback(re=>{E.current=!0,t._setFieldArray(s,re)},[t,s]),A=(re,W)=>{const ne=Pn(_t(re)),w=Ap(t._getFieldArray(s),ne);t._names.focus=bp(s,w.length-1,W),g.current=Ap(g.current,ne.map(Os)),T(w),p(w),t._setFieldArray(s,w,Ap,{argA:Sp(re)})},D=(re,W)=>{const ne=Pn(_t(re)),w=Cp(t._getFieldArray(s),ne);t._names.focus=bp(s,0,W),g.current=Cp(g.current,ne.map(Os)),T(w),p(w),t._setFieldArray(s,w,Cp,{argA:Sp(re)})},K=re=>{const W=Ip(t._getFieldArray(s),re);g.current=Ip(g.current,re),T(W),p(W),!Array.isArray(ye(t._fields,s))&&pt(t._fields,s,void 0),t._setFieldArray(s,W,Ip,{argA:re})},G=(re,W,ne)=>{const w=Pn(_t(W)),R=wp(t._getFieldArray(s),re,w);t._names.focus=bp(s,re,ne),g.current=wp(g.current,re,w.map(Os)),T(R),p(R),t._setFieldArray(s,R,wp,{argA:re,argB:Sp(W)})},j=(re,W)=>{const ne=t._getFieldArray(s);Dp(ne,re,W),Dp(g.current,re,W),T(ne),p(ne),t._setFieldArray(s,ne,Dp,{argA:re,argB:W},!1)},ae=(re,W)=>{const ne=t._getFieldArray(s);Rp(ne,re,W),Rp(g.current,re,W),T(ne),p(ne),t._setFieldArray(s,ne,Rp,{argA:re,argB:W},!1)},Q=(re,W)=>{const ne=_t(W),w=Q0(t._getFieldArray(s),re,ne);g.current=[...w].map((R,I)=>!R||I===re?Os():g.current[I]),T(w),p([...w]),t._setFieldArray(s,w,Q0,{argA:re,argB:ne},!0,!1)},oe=re=>{const W=Pn(_t(re));g.current=W.map(Os),T([...W]),p([...W]),t._setFieldArray(s,[...W],ne=>ne,{},!0,!1)};return tt.useEffect(()=>{if(t._state.action=!1,lg(s,t._names)&&t._subjects.state.next({...t._formState}),E.current&&(!Ko(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!Ko(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([s]).then(re=>{t._updateIsValidating([s]);const W=ye(re.errors,s),ne=ye(t._formState.errors,s);(ne?!W&&ne.type||W&&(ne.type!==W.type||ne.message!==W.message):W&&W.type)&&(W?pt(t._formState.errors,s,W):Pt(t._formState.errors,s),t._subjects.state.next({errors:t._formState.errors}))});else{const re=ye(t._fields,s);re&&re._f&&!(Ko(t._options.reValidateMode).isOnSubmit&&Ko(t._options.mode).isOnSubmit)&&ug(re,t._names.disabled,t._formValues,t._options.criteriaMode===pi.all,t._options.shouldUseNativeValidation,!0).then(W=>!vn(W)&&t._subjects.state.next({errors:A1(t._formState.errors,W,s)}))}t._subjects.state.next({name:s,values:_t(t._formValues)}),t._names.focus&&el(t._fields,(re,W)=>{if(t._names.focus&&W.startsWith(t._names.focus)&&re.focus)return re.focus(),1}),t._names.focus="",t._setValid(),E.current=!1},[m,s,t]),tt.useEffect(()=>(!ye(t._formValues,s)&&t._setFieldArray(s),()=>{const re=(W,ne)=>{const w=ye(t._fields,W);w&&w._f&&(w._f.mount=ne)};t._options.shouldUnregister||u?t.unregister(s):re(s,!1)}),[s,t,o,u]),{swap:tt.useCallback(j,[T,s,t]),move:tt.useCallback(ae,[T,s,t]),prepend:tt.useCallback(D,[T,s,t]),append:tt.useCallback(A,[T,s,t]),remove:tt.useCallback(K,[T,s,t]),insert:tt.useCallback(G,[T,s,t]),update:tt.useCallback(Q,[T,s,t]),replace:tt.useCallback(oe,[T,s,t]),fields:tt.useMemo(()=>m.map((re,W)=>({...re,[o]:g.current[W]||Os()})),[m,o])}}function tL(i={}){const e=tt.useRef(void 0),t=tt.useRef(void 0),[s,o]=tt.useState({isDirty:!1,isValidating:!1,isLoading:Di(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,isReady:!1,defaultValues:Di(i.defaultValues)?void 0:i.defaultValues});if(!e.current)if(i.formControl)e.current={...i.formControl,formState:s},i.defaultValues&&!Di(i.defaultValues)&&i.formControl.reset(i.defaultValues,i.resetOptions);else{const{formControl:c,...m}=Zk(i);e.current={...m,formState:s}}const u=e.current.control;return u._options=i,g1(()=>{const c=u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0});return o(m=>({...m,isReady:!0})),u._formState.isReady=!0,c},[u]),tt.useEffect(()=>u._disableForm(i.disabled),[u,i.disabled]),tt.useEffect(()=>{i.mode&&(u._options.mode=i.mode),i.reValidateMode&&(u._options.reValidateMode=i.reValidateMode)},[u,i.mode,i.reValidateMode]),tt.useEffect(()=>{i.errors&&(u._setErrors(i.errors),u._focusError())},[u,i.errors]),tt.useEffect(()=>{i.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,i.shouldUnregister]),tt.useEffect(()=>{if(u._proxyFormState.isDirty){const c=u._getDirty();c!==s.isDirty&&u._subjects.state.next({isDirty:c})}},[u,s.isDirty]),tt.useEffect(()=>{var c;i.values&&!Us(i.values,t.current)?(u._reset(i.values,{keepFieldsRef:!0,...u._options.resetOptions}),!((c=u._options.resetOptions)===null||c===void 0)&&c.keepIsValid||u._setValid(),t.current=i.values,o(m=>({...m}))):u._resetDefaultValues()},[u,i.values]),tt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),e.current.formState=tt.useMemo(()=>Pk(s,u),[u,s]),e.current}function $0(){const{id:i}=QR(),e=If(),[t,s]=U.useState(!1),[o,u]=U.useState(!1),{register:c,control:m,handleSubmit:p,reset:g,watch:E,setValue:T,formState:{errors:A}}=tL({defaultValues:{name:"",category:"dresses",subcategory:"poshak",description:"",price:"",variants:[{color:"Default",image:"",sizes:[{size:"",price:"",stock:1}]}]}}),{fields:D,append:K,remove:G}=S1({control:m,name:"variants"}),j=E("variants");U.useEffect(()=>{i&&ae()},[i]);const ae=async()=>{s(!0);try{const W=Yu(Zo,"products",i),ne=await nM(W);if(ne.exists()){const w=ne.data();g(w)}else kn.error("Product not found"),e("/")}catch(W){console.error(W),kn.error("Error loading product")}finally{s(!1)}},Q=async W=>{if(!W)return null;const ne=g4(b4,`products/${Date.now()}_${W.name}`);return await m4(ne,W),await p4(ne)},oe=async(W,ne)=>{if(ne){u(!0);try{const w=await Q(ne);T(`variants.${W}.image`,w),kn.success("Image uploaded")}catch(w){console.error(w),kn.error("Upload failed")}finally{u(!1)}}},re=async W=>{s(!0);try{const ne={...W,price:Number(W.price),updatedAt:new Date,variants:W.variants.map(w=>({...w,sizes:w.sizes.map(R=>({...R,price:Number(R.price),stock:Number(R.stock)}))}))};ne.colors=ne.variants.map(w=>w.color),ne.sizes=[...new Set(ne.variants.flatMap(w=>w.sizes.map(R=>R.size)))],ne.image=ne.variants[0]?.image||"",ne.colorImages={},ne.variants.forEach(w=>{ne.colorImages[w.color]=w.image}),i?(await jS(Yu(Zo,"products",i),ne),kn.success("Product updated successfully")):(ne.createdAt=new Date,ne.inStock=!0,await sM(OS(Zo,"products"),ne),kn.success("Product created successfully")),e("/")}catch(ne){console.error(ne),kn.error("Error saving product")}finally{s(!1)}};return t&&i?ee.jsx("div",{className:"container",children:ee.jsx("div",{className:"loading-spinner"})}):ee.jsxs("div",{className:"container",children:[ee.jsxs("div",{className:"header",children:[ee.jsx("h1",{children:i?"Edit Product":"Add New Product"}),ee.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/"),children:[ee.jsx(_k,{size:20})," Back"]})]}),ee.jsxs("form",{onSubmit:p(re),className:"card",style:{maxWidth:"100%"},children:[ee.jsxs("div",{className:"grid-2",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[ee.jsxs("div",{className:"form-group",children:[ee.jsx("label",{className:"form-label",children:"Product Name"}),ee.jsx("input",{...c("name",{required:!0}),className:"form-input",placeholder:"Product Name"}),A.name&&ee.jsx("span",{style:{color:"red"},children:"Required"})]}),ee.jsxs("div",{className:"form-group",children:[ee.jsx("label",{className:"form-label",children:"Category"}),ee.jsxs("select",{...c("category"),className:"form-input",children:[ee.jsx("option",{value:"dresses",children:"Dresses (Poshak)"}),ee.jsx("option",{value:"mukut",children:"Mukut"}),ee.jsx("option",{value:"mala",children:"Mala"}),ee.jsx("option",{value:"bansuri",children:"Bansuri"}),ee.jsx("option",{value:"combo",children:"Combo"})]})]})]}),ee.jsxs("div",{className:"form-group",children:[ee.jsx("label",{className:"form-label",children:"Description"}),ee.jsx("textarea",{...c("description"),className:"form-input",rows:"3"})]}),ee.jsxs("div",{className:"form-group",children:[ee.jsx("label",{className:"form-label",children:"Base Price (Display Price)"}),ee.jsx("input",{type:"number",...c("price",{required:!0}),className:"form-input",placeholder:"0"})]}),ee.jsx("div",{style:{borderTop:"1px solid #eee",margin:"2rem 0"}}),ee.jsx("h3",{children:"Variants (Colors & Sizes)"}),ee.jsxs("div",{style:{marginTop:"1rem"},children:[D.map((W,ne)=>ee.jsxs("div",{style:{background:"#f9fafb",padding:"1.5rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid #eee"},children:[ee.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[ee.jsxs("h4",{style:{margin:0},children:["Variant #",ne+1]}),ee.jsxs("button",{type:"button",className:"btn btn-danger",onClick:()=>G(ne),children:[ee.jsx(_y,{size:16})," Remove Variant"]})]}),ee.jsxs("div",{className:"grid-2",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[ee.jsxs("div",{className:"form-group",children:[ee.jsx("label",{className:"form-label",children:"Color Name"}),ee.jsx("input",{...c(`variants.${ne}.color`,{required:!0}),className:"form-input",placeholder:"e.g. Red, Blue, Design 1"})]}),ee.jsxs("div",{className:"form-group",children:[ee.jsx("label",{className:"form-label",children:"Variant Image"}),ee.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[ee.jsx("input",{type:"text",...c(`variants.${ne}.image`),className:"form-input",placeholder:"Image URL",readOnly:!0}),ee.jsxs("label",{className:"btn btn-primary",style:{cursor:"pointer",whiteSpace:"nowrap"},children:[o?"...":ee.jsx(Nk,{size:16}),ee.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:w=>oe(ne,w.target.files[0])})]})]}),j[ne]?.image&&ee.jsx("img",{src:j[ne].image,alt:"Preview",style:{height:"60px",marginTop:"0.5rem",borderRadius:"4px"}})]})]}),ee.jsx("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",border:"1px solid #e5e7eb"},children:ee.jsx(nL,{nestIndex:ne,control:m,register:c})})]},W.id)),ee.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>K({color:"",image:"",sizes:[{size:"",price:"",stock:1}]}),children:[ee.jsx(d1,{size:20})," Add Another Color Variant"]})]}),ee.jsx("div",{style:{marginTop:"2rem"},children:ee.jsxs("button",{type:"submit",className:"btn btn-primary btn-full",disabled:t||o,children:[ee.jsx(Ak,{size:20})," ",t?"Saving...":"Save Product"]})})]})]})}function nL({nestIndex:i,control:e,register:t}){const{fields:s,append:o,remove:u}=S1({control:e,name:`variants.${i}.sizes`});return ee.jsxs(ee.Fragment,{children:[ee.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[ee.jsx("label",{className:"form-label",style:{fontSize:"0.9rem",marginBottom:0},children:"Sizes & Stock"}),ee.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.75rem",padding:"0.2rem 0.5rem"},onClick:()=>o({size:"",price:"",stock:1}),children:"+ size"})]}),s.map((c,m)=>ee.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[ee.jsx("input",{...t(`variants.${i}.sizes.${m}.size`,{required:!0}),placeholder:"Size",className:"form-input",style:{flex:1}}),ee.jsx("input",{type:"number",...t(`variants.${i}.sizes.${m}.price`,{required:!0}),placeholder:" Price",className:"form-input",style:{flex:1}}),ee.jsx("input",{type:"number",...t(`variants.${i}.sizes.${m}.stock`,{required:!0}),placeholder:"Qty",className:"form-input",style:{width:"80px"}}),ee.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>u(m),style:{padding:"0.5rem"},children:ee.jsx(_y,{size:14})})]},c.id))]})}const Np=({children:i})=>{const[e,t]=U.useState(null),[s,o]=U.useState(!0);return U.useEffect(()=>{const u=Jb(gy,c=>{t(c),o(!1)});return()=>u()},[]),s?ee.jsx("div",{className:"auth-container",children:ee.jsx("div",{className:"loading-spinner"})}):e?i:ee.jsx(cb,{to:"/login",replace:!0})},iL=({children:i})=>{const[e,t]=U.useState(null),[s,o]=U.useState(!0);return U.useEffect(()=>{const u=Jb(gy,c=>{t(c),o(!1)});return()=>u()},[]),s?null:e?ee.jsx(cb,{to:"/",replace:!0}):i};function rL(){return ee.jsxs(VC,{children:[ee.jsx(ck,{position:"top-right"}),ee.jsxs(uC,{children:[ee.jsx(Au,{path:"/login",element:ee.jsx(iL,{children:ee.jsx(hk,{})})}),ee.jsx(Au,{path:"/",element:ee.jsx(Np,{children:ee.jsx(Ok,{})})}),ee.jsx(Au,{path:"/add-product",element:ee.jsx(Np,{children:ee.jsx($0,{})})}),ee.jsx(Au,{path:"/edit-product/:id",element:ee.jsx(Np,{children:ee.jsx($0,{})})})]})]})}hR.createRoot(document.getElementById("root")).render(ee.jsx(U.StrictMode,{children:ee.jsx(rL,{})}));
